{"version":3,"file":"js/50.a5eee58a.js","mappings":"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","sources":["webpack://amiyabot-console/./node_modules/escape-html/index.js","webpack://amiyabot-console/../../../../../packages/components/link/src/link.ts","webpack://amiyabot-console/../../../../../packages/components/link/src/link.vue","webpack://amiyabot-console/../../../../../packages/components/link/index.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/util.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/store/expand.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/store/current.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/store/tree.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/store/watcher.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/store/index.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/store/helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-layout.ts","webpack://amiyabot-console/../../../../../packages/components/checkbox/src/checkbox.ts","webpack://amiyabot-console/../../../../../packages/components/checkbox/src/checkbox.vue","webpack://amiyabot-console/../../../../../packages/components/checkbox/src/checkbox-button.vue","webpack://amiyabot-console/../../../../../packages/components/checkbox/src/checkbox-group.vue","webpack://amiyabot-console/../../../../../packages/components/checkbox/index.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/filter-panel.vue","webpack://amiyabot-console/../../../../../packages/components/table/src/layout-observer.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/tokens.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-header/event-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-header/style.helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-header/utils-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-header/index.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-body/events-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-body/styles-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-body/render-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-body/defaults.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-body/index.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/h-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-footer/mapState-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-footer/style-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-footer/index.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table/utils-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table/style-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table/defaults.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/composables/use-scrollbar.ts","webpack://amiyabot-console/../src/UserAgent_DEPRECATED.js","webpack://amiyabot-console/../src/isEventSupported.js","webpack://amiyabot-console/../src/ExecutionEnvironment.js","webpack://amiyabot-console/../src/normalizeWheel.js","webpack://amiyabot-console/../../../../../packages/directives/mousewheel/index.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table.vue","webpack://amiyabot-console/../../../../../packages/components/table/src/config.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-column/watcher-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-column/render-helper.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-column/defaults.ts","webpack://amiyabot-console/../../../../../packages/components/table/src/table-column/index.ts","webpack://amiyabot-console/../../../../../packages/components/table/index.ts"],"sourcesContent":["/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","import { buildProps, iconPropType } from '@element-plus/utils'\nimport type { ExtractPropTypes } from 'vue'\nimport type Link from './link.vue'\n\nexport const linkProps = buildProps({\n  type: {\n    type: String,\n    values: ['primary', 'success', 'warning', 'info', 'danger', 'default'],\n    default: 'default',\n  },\n  underline: {\n    type: Boolean,\n    default: true,\n  },\n  disabled: { type: Boolean, default: false },\n  href: { type: String, default: '' },\n  icon: {\n    type: iconPropType,\n    default: '',\n  },\n} as const)\nexport type LinkProps = ExtractPropTypes<typeof linkProps>\n\nexport const linkEmits = {\n  click: (evt: MouseEvent) => evt instanceof MouseEvent,\n}\nexport type LinkEmits = typeof linkEmits\n\nexport type LinkInstance = InstanceType<typeof Link>\n","<template>\n  <a\n    :class=\"[\n      ns.b(),\n      ns.m(type),\n      ns.is('disabled', disabled),\n      ns.is('underline', underline && !disabled),\n    ]\"\n    :href=\"disabled || !href ? undefined : href\"\n    @click=\"handleClick\"\n  >\n    <el-icon v-if=\"icon\"><component :is=\"icon\" /></el-icon>\n    <span v-if=\"$slots.default\" :class=\"ns.e('inner')\">\n      <slot />\n    </span>\n\n    <slot v-if=\"$slots.icon\" name=\"icon\" />\n  </a>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ElIcon } from '@element-plus/components/icon'\nimport { useNamespace } from '@element-plus/hooks'\nimport { linkEmits, linkProps } from './link'\n\ndefineOptions({\n  name: 'ElLink',\n})\nconst props = defineProps(linkProps)\nconst emit = defineEmits(linkEmits)\n\nconst ns = useNamespace('link')\n\nfunction handleClick(event: MouseEvent) {\n  if (!props.disabled) emit('click', event)\n}\n</script>\n","import { withInstall } from '@element-plus/utils'\n\nimport Link from './src/link.vue'\n\nexport const ElLink = withInstall(Link)\nexport default ElLink\n\nexport * from './src/link'\n","// @ts-nocheck\nimport { createPopper } from '@popperjs/core'\nimport { get } from 'lodash-unified'\nimport escapeHtml from 'escape-html'\nimport { hasOwn } from '@element-plus/utils'\nimport { useZIndex } from '@element-plus/hooks'\nimport type {\n  IPopperOptions,\n  PopperInstance,\n} from '@element-plus/components/popper'\nimport type { Nullable } from '@element-plus/utils'\nimport type { TableColumnCtx } from './table-column/defaults'\n\nexport const getCell = function (event: Event) {\n  return (event.target as HTMLElement)?.closest('td')\n}\n\nconst isObject = function (obj: unknown): boolean {\n  return obj !== null && typeof obj === 'object'\n}\n\nexport const orderBy = function <T>(\n  array: T[],\n  sortKey: string,\n  reverse: string | number,\n  sortMethod,\n  sortBy: string | (string | ((a: T, b: T, array?: T[]) => number))[]\n) {\n  if (\n    !sortKey &&\n    !sortMethod &&\n    (!sortBy || (Array.isArray(sortBy) && !sortBy.length))\n  ) {\n    return array\n  }\n  if (typeof reverse === 'string') {\n    reverse = reverse === 'descending' ? -1 : 1\n  } else {\n    reverse = reverse && reverse < 0 ? -1 : 1\n  }\n  const getKey = sortMethod\n    ? null\n    : function (value, index) {\n        if (sortBy) {\n          if (!Array.isArray(sortBy)) {\n            sortBy = [sortBy]\n          }\n          return sortBy.map((by) => {\n            if (typeof by === 'string') {\n              return get(value, by)\n            } else {\n              return by(value, index, array)\n            }\n          })\n        }\n        if (sortKey !== '$key') {\n          if (isObject(value) && '$value' in value) value = value.$value\n        }\n        return [isObject(value) ? get(value, sortKey) : value]\n      }\n  const compare = function (a, b) {\n    if (sortMethod) {\n      return sortMethod(a.value, b.value)\n    }\n    for (let i = 0, len = a.key.length; i < len; i++) {\n      if (a.key[i] < b.key[i]) {\n        return -1\n      }\n      if (a.key[i] > b.key[i]) {\n        return 1\n      }\n    }\n    return 0\n  }\n  return array\n    .map((value, index) => {\n      return {\n        value,\n        index,\n        key: getKey ? getKey(value, index) : null,\n      }\n    })\n    .sort((a, b) => {\n      let order = compare(a, b)\n      if (!order) {\n        // make stable https://en.wikipedia.org/wiki/Sorting_algorithm#Stability\n        order = a.index - b.index\n      }\n      return order * +reverse\n    })\n    .map((item) => item.value)\n}\n\nexport const getColumnById = function <T>(\n  table: {\n    columns: TableColumnCtx<T>[]\n  },\n  columnId: string\n): null | TableColumnCtx<T> {\n  let column = null\n  table.columns.forEach((item) => {\n    if (item.id === columnId) {\n      column = item\n    }\n  })\n  return column\n}\n\nexport const getColumnByKey = function <T>(\n  table: {\n    columns: TableColumnCtx<T>[]\n  },\n  columnKey: string\n): TableColumnCtx<T> {\n  let column = null\n  for (let i = 0; i < table.columns.length; i++) {\n    const item = table.columns[i]\n    if (item.columnKey === columnKey) {\n      column = item\n      break\n    }\n  }\n  return column\n}\n\nexport const getColumnByCell = function <T>(\n  table: {\n    columns: TableColumnCtx<T>[]\n  },\n  cell: HTMLElement,\n  namespace: string\n): null | TableColumnCtx<T> {\n  const matches = (cell.className || '').match(\n    new RegExp(`${namespace}-table_[^\\\\s]+`, 'gm')\n  )\n  if (matches) {\n    return getColumnById(table, matches[0])\n  }\n  return null\n}\n\nexport const getRowIdentity = <T>(\n  row: T,\n  rowKey: string | ((row: T) => any)\n): string => {\n  if (!row) throw new Error('Row is required when get row identity')\n  if (typeof rowKey === 'string') {\n    if (!rowKey.includes('.')) {\n      return `${row[rowKey]}`\n    }\n    const key = rowKey.split('.')\n    let current = row\n    for (const element of key) {\n      current = current[element]\n    }\n    return `${current}`\n  } else if (typeof rowKey === 'function') {\n    return rowKey.call(null, row)\n  }\n}\n\nexport const getKeysMap = function <T>(\n  array: T[],\n  rowKey: string\n): Record<string, { row: T; index: number }> {\n  const arrayMap = {}\n  ;(array || []).forEach((row, index) => {\n    arrayMap[getRowIdentity(row, rowKey)] = { row, index }\n  })\n  return arrayMap\n}\n\nexport function mergeOptions<T, K>(defaults: T, config: K): T & K {\n  const options = {} as T & K\n  let key\n  for (key in defaults) {\n    options[key] = defaults[key]\n  }\n  for (key in config) {\n    if (hasOwn(config as unknown as Record<string, any>, key)) {\n      const value = config[key]\n      if (typeof value !== 'undefined') {\n        options[key] = value\n      }\n    }\n  }\n  return options\n}\n\nexport function parseWidth(width: number | string): number | string {\n  if (width === '') return width\n  if (width !== undefined) {\n    width = Number.parseInt(width as string, 10)\n    if (Number.isNaN(width)) {\n      width = ''\n    }\n  }\n  return width\n}\n\nexport function parseMinWidth(minWidth: number | string): number | string {\n  if (minWidth === '') return minWidth\n  if (minWidth !== undefined) {\n    minWidth = parseWidth(minWidth)\n    if (Number.isNaN(minWidth)) {\n      minWidth = 80\n    }\n  }\n  return minWidth\n}\n\nexport function parseHeight(height: number | string) {\n  if (typeof height === 'number') {\n    return height\n  }\n  if (typeof height === 'string') {\n    if (/^\\d+(?:px)?$/.test(height)) {\n      return Number.parseInt(height, 10)\n    } else {\n      return height\n    }\n  }\n  return null\n}\n\n// https://github.com/reduxjs/redux/blob/master/src/compose.js\nexport function compose(...funcs) {\n  if (funcs.length === 0) {\n    return (arg) => arg\n  }\n  if (funcs.length === 1) {\n    return funcs[0]\n  }\n  return funcs.reduce(\n    (a, b) =>\n      (...args) =>\n        a(b(...args))\n  )\n}\n\nexport function toggleRowStatus<T>(\n  statusArr: T[],\n  row: T,\n  newVal: boolean\n): boolean {\n  let changed = false\n  const index = statusArr.indexOf(row)\n  const included = index !== -1\n\n  const addRow = () => {\n    statusArr.push(row)\n    changed = true\n  }\n  const removeRow = () => {\n    statusArr.splice(index, 1)\n    changed = true\n  }\n\n  if (typeof newVal === 'boolean') {\n    if (newVal && !included) {\n      addRow()\n    } else if (!newVal && included) {\n      removeRow()\n    }\n  } else {\n    if (included) {\n      removeRow()\n    } else {\n      addRow()\n    }\n  }\n  return changed\n}\n\nexport function walkTreeNode(\n  root,\n  cb,\n  childrenKey = 'children',\n  lazyKey = 'hasChildren'\n) {\n  const isNil = (array) => !(Array.isArray(array) && array.length)\n\n  function _walker(parent, children, level) {\n    cb(parent, children, level)\n    children.forEach((item) => {\n      if (item[lazyKey]) {\n        cb(item, null, level + 1)\n        return\n      }\n      const children = item[childrenKey]\n      if (!isNil(children)) {\n        _walker(item, children, level + 1)\n      }\n    })\n  }\n\n  root.forEach((item) => {\n    if (item[lazyKey]) {\n      cb(item, null, 0)\n      return\n    }\n    const children = item[childrenKey]\n    if (!isNil(children)) {\n      _walker(item, children, 0)\n    }\n  })\n}\n\nexport let removePopper\n\nexport function createTablePopper(\n  parentNode: HTMLElement | undefined,\n  trigger: HTMLElement,\n  popperContent: string,\n  popperOptions: Partial<IPopperOptions>,\n  tooltipEffect: string\n) {\n  const { nextZIndex } = useZIndex()\n  const ns = parentNode?.dataset.prefix\n  const scrollContainer = parentNode?.querySelector(`.${ns}-scrollbar__wrap`)\n  function renderContent(): HTMLDivElement {\n    const isLight = tooltipEffect === 'light'\n    const content = document.createElement('div')\n    content.className = `${ns}-popper ${isLight ? 'is-light' : 'is-dark'}`\n    popperContent = escapeHtml(popperContent)\n    content.innerHTML = popperContent\n    content.style.zIndex = String(nextZIndex())\n    // Avoid side effects caused by append to body\n    parentNode?.appendChild(content)\n    return content\n  }\n  function renderArrow(): HTMLDivElement {\n    const arrow = document.createElement('div')\n    arrow.className = `${ns}-popper__arrow`\n    return arrow\n  }\n  function showPopper() {\n    popperInstance && popperInstance.update()\n  }\n  removePopper?.()\n  removePopper = () => {\n    try {\n      popperInstance && popperInstance.destroy()\n      content && parentNode?.removeChild(content)\n      trigger.removeEventListener('mouseenter', showPopper)\n      trigger.removeEventListener('mouseleave', removePopper)\n      scrollContainer?.removeEventListener('scroll', removePopper)\n      removePopper = undefined\n    } catch {}\n  }\n  let popperInstance: Nullable<PopperInstance> = null\n  const content = renderContent()\n  const arrow = renderArrow()\n  content.appendChild(arrow)\n  popperInstance = createPopper(trigger, content, {\n    strategy: 'absolute',\n    modifiers: [\n      {\n        name: 'offset',\n        options: {\n          offset: [0, 8],\n        },\n      },\n      {\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 10,\n        },\n      },\n    ],\n    ...popperOptions,\n  })\n  trigger.addEventListener('mouseenter', showPopper)\n  trigger.addEventListener('mouseleave', removePopper)\n  scrollContainer?.addEventListener('scroll', removePopper)\n  return popperInstance\n}\n\nexport const isFixedColumn = <T>(\n  index: number,\n  fixed: string | boolean,\n  store: any,\n  realColumns?: TableColumnCtx<T>[]\n) => {\n  let start = 0\n  let after = index\n  if (realColumns) {\n    if (realColumns[index].colSpan > 1) {\n      // fixed column not supported in grouped header\n      return {}\n    }\n    // handle group\n    for (let i = 0; i < index; i++) {\n      start += realColumns[i].colSpan\n    }\n    after = start + realColumns[index].colSpan - 1\n  } else {\n    start = index\n  }\n  let fixedLayout\n  const columns = store.states.columns\n  switch (fixed) {\n    case 'left':\n      if (after < store.states.fixedLeafColumnsLength.value) {\n        fixedLayout = 'left'\n      }\n      break\n    case 'right':\n      if (\n        start >=\n        columns.value.length - store.states.rightFixedLeafColumnsLength.value\n      ) {\n        fixedLayout = 'right'\n      }\n      break\n    default:\n      if (after < store.states.fixedLeafColumnsLength.value) {\n        fixedLayout = 'left'\n      } else if (\n        start >=\n        columns.value.length - store.states.rightFixedLeafColumnsLength.value\n      ) {\n        fixedLayout = 'right'\n      }\n  }\n  return fixedLayout\n    ? {\n        direction: fixedLayout,\n        start,\n        after,\n      }\n    : {}\n}\n\nexport const getFixedColumnsClass = <T>(\n  namespace: string,\n  index: number,\n  fixed: string | boolean,\n  store: any,\n  realColumns?: TableColumnCtx<T>[]\n) => {\n  const classes: string[] = []\n  const { direction, start } = isFixedColumn(index, fixed, store, realColumns)\n  if (direction) {\n    const isLeft = direction === 'left'\n    classes.push(`${namespace}-fixed-column--${direction}`)\n    if (isLeft && start === store.states.fixedLeafColumnsLength.value - 1) {\n      classes.push('is-last-column')\n    } else if (\n      !isLeft &&\n      start ===\n        store.states.columns.value.length -\n          store.states.rightFixedLeafColumnsLength.value\n    ) {\n      classes.push('is-first-column')\n    }\n  }\n  return classes\n}\n\nfunction getOffset<T>(offset: number, column: TableColumnCtx<T>) {\n  return (\n    offset +\n    (column.realWidth === null || Number.isNaN(column.realWidth)\n      ? Number(column.width)\n      : column.realWidth)\n  )\n}\n\nexport const getFixedColumnOffset = <T>(\n  index: number,\n  fixed: string | boolean,\n  store: any,\n  realColumns?: TableColumnCtx<T>[]\n) => {\n  const { direction, start = 0 } = isFixedColumn(\n    index,\n    fixed,\n    store,\n    realColumns\n  )\n  if (!direction) {\n    return\n  }\n  const styles: any = {}\n  const isLeft = direction === 'left'\n  const columns = store.states.columns.value\n  if (isLeft) {\n    styles.left = columns.slice(0, index).reduce(getOffset, 0)\n  } else {\n    styles.right = columns\n      .slice(start + 1)\n      .reverse()\n      .reduce(getOffset, 0)\n  }\n  return styles\n}\n\nexport const ensurePosition = (style, key: string) => {\n  if (!style) return\n  if (!Number.isNaN(style[key])) {\n    style[key] = `${style[key]}px`\n  }\n}\n","// @ts-nocheck\nimport { getCurrentInstance, ref } from 'vue'\nimport { getKeysMap, getRowIdentity, toggleRowStatus } from '../util'\n\nimport type { Ref } from 'vue'\nimport type { WatcherPropsData } from '.'\nimport type { Table } from '../table/defaults'\n\nfunction useExpand<T>(watcherData: WatcherPropsData<T>) {\n  const instance = getCurrentInstance() as Table<T>\n  const defaultExpandAll = ref(false)\n  const expandRows: Ref<T[]> = ref([])\n  const updateExpandRows = () => {\n    const data = watcherData.data.value || []\n    const rowKey = watcherData.rowKey.value\n    if (defaultExpandAll.value) {\n      expandRows.value = data.slice()\n    } else if (rowKey) {\n      // TODO：这里的代码可以优化\n      const expandRowsMap = getKeysMap(expandRows.value, rowKey)\n      expandRows.value = data.reduce((prev: T[], row: T) => {\n        const rowId = getRowIdentity(row, rowKey)\n        const rowInfo = expandRowsMap[rowId]\n        if (rowInfo) {\n          prev.push(row)\n        }\n        return prev\n      }, [])\n    } else {\n      expandRows.value = []\n    }\n  }\n\n  const toggleRowExpansion = (row: T, expanded?: boolean) => {\n    const changed = toggleRowStatus(expandRows.value, row, expanded)\n    if (changed) {\n      instance.emit('expand-change', row, expandRows.value.slice())\n    }\n  }\n\n  const setExpandRowKeys = (rowKeys: string[]) => {\n    instance.store.assertRowKey()\n    // TODO：这里的代码可以优化\n    const data = watcherData.data.value || []\n    const rowKey = watcherData.rowKey.value\n    const keysMap = getKeysMap(data, rowKey)\n    expandRows.value = rowKeys.reduce((prev: T[], cur: string) => {\n      const info = keysMap[cur]\n      if (info) {\n        prev.push(info.row)\n      }\n      return prev\n    }, [])\n  }\n\n  const isRowExpanded = (row: T): boolean => {\n    const rowKey = watcherData.rowKey.value\n    if (rowKey) {\n      const expandMap = getKeysMap(expandRows.value, rowKey)\n      return !!expandMap[getRowIdentity(row, rowKey)]\n    }\n    return expandRows.value.includes(row)\n  }\n  return {\n    updateExpandRows,\n    toggleRowExpansion,\n    setExpandRowKeys,\n    isRowExpanded,\n    states: {\n      expandRows,\n      defaultExpandAll,\n    },\n  }\n}\n\nexport default useExpand\n","// @ts-nocheck\nimport { getCurrentInstance, ref, unref } from 'vue'\nimport { getRowIdentity } from '../util'\n\nimport type { Ref } from 'vue'\nimport type { Table } from '../table/defaults'\nimport type { WatcherPropsData } from '.'\n\nfunction useCurrent<T>(watcherData: WatcherPropsData<T>) {\n  const instance = getCurrentInstance() as Table<T>\n  const _currentRowKey = ref<string>(null)\n  const currentRow: Ref<T> = ref(null)\n\n  const setCurrentRowKey = (key: string) => {\n    instance.store.assertRowKey()\n    _currentRowKey.value = key\n    setCurrentRowByKey(key)\n  }\n\n  const restoreCurrentRowKey = () => {\n    _currentRowKey.value = null\n  }\n\n  const setCurrentRowByKey = (key: string) => {\n    const { data, rowKey } = watcherData\n    let _currentRow = null\n    if (rowKey.value) {\n      _currentRow = (unref(data) || []).find(\n        (item) => getRowIdentity(item, rowKey.value) === key\n      )\n    }\n    currentRow.value = _currentRow\n    instance.emit('current-change', currentRow.value, null)\n  }\n\n  const updateCurrentRow = (_currentRow: T) => {\n    const oldCurrentRow = currentRow.value\n    if (_currentRow && _currentRow !== oldCurrentRow) {\n      currentRow.value = _currentRow\n      instance.emit('current-change', currentRow.value, oldCurrentRow)\n      return\n    }\n    if (!_currentRow && oldCurrentRow) {\n      currentRow.value = null\n      instance.emit('current-change', null, oldCurrentRow)\n    }\n  }\n\n  const updateCurrentRowData = () => {\n    const rowKey = watcherData.rowKey.value\n    // data 为 null 时，解构时的默认值会被忽略\n    const data = watcherData.data.value || []\n    const oldCurrentRow = currentRow.value\n    // 当 currentRow 不在 data 中时尝试更新数据\n    if (!data.includes(oldCurrentRow) && oldCurrentRow) {\n      if (rowKey) {\n        const currentRowKey = getRowIdentity(oldCurrentRow, rowKey)\n        setCurrentRowByKey(currentRowKey)\n      } else {\n        currentRow.value = null\n      }\n      if (currentRow.value === null) {\n        instance.emit('current-change', null, oldCurrentRow)\n      }\n    } else if (_currentRowKey.value) {\n      // 把初始时下设置的 rowKey 转化成 rowData\n      setCurrentRowByKey(_currentRowKey.value)\n      restoreCurrentRowKey()\n    }\n  }\n\n  return {\n    setCurrentRowKey,\n    restoreCurrentRowKey,\n    setCurrentRowByKey,\n    updateCurrentRow,\n    updateCurrentRowData,\n    states: {\n      _currentRowKey,\n      currentRow,\n    },\n  }\n}\n\nexport default useCurrent\n","// @ts-nocheck\nimport { computed, getCurrentInstance, ref, unref, watch } from 'vue'\nimport { getRowIdentity, walkTreeNode } from '../util'\n\nimport type { WatcherPropsData } from '.'\nimport type { Table, TableProps } from '../table/defaults'\n\nfunction useTree<T>(watcherData: WatcherPropsData<T>) {\n  const expandRowKeys = ref<string[]>([])\n  const treeData = ref<unknown>({})\n  const indent = ref(16)\n  const lazy = ref(false)\n  const lazyTreeNodeMap = ref({})\n  const lazyColumnIdentifier = ref('hasChildren')\n  const childrenColumnName = ref('children')\n  const instance = getCurrentInstance() as Table<T>\n  const normalizedData = computed(() => {\n    if (!watcherData.rowKey.value) return {}\n    const data = watcherData.data.value || []\n    return normalize(data)\n  })\n  const normalizedLazyNode = computed(() => {\n    const rowKey = watcherData.rowKey.value\n    const keys = Object.keys(lazyTreeNodeMap.value)\n    const res = {}\n    if (!keys.length) return res\n    keys.forEach((key) => {\n      if (lazyTreeNodeMap.value[key].length) {\n        const item = { children: [] }\n        lazyTreeNodeMap.value[key].forEach((row) => {\n          const currentRowKey = getRowIdentity(row, rowKey)\n          item.children.push(currentRowKey)\n          if (row[lazyColumnIdentifier.value] && !res[currentRowKey]) {\n            res[currentRowKey] = { children: [] }\n          }\n        })\n        res[key] = item\n      }\n    })\n    return res\n  })\n\n  const normalize = (data) => {\n    const rowKey = watcherData.rowKey.value\n    const res = {}\n    walkTreeNode(\n      data,\n      (parent, children, level) => {\n        const parentId = getRowIdentity(parent, rowKey)\n        if (Array.isArray(children)) {\n          res[parentId] = {\n            children: children.map((row) => getRowIdentity(row, rowKey)),\n            level,\n          }\n        } else if (lazy.value) {\n          // 当 children 不存在且 lazy 为 true，该节点即为懒加载的节点\n          res[parentId] = {\n            children: [],\n            lazy: true,\n            level,\n          }\n        }\n      },\n      childrenColumnName.value,\n      lazyColumnIdentifier.value\n    )\n    return res\n  }\n\n  const updateTreeData = (\n    ifChangeExpandRowKeys = false,\n    ifExpandAll = instance.store?.states.defaultExpandAll.value\n  ) => {\n    const nested = normalizedData.value\n    const normalizedLazyNode_ = normalizedLazyNode.value\n    const keys = Object.keys(nested)\n    const newTreeData = {}\n    if (keys.length) {\n      const oldTreeData = unref(treeData)\n      const rootLazyRowKeys = []\n      const getExpanded = (oldValue, key) => {\n        if (ifChangeExpandRowKeys) {\n          if (expandRowKeys.value) {\n            return ifExpandAll || expandRowKeys.value.includes(key)\n          } else {\n            return !!(ifExpandAll || oldValue?.expanded)\n          }\n        } else {\n          const included =\n            ifExpandAll ||\n            (expandRowKeys.value && expandRowKeys.value.includes(key))\n          return !!(oldValue?.expanded || included)\n        }\n      }\n      // 合并 expanded 与 display，确保数据刷新后，状态不变\n      keys.forEach((key) => {\n        const oldValue = oldTreeData[key]\n        const newValue = { ...nested[key] }\n        newValue.expanded = getExpanded(oldValue, key)\n        if (newValue.lazy) {\n          const { loaded = false, loading = false } = oldValue || {}\n          newValue.loaded = !!loaded\n          newValue.loading = !!loading\n          rootLazyRowKeys.push(key)\n        }\n        newTreeData[key] = newValue\n      })\n      // 根据懒加载数据更新 treeData\n      const lazyKeys = Object.keys(normalizedLazyNode_)\n      if (lazy.value && lazyKeys.length && rootLazyRowKeys.length) {\n        lazyKeys.forEach((key) => {\n          const oldValue = oldTreeData[key]\n          const lazyNodeChildren = normalizedLazyNode_[key].children\n          if (rootLazyRowKeys.includes(key)) {\n            // 懒加载的 root 节点，更新一下原有的数据，原来的 children 一定是空数组\n            if (newTreeData[key].children.length !== 0) {\n              throw new Error('[ElTable]children must be an empty array.')\n            }\n            newTreeData[key].children = lazyNodeChildren\n          } else {\n            const { loaded = false, loading = false } = oldValue || {}\n            newTreeData[key] = {\n              lazy: true,\n              loaded: !!loaded,\n              loading: !!loading,\n              expanded: getExpanded(oldValue, key),\n              children: lazyNodeChildren,\n              level: '',\n            }\n          }\n        })\n      }\n    }\n    treeData.value = newTreeData\n    instance.store?.updateTableScrollY()\n  }\n\n  watch(\n    () => expandRowKeys.value,\n    () => {\n      updateTreeData(true)\n    }\n  )\n\n  watch(\n    () => normalizedData.value,\n    () => {\n      updateTreeData()\n    }\n  )\n  watch(\n    () => normalizedLazyNode.value,\n    () => {\n      updateTreeData()\n    }\n  )\n\n  const updateTreeExpandKeys = (value: string[]) => {\n    expandRowKeys.value = value\n    updateTreeData()\n  }\n\n  const toggleTreeExpansion = (row: T, expanded?: boolean) => {\n    instance.store.assertRowKey()\n\n    const rowKey = watcherData.rowKey.value\n    const id = getRowIdentity(row, rowKey)\n    const data = id && treeData.value[id]\n    if (id && data && 'expanded' in data) {\n      const oldExpanded = data.expanded\n      expanded = typeof expanded === 'undefined' ? !data.expanded : expanded\n      treeData.value[id].expanded = expanded\n      if (oldExpanded !== expanded) {\n        instance.emit('expand-change', row, expanded)\n      }\n      instance.store.updateTableScrollY()\n    }\n  }\n\n  const loadOrToggle = (row) => {\n    instance.store.assertRowKey()\n    const rowKey = watcherData.rowKey.value\n    const id = getRowIdentity(row, rowKey)\n    const data = treeData.value[id]\n    if (lazy.value && data && 'loaded' in data && !data.loaded) {\n      loadData(row, id, data)\n    } else {\n      toggleTreeExpansion(row, undefined)\n    }\n  }\n\n  const loadData = (row: T, key: string, treeNode) => {\n    const { load } = instance.props as unknown as TableProps<T>\n    if (load && !treeData.value[key].loaded) {\n      treeData.value[key].loading = true\n      load(row, treeNode, (data) => {\n        if (!Array.isArray(data)) {\n          throw new TypeError('[ElTable] data must be an array')\n        }\n        treeData.value[key].loading = false\n        treeData.value[key].loaded = true\n        treeData.value[key].expanded = true\n        if (data.length) {\n          lazyTreeNodeMap.value[key] = data\n        }\n        instance.emit('expand-change', row, true)\n      })\n    }\n  }\n\n  return {\n    loadData,\n    loadOrToggle,\n    toggleTreeExpansion,\n    updateTreeExpandKeys,\n    updateTreeData,\n    normalize,\n    states: {\n      expandRowKeys,\n      treeData,\n      indent,\n      lazy,\n      lazyTreeNodeMap,\n      lazyColumnIdentifier,\n      childrenColumnName,\n    },\n  }\n}\n\nexport default useTree\n","// @ts-nocheck\nimport { getCurrentInstance, ref, toRefs, unref, watch } from 'vue'\nimport { hasOwn } from '@element-plus/utils'\nimport {\n  getColumnById,\n  getColumnByKey,\n  getKeysMap,\n  getRowIdentity,\n  orderBy,\n  toggleRowStatus,\n} from '../util'\nimport useExpand from './expand'\nimport useCurrent from './current'\nimport useTree from './tree'\n\nimport type { Ref } from 'vue'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { Table, TableRefs } from '../table/defaults'\nimport type { StoreFilter } from '.'\n\nconst sortData = (data, states) => {\n  const sortingColumn = states.sortingColumn\n  if (!sortingColumn || typeof sortingColumn.sortable === 'string') {\n    return data\n  }\n  return orderBy(\n    data,\n    states.sortProp,\n    states.sortOrder,\n    sortingColumn.sortMethod,\n    sortingColumn.sortBy\n  )\n}\n\nconst doFlattenColumns = (columns) => {\n  const result = []\n  columns.forEach((column) => {\n    if (column.children) {\n      // eslint-disable-next-line prefer-spread\n      result.push.apply(result, doFlattenColumns(column.children))\n    } else {\n      result.push(column)\n    }\n  })\n  return result\n}\n\nfunction useWatcher<T>() {\n  const instance = getCurrentInstance() as Table<T>\n  const { size: tableSize } = toRefs(instance.proxy?.$props as any)\n  const rowKey: Ref<string> = ref(null)\n  const data: Ref<T[]> = ref([])\n  const _data: Ref<T[]> = ref([])\n  const isComplex = ref(false)\n  const _columns: Ref<TableColumnCtx<T>[]> = ref([])\n  const originColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const columns: Ref<TableColumnCtx<T>[]> = ref([])\n  const fixedColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const rightFixedColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const leafColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const fixedLeafColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const rightFixedLeafColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const leafColumnsLength = ref(0)\n  const fixedLeafColumnsLength = ref(0)\n  const rightFixedLeafColumnsLength = ref(0)\n  const isAllSelected = ref(false)\n  const selection: Ref<T[]> = ref([])\n  const reserveSelection = ref(false)\n  const selectOnIndeterminate = ref(false)\n  const selectable: Ref<(row: T, index: number) => boolean> = ref(null)\n  const filters: Ref<StoreFilter> = ref({})\n  const filteredData = ref(null)\n  const sortingColumn = ref(null)\n  const sortProp = ref(null)\n  const sortOrder = ref(null)\n  const hoverRow = ref(null)\n\n  watch(data, () => instance.state && scheduleLayout(false), {\n    deep: true,\n  })\n\n  // 检查 rowKey 是否存在\n  const assertRowKey = () => {\n    if (!rowKey.value) throw new Error('[ElTable] prop row-key is required')\n  }\n\n  // 更新列\n  const updateColumns = () => {\n    fixedColumns.value = _columns.value.filter(\n      (column) => column.fixed === true || column.fixed === 'left'\n    )\n    rightFixedColumns.value = _columns.value.filter(\n      (column) => column.fixed === 'right'\n    )\n    if (\n      fixedColumns.value.length > 0 &&\n      _columns.value[0] &&\n      _columns.value[0].type === 'selection' &&\n      !_columns.value[0].fixed\n    ) {\n      _columns.value[0].fixed = true\n      fixedColumns.value.unshift(_columns.value[0])\n    }\n\n    const notFixedColumns = _columns.value.filter((column) => !column.fixed)\n    originColumns.value = []\n      .concat(fixedColumns.value)\n      .concat(notFixedColumns)\n      .concat(rightFixedColumns.value)\n    const leafColumns = doFlattenColumns(notFixedColumns)\n    const fixedLeafColumns = doFlattenColumns(fixedColumns.value)\n    const rightFixedLeafColumns = doFlattenColumns(rightFixedColumns.value)\n\n    leafColumnsLength.value = leafColumns.length\n    fixedLeafColumnsLength.value = fixedLeafColumns.length\n    rightFixedLeafColumnsLength.value = rightFixedLeafColumns.length\n\n    columns.value = []\n      .concat(fixedLeafColumns)\n      .concat(leafColumns)\n      .concat(rightFixedLeafColumns)\n    isComplex.value =\n      fixedColumns.value.length > 0 || rightFixedColumns.value.length > 0\n  }\n\n  // 更新 DOM\n  const scheduleLayout = (needUpdateColumns?: boolean, immediate = false) => {\n    if (needUpdateColumns) {\n      updateColumns()\n    }\n    if (immediate) {\n      instance.state.doLayout()\n    } else {\n      instance.state.debouncedUpdateLayout()\n    }\n  }\n\n  // 选择\n  const isSelected = (row) => {\n    return selection.value.includes(row)\n  }\n\n  const clearSelection = () => {\n    isAllSelected.value = false\n    const oldSelection = selection.value\n    if (oldSelection.length) {\n      selection.value = []\n      instance.emit('selection-change', [])\n    }\n  }\n\n  const cleanSelection = () => {\n    let deleted\n    if (rowKey.value) {\n      deleted = []\n      const selectedMap = getKeysMap(selection.value, rowKey.value)\n      const dataMap = getKeysMap(data.value, rowKey.value)\n      for (const key in selectedMap) {\n        if (hasOwn(selectedMap, key) && !dataMap[key]) {\n          deleted.push(selectedMap[key].row)\n        }\n      }\n    } else {\n      deleted = selection.value.filter((item) => !data.value.includes(item))\n    }\n    if (deleted.length) {\n      const newSelection = selection.value.filter(\n        (item) => !deleted.includes(item)\n      )\n      selection.value = newSelection\n      instance.emit('selection-change', newSelection.slice())\n    }\n  }\n\n  const getSelectionRows = () => {\n    return (selection.value || []).slice()\n  }\n\n  const toggleRowSelection = (\n    row: T,\n    selected = undefined,\n    emitChange = true\n  ) => {\n    const changed = toggleRowStatus(selection.value, row, selected)\n    if (changed) {\n      const newSelection = (selection.value || []).slice()\n      // 调用 API 修改选中值，不触发 select 事件\n      if (emitChange) {\n        instance.emit('select', newSelection, row)\n      }\n      instance.emit('selection-change', newSelection)\n    }\n  }\n\n  const _toggleAllSelection = () => {\n    // when only some rows are selected (but not all), select or deselect all of them\n    // depending on the value of selectOnIndeterminate\n    const value = selectOnIndeterminate.value\n      ? !isAllSelected.value\n      : !(isAllSelected.value || selection.value.length)\n    isAllSelected.value = value\n\n    let selectionChanged = false\n    let childrenCount = 0\n    const rowKey = instance?.store?.states?.rowKey.value\n    data.value.forEach((row, index) => {\n      const rowIndex = index + childrenCount\n      if (selectable.value) {\n        if (\n          selectable.value.call(null, row, rowIndex) &&\n          toggleRowStatus(selection.value, row, value)\n        ) {\n          selectionChanged = true\n        }\n      } else {\n        if (toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true\n        }\n      }\n      childrenCount += getChildrenCount(getRowIdentity(row, rowKey))\n    })\n\n    if (selectionChanged) {\n      instance.emit(\n        'selection-change',\n        selection.value ? selection.value.slice() : []\n      )\n    }\n    instance.emit('select-all', selection.value)\n  }\n\n  const updateSelectionByRowKey = () => {\n    const selectedMap = getKeysMap(selection.value, rowKey.value)\n    data.value.forEach((row) => {\n      const rowId = getRowIdentity(row, rowKey.value)\n      const rowInfo = selectedMap[rowId]\n      if (rowInfo) {\n        selection.value[rowInfo.index] = row\n      }\n    })\n  }\n\n  const updateAllSelected = () => {\n    // data 为 null 时，解构时的默认值会被忽略\n    if (data.value?.length === 0) {\n      isAllSelected.value = false\n      return\n    }\n\n    let selectedMap\n    if (rowKey.value) {\n      selectedMap = getKeysMap(selection.value, rowKey.value)\n    }\n    const isSelected = function (row) {\n      if (selectedMap) {\n        return !!selectedMap[getRowIdentity(row, rowKey.value)]\n      } else {\n        return selection.value.includes(row)\n      }\n    }\n    let isAllSelected_ = true\n    let selectedCount = 0\n    let childrenCount = 0\n    for (let i = 0, j = (data.value || []).length; i < j; i++) {\n      const keyProp = instance?.store?.states?.rowKey.value\n      const rowIndex = i + childrenCount\n      const item = data.value[i]\n      const isRowSelectable =\n        selectable.value && selectable.value.call(null, item, rowIndex)\n      if (!isSelected(item)) {\n        if (!selectable.value || isRowSelectable) {\n          isAllSelected_ = false\n          break\n        }\n      } else {\n        selectedCount++\n      }\n      childrenCount += getChildrenCount(getRowIdentity(item, keyProp))\n    }\n\n    if (selectedCount === 0) isAllSelected_ = false\n    isAllSelected.value = isAllSelected_\n  }\n\n  // gets the number of all child nodes by rowKey\n  const getChildrenCount = (rowKey: string) => {\n    if (!instance || !instance.store) return 0\n    const { treeData } = instance.store.states\n    let count = 0\n    const children = treeData.value[rowKey]?.children\n    if (children) {\n      count += children.length\n      children.forEach((childKey) => {\n        count += getChildrenCount(childKey)\n      })\n    }\n    return count\n  }\n\n  // 过滤与排序\n  const updateFilters = (columns, values) => {\n    if (!Array.isArray(columns)) {\n      columns = [columns]\n    }\n    const filters_ = {}\n    columns.forEach((col) => {\n      filters.value[col.id] = values\n      filters_[col.columnKey || col.id] = values\n    })\n    return filters_\n  }\n\n  const updateSort = (column, prop, order) => {\n    if (sortingColumn.value && sortingColumn.value !== column) {\n      sortingColumn.value.order = null\n    }\n    sortingColumn.value = column\n    sortProp.value = prop\n    sortOrder.value = order\n  }\n\n  const execFilter = () => {\n    let sourceData = unref(_data)\n    Object.keys(filters.value).forEach((columnId) => {\n      const values = filters.value[columnId]\n      if (!values || values.length === 0) return\n      const column = getColumnById(\n        {\n          columns: columns.value,\n        },\n        columnId\n      )\n      if (column && column.filterMethod) {\n        sourceData = sourceData.filter((row) => {\n          return values.some((value) =>\n            column.filterMethod.call(null, value, row, column)\n          )\n        })\n      }\n    })\n\n    filteredData.value = sourceData\n  }\n\n  const execSort = () => {\n    data.value = sortData(filteredData.value, {\n      sortingColumn: sortingColumn.value,\n      sortProp: sortProp.value,\n      sortOrder: sortOrder.value,\n    })\n  }\n\n  // 根据 filters 与 sort 去过滤 data\n  const execQuery = (ignore = undefined) => {\n    if (!(ignore && ignore.filter)) {\n      execFilter()\n    }\n    execSort()\n  }\n\n  const clearFilter = (columnKeys) => {\n    const { tableHeaderRef } = instance.refs as TableRefs\n    if (!tableHeaderRef) return\n    const panels = Object.assign({}, tableHeaderRef.filterPanels)\n\n    const keys = Object.keys(panels)\n    if (!keys.length) return\n\n    if (typeof columnKeys === 'string') {\n      columnKeys = [columnKeys]\n    }\n\n    if (Array.isArray(columnKeys)) {\n      const columns_ = columnKeys.map((key) =>\n        getColumnByKey(\n          {\n            columns: columns.value,\n          },\n          key\n        )\n      )\n      keys.forEach((key) => {\n        const column = columns_.find((col) => col.id === key)\n        if (column) {\n          column.filteredValue = []\n        }\n      })\n      instance.store.commit('filterChange', {\n        column: columns_,\n        values: [],\n        silent: true,\n        multi: true,\n      })\n    } else {\n      keys.forEach((key) => {\n        const column = columns.value.find((col) => col.id === key)\n        if (column) {\n          column.filteredValue = []\n        }\n      })\n\n      filters.value = {}\n      instance.store.commit('filterChange', {\n        column: {},\n        values: [],\n        silent: true,\n      })\n    }\n  }\n\n  const clearSort = () => {\n    if (!sortingColumn.value) return\n\n    updateSort(null, null, null)\n    instance.store.commit('changeSortCondition', {\n      silent: true,\n    })\n  }\n  const {\n    setExpandRowKeys,\n    toggleRowExpansion,\n    updateExpandRows,\n    states: expandStates,\n    isRowExpanded,\n  } = useExpand({\n    data,\n    rowKey,\n  })\n  const {\n    updateTreeExpandKeys,\n    toggleTreeExpansion,\n    updateTreeData,\n    loadOrToggle,\n    states: treeStates,\n  } = useTree({\n    data,\n    rowKey,\n  })\n  const {\n    updateCurrentRowData,\n    updateCurrentRow,\n    setCurrentRowKey,\n    states: currentData,\n  } = useCurrent({\n    data,\n    rowKey,\n  })\n  // 适配层，expand-row-keys 在 Expand 与 TreeTable 中都有使用\n  const setExpandRowKeysAdapter = (val: string[]) => {\n    // 这里会触发额外的计算，但为了兼容性，暂时这么做\n    setExpandRowKeys(val)\n    updateTreeExpandKeys(val)\n  }\n\n  // 展开行与 TreeTable 都要使用\n  const toggleRowExpansionAdapter = (row: T, expanded: boolean) => {\n    const hasExpandColumn = columns.value.some(({ type }) => type === 'expand')\n    if (hasExpandColumn) {\n      toggleRowExpansion(row, expanded)\n    } else {\n      toggleTreeExpansion(row, expanded)\n    }\n  }\n\n  return {\n    assertRowKey,\n    updateColumns,\n    scheduleLayout,\n    isSelected,\n    clearSelection,\n    cleanSelection,\n    getSelectionRows,\n    toggleRowSelection,\n    _toggleAllSelection,\n    toggleAllSelection: null,\n    updateSelectionByRowKey,\n    updateAllSelected,\n    updateFilters,\n    updateCurrentRow,\n    updateSort,\n    execFilter,\n    execSort,\n    execQuery,\n    clearFilter,\n    clearSort,\n    toggleRowExpansion,\n    setExpandRowKeysAdapter,\n    setCurrentRowKey,\n    toggleRowExpansionAdapter,\n    isRowExpanded,\n    updateExpandRows,\n    updateCurrentRowData,\n    loadOrToggle,\n    updateTreeData,\n    states: {\n      tableSize,\n      rowKey,\n      data,\n      _data,\n      isComplex,\n      _columns,\n      originColumns,\n      columns,\n      fixedColumns,\n      rightFixedColumns,\n      leafColumns,\n      fixedLeafColumns,\n      rightFixedLeafColumns,\n      leafColumnsLength,\n      fixedLeafColumnsLength,\n      rightFixedLeafColumnsLength,\n      isAllSelected,\n      selection,\n      reserveSelection,\n      selectOnIndeterminate,\n      selectable,\n      filters,\n      filteredData,\n      sortingColumn,\n      sortProp,\n      sortOrder,\n      hoverRow,\n      ...expandStates,\n      ...treeStates,\n      ...currentData,\n    },\n  }\n}\n\nexport default useWatcher\n","// @ts-nocheck\nimport { getCurrentInstance, nextTick, unref } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport useWatcher from './watcher'\n\nimport type { Ref } from 'vue'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { Filter, Sort, Table } from '../table/defaults'\n\ninterface WatcherPropsData<T> {\n  data: Ref<T[]>\n  rowKey: Ref<string>\n}\n\nfunction replaceColumn<T>(\n  array: TableColumnCtx<T>[],\n  column: TableColumnCtx<T>\n) {\n  return array.map((item) => {\n    if (item.id === column.id) {\n      return column\n    } else if (item.children?.length) {\n      item.children = replaceColumn(item.children, column)\n    }\n    return item\n  })\n}\n\nfunction sortColumn<T>(array: TableColumnCtx<T>[]) {\n  array.forEach((item) => {\n    item.no = item.getColumnIndex?.()\n    if (item.children?.length) {\n      sortColumn(item.children)\n    }\n  })\n  array.sort((cur, pre) => cur.no - pre.no)\n}\n\nfunction useStore<T>() {\n  const instance = getCurrentInstance() as Table<T>\n  const watcher = useWatcher<T>()\n  const ns = useNamespace('table')\n  type StoreStates = typeof watcher.states\n  const mutations = {\n    setData(states: StoreStates, data: T[]) {\n      const dataInstanceChanged = unref(states._data) !== data\n      states.data.value = data\n      states._data.value = data\n      instance.store.execQuery()\n      // 数据变化，更新部分数据。\n      // 没有使用 computed，而是手动更新部分数据 https://github.com/vuejs/vue/issues/6660#issuecomment-331417140\n      instance.store.updateCurrentRowData()\n      instance.store.updateExpandRows()\n      instance.store.updateTreeData(\n        instance.store.states.defaultExpandAll.value\n      )\n      if (unref(states.reserveSelection)) {\n        instance.store.assertRowKey()\n        instance.store.updateSelectionByRowKey()\n      } else {\n        if (dataInstanceChanged) {\n          instance.store.clearSelection()\n        } else {\n          instance.store.cleanSelection()\n        }\n      }\n      instance.store.updateAllSelected()\n      if (instance.$ready) {\n        instance.store.scheduleLayout()\n      }\n    },\n\n    insertColumn(\n      states: StoreStates,\n      column: TableColumnCtx<T>,\n      parent: TableColumnCtx<T>\n    ) {\n      const array = unref(states._columns)\n      let newColumns = []\n      if (!parent) {\n        array.push(column)\n        newColumns = array\n      } else {\n        if (parent && !parent.children) {\n          parent.children = []\n        }\n        parent.children.push(column)\n        newColumns = replaceColumn(array, parent)\n      }\n      sortColumn(newColumns)\n      states._columns.value = newColumns\n      if (column.type === 'selection') {\n        states.selectable.value = column.selectable\n        states.reserveSelection.value = column.reserveSelection\n      }\n      if (instance.$ready) {\n        instance.store.updateColumns() // hack for dynamics insert column\n        instance.store.scheduleLayout()\n      }\n    },\n\n    removeColumn(\n      states: StoreStates,\n      column: TableColumnCtx<T>,\n      parent: TableColumnCtx<T>\n    ) {\n      const array = unref(states._columns) || []\n      if (parent) {\n        parent.children.splice(\n          parent.children.findIndex((item) => item.id === column.id),\n          1\n        )\n        if (parent.children.length === 0) {\n          delete parent.children\n        }\n        states._columns.value = replaceColumn(array, parent)\n      } else {\n        const index = array.indexOf(column)\n        if (index > -1) {\n          array.splice(index, 1)\n          states._columns.value = array\n        }\n      }\n\n      if (instance.$ready) {\n        instance.store.updateColumns() // hack for dynamics remove column\n        instance.store.scheduleLayout()\n      }\n    },\n\n    sort(states: StoreStates, options: Sort) {\n      const { prop, order, init } = options\n      if (prop) {\n        const column = unref(states.columns).find(\n          (column) => column.property === prop\n        )\n        if (column) {\n          column.order = order\n          instance.store.updateSort(column, prop, order)\n          instance.store.commit('changeSortCondition', { init })\n        }\n      }\n    },\n\n    changeSortCondition(states: StoreStates, options: Sort) {\n      // 修复 pr https://github.com/ElemeFE/element/pull/15012 导致的 bug\n      const { sortingColumn: column, sortProp: prop, sortOrder: order } = states\n      if (unref(order) === null) {\n        states.sortingColumn.value = null\n        states.sortProp.value = null\n      }\n      const ingore = { filter: true }\n      instance.store.execQuery(ingore)\n\n      if (!options || !(options.silent || options.init)) {\n        instance.emit('sort-change', {\n          column: unref(column),\n          prop: unref(prop),\n          order: unref(order),\n        })\n      }\n\n      instance.store.updateTableScrollY()\n    },\n\n    filterChange(_states: StoreStates, options: Filter<T>) {\n      const { column, values, silent } = options\n      const newFilters = instance.store.updateFilters(column, values)\n      instance.store.execQuery()\n\n      if (!silent) {\n        instance.emit('filter-change', newFilters)\n      }\n      instance.store.updateTableScrollY()\n    },\n\n    toggleAllSelection() {\n      instance.store.toggleAllSelection()\n    },\n\n    rowSelectedChanged(_states, row: T) {\n      instance.store.toggleRowSelection(row)\n      instance.store.updateAllSelected()\n    },\n\n    setHoverRow(states: StoreStates, row: T) {\n      states.hoverRow.value = row\n    },\n\n    setCurrentRow(_states, row: T) {\n      instance.store.updateCurrentRow(row)\n    },\n  }\n  const commit = function (name: keyof typeof mutations, ...args) {\n    const mutations = instance.store.mutations\n    if (mutations[name]) {\n      mutations[name].apply(instance, [instance.store.states].concat(args))\n    } else {\n      throw new Error(`Action not found: ${name}`)\n    }\n  }\n  const updateTableScrollY = function () {\n    nextTick(() => instance.layout.updateScrollY.apply(instance.layout))\n  }\n  return {\n    ns,\n    ...watcher,\n    mutations,\n    commit,\n    updateTableScrollY,\n  }\n}\nexport default useStore\n\nclass HelperStore<T> {\n  Return = useStore<T>()\n}\ntype StoreFilter = Record<string, string[]>\ntype Store<T> = HelperStore<T>['Return']\nexport type { WatcherPropsData, Store, StoreFilter }\n","// @ts-nocheck\nimport { watch } from 'vue'\nimport { debounce } from 'lodash-unified'\nimport useStore from '.'\n\nimport type { Store } from '.'\nimport type { Table, TableProps } from '../table/defaults'\n\nconst InitialStateMap = {\n  rowKey: 'rowKey',\n  defaultExpandAll: 'defaultExpandAll',\n  selectOnIndeterminate: 'selectOnIndeterminate',\n  indent: 'indent',\n  lazy: 'lazy',\n  data: 'data',\n  ['treeProps.hasChildren']: {\n    key: 'lazyColumnIdentifier',\n    default: 'hasChildren',\n  },\n  ['treeProps.children']: {\n    key: 'childrenColumnName',\n    default: 'children',\n  },\n}\n\nexport function createStore<T>(table: Table<T>, props: TableProps<T>) {\n  if (!table) {\n    throw new Error('Table is required.')\n  }\n\n  const store = useStore<T>()\n  // fix https://github.com/ElemeFE/element/issues/14075\n  // related pr https://github.com/ElemeFE/element/pull/14146\n  store.toggleAllSelection = debounce(store._toggleAllSelection, 10)\n  Object.keys(InitialStateMap).forEach((key) => {\n    handleValue(getArrKeysValue(props, key), key, store)\n  })\n  proxyTableProps(store, props)\n  return store\n}\n\nfunction proxyTableProps<T>(store: Store<T>, props: TableProps<T>) {\n  Object.keys(InitialStateMap).forEach((key) => {\n    watch(\n      () => getArrKeysValue(props, key),\n      (value) => {\n        handleValue(value, key, store)\n      }\n    )\n  })\n}\n\nfunction handleValue<T>(value, propsKey: string, store: Store<T>) {\n  let newVal = value\n  let storeKey = InitialStateMap[propsKey]\n  if (typeof InitialStateMap[propsKey] === 'object') {\n    storeKey = storeKey.key\n    newVal = newVal || InitialStateMap[propsKey].default\n  }\n  store.states[storeKey].value = newVal\n}\n\nfunction getArrKeysValue<T>(props: TableProps<T>, keys: string) {\n  if (keys.includes('.')) {\n    const keyList = keys.split('.')\n    let value = props\n    keyList.forEach((key) => {\n      value = value[key]\n    })\n    return value\n  } else {\n    return props[keys]\n  }\n}\n","// @ts-nocheck\nimport { isRef, nextTick, ref } from 'vue'\nimport { isClient } from '@vueuse/core'\nimport { hasOwn } from '@element-plus/utils'\nimport { parseHeight } from './util'\nimport type { Ref } from 'vue'\n\nimport type { TableColumnCtx } from './table-column/defaults'\nimport type { TableHeader } from './table-header'\nimport type { Table } from './table/defaults'\nimport type { Store } from './store'\nclass TableLayout<T> {\n  observers: TableHeader[]\n  table: Table<T>\n  store: Store<T>\n  columns: TableColumnCtx<T>[]\n  fit: boolean\n  showHeader: boolean\n\n  height: Ref<null | number>\n  scrollX: Ref<boolean>\n  scrollY: Ref<boolean>\n  bodyWidth: Ref<null | number>\n  fixedWidth: Ref<null | number>\n  rightFixedWidth: Ref<null | number>\n  tableHeight: Ref<null | number>\n  headerHeight: Ref<null | number> // Table Header Height\n  appendHeight: Ref<null | number> // Append Slot Height\n  footerHeight: Ref<null | number> // Table Footer Height\n  gutterWidth: number\n  constructor(options: Record<string, any>) {\n    this.observers = []\n    this.table = null\n    this.store = null\n    this.columns = []\n    this.fit = true\n    this.showHeader = true\n    this.height = ref(null)\n    this.scrollX = ref(false)\n    this.scrollY = ref(false)\n    this.bodyWidth = ref(null)\n    this.fixedWidth = ref(null)\n    this.rightFixedWidth = ref(null)\n    this.gutterWidth = 0\n    for (const name in options) {\n      if (hasOwn(options, name)) {\n        if (isRef(this[name])) {\n          this[name as string].value = options[name]\n        } else {\n          this[name as string] = options[name]\n        }\n      }\n    }\n    if (!this.table) {\n      throw new Error('Table is required for Table Layout')\n    }\n    if (!this.store) {\n      throw new Error('Store is required for Table Layout')\n    }\n  }\n\n  updateScrollY() {\n    const height = this.height.value\n    /**\n     * When the height is not initialized, it is null.\n     * After the table is initialized, when the height is not configured, the height is 0.\n     */\n    if (height === null) return false\n    const scrollBarRef = this.table.refs.scrollBarRef\n    if (this.table.vnode.el && scrollBarRef) {\n      let scrollY = true\n      const prevScrollY = this.scrollY.value\n      scrollY =\n        scrollBarRef.wrap$.scrollHeight > scrollBarRef.wrap$.clientHeight\n      this.scrollY.value = scrollY\n      return prevScrollY !== scrollY\n    }\n    return false\n  }\n\n  setHeight(value: string | number, prop = 'height') {\n    if (!isClient) return\n    const el = this.table.vnode.el\n    value = parseHeight(value)\n    this.height.value = Number(value)\n\n    if (!el && (value || value === 0))\n      return nextTick(() => this.setHeight(value, prop))\n\n    if (typeof value === 'number') {\n      el.style[prop] = `${value}px`\n      this.updateElsHeight()\n    } else if (typeof value === 'string') {\n      el.style[prop] = value\n      this.updateElsHeight()\n    }\n  }\n\n  setMaxHeight(value: string | number) {\n    this.setHeight(value, 'max-height')\n  }\n\n  getFlattenColumns(): TableColumnCtx<T>[] {\n    const flattenColumns = []\n    const columns = this.table.store.states.columns.value\n    columns.forEach((column) => {\n      if (column.isColumnGroup) {\n        // eslint-disable-next-line prefer-spread\n        flattenColumns.push.apply(flattenColumns, column.columns)\n      } else {\n        flattenColumns.push(column)\n      }\n    })\n\n    return flattenColumns\n  }\n\n  updateElsHeight() {\n    this.updateScrollY()\n    this.notifyObservers('scrollable')\n  }\n\n  headerDisplayNone(elm: HTMLElement) {\n    if (!elm) return true\n    let headerChild = elm\n    while (headerChild.tagName !== 'DIV') {\n      if (getComputedStyle(headerChild).display === 'none') {\n        return true\n      }\n      headerChild = headerChild.parentElement\n    }\n    return false\n  }\n\n  updateColumnsWidth() {\n    if (!isClient) return\n    const fit = this.fit\n    const bodyWidth = this.table.vnode.el.clientWidth\n    let bodyMinWidth = 0\n\n    const flattenColumns = this.getFlattenColumns()\n    const flexColumns = flattenColumns.filter(\n      (column) => typeof column.width !== 'number'\n    )\n    flattenColumns.forEach((column) => {\n      // Clean those columns whose width changed from flex to unflex\n      if (typeof column.width === 'number' && column.realWidth)\n        column.realWidth = null\n    })\n    if (flexColumns.length > 0 && fit) {\n      flattenColumns.forEach((column) => {\n        bodyMinWidth += Number(column.width || column.minWidth || 80)\n      })\n      if (bodyMinWidth <= bodyWidth) {\n        // DON'T HAVE SCROLL BAR\n        this.scrollX.value = false\n\n        const totalFlexWidth = bodyWidth - bodyMinWidth\n\n        if (flexColumns.length === 1) {\n          flexColumns[0].realWidth =\n            Number(flexColumns[0].minWidth || 80) + totalFlexWidth\n        } else {\n          const allColumnsWidth = flexColumns.reduce(\n            (prev, column) => prev + Number(column.minWidth || 80),\n            0\n          )\n          const flexWidthPerPixel = totalFlexWidth / allColumnsWidth\n          let noneFirstWidth = 0\n\n          flexColumns.forEach((column, index) => {\n            if (index === 0) return\n            const flexWidth = Math.floor(\n              Number(column.minWidth || 80) * flexWidthPerPixel\n            )\n            noneFirstWidth += flexWidth\n            column.realWidth = Number(column.minWidth || 80) + flexWidth\n          })\n\n          flexColumns[0].realWidth =\n            Number(flexColumns[0].minWidth || 80) +\n            totalFlexWidth -\n            noneFirstWidth\n        }\n      } else {\n        // HAVE HORIZONTAL SCROLL BAR\n        this.scrollX.value = true\n        flexColumns.forEach((column) => {\n          column.realWidth = Number(column.minWidth)\n        })\n      }\n\n      this.bodyWidth.value = Math.max(bodyMinWidth, bodyWidth)\n      this.table.state.resizeState.value.width = this.bodyWidth.value\n    } else {\n      flattenColumns.forEach((column) => {\n        if (!column.width && !column.minWidth) {\n          column.realWidth = 80\n        } else {\n          column.realWidth = Number(column.width || column.minWidth)\n        }\n        bodyMinWidth += column.realWidth\n      })\n      this.scrollX.value = bodyMinWidth > bodyWidth\n\n      this.bodyWidth.value = bodyMinWidth\n    }\n\n    const fixedColumns = this.store.states.fixedColumns.value\n\n    if (fixedColumns.length > 0) {\n      let fixedWidth = 0\n      fixedColumns.forEach((column) => {\n        fixedWidth += Number(column.realWidth || column.width)\n      })\n\n      this.fixedWidth.value = fixedWidth\n    }\n\n    const rightFixedColumns = this.store.states.rightFixedColumns.value\n    if (rightFixedColumns.length > 0) {\n      let rightFixedWidth = 0\n      rightFixedColumns.forEach((column) => {\n        rightFixedWidth += Number(column.realWidth || column.width)\n      })\n\n      this.rightFixedWidth.value = rightFixedWidth\n    }\n    this.notifyObservers('columns')\n  }\n\n  addObserver(observer: TableHeader) {\n    this.observers.push(observer)\n  }\n\n  removeObserver(observer: TableHeader) {\n    const index = this.observers.indexOf(observer)\n    if (index !== -1) {\n      this.observers.splice(index, 1)\n    }\n  }\n\n  notifyObservers(event: string) {\n    const observers = this.observers\n    observers.forEach((observer) => {\n      switch (event) {\n        case 'columns':\n          observer.state?.onColumnsChange(this)\n          break\n        case 'scrollable':\n          observer.state?.onScrollableChange(this)\n          break\n        default:\n          throw new Error(`Table Layout don't have event ${event}.`)\n      }\n    })\n  }\n}\n\nexport default TableLayout\n","import { computed, getCurrentInstance, inject, nextTick, ref, watch } from 'vue'\nimport { toTypeString } from '@vue/shared'\nimport { UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport {\n  useFormItem,\n  useFormItemInputId,\n  useSize,\n  useSizeProp,\n} from '@element-plus/hooks'\nimport {\n  debugWarn,\n  isArray,\n  isBoolean,\n  isNumber,\n  isString,\n} from '@element-plus/utils'\n\nimport type { ComponentInternalInstance, ExtractPropTypes, PropType } from 'vue'\nimport type { ICheckboxGroupInstance } from './checkbox.type'\nimport type Checkbox from './checkbox.vue'\n\nexport const useCheckboxGroupProps = {\n  modelValue: {\n    type: Array as PropType<Array<string | number>>,\n    default: () => [],\n  },\n  disabled: Boolean,\n  min: {\n    type: Number,\n    default: undefined,\n  },\n  max: {\n    type: Number,\n    default: undefined,\n  },\n  size: useSizeProp,\n  id: {\n    type: String,\n    default: undefined,\n  },\n  label: {\n    type: String,\n    default: undefined,\n  },\n  fill: {\n    type: String,\n    default: undefined,\n  },\n  textColor: {\n    type: String,\n    default: undefined,\n  },\n  tag: {\n    type: String,\n    default: 'div',\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true,\n  },\n}\n\nexport type IUseCheckboxGroupProps = ExtractPropTypes<\n  typeof useCheckboxGroupProps\n>\n\nexport const checkboxProps = {\n  modelValue: {\n    type: [Number, String, Boolean],\n    default: () => undefined,\n  },\n  label: {\n    type: [String, Boolean, Number, Object],\n  },\n  indeterminate: Boolean,\n  disabled: Boolean,\n  checked: Boolean,\n  name: {\n    type: String,\n    default: undefined,\n  },\n  trueLabel: {\n    type: [String, Number],\n    default: undefined,\n  },\n  falseLabel: {\n    type: [String, Number],\n    default: undefined,\n  },\n  id: {\n    type: String,\n    default: undefined,\n  },\n  controls: {\n    type: String,\n    default: undefined,\n  },\n  border: Boolean,\n  size: useSizeProp,\n  tabindex: [String, Number],\n  validateEvent: {\n    type: Boolean,\n    default: true,\n  },\n}\n\nexport const useCheckboxGroup = () => {\n  const { form: elForm, formItem: elFormItem } = useFormItem()\n  const checkboxGroup = inject<ICheckboxGroupInstance>('CheckboxGroup', {})\n  const isGroup = computed(\n    () => checkboxGroup && checkboxGroup?.name === 'ElCheckboxGroup'\n  )\n  const elFormItemSize = computed(() => {\n    return elFormItem?.size\n  })\n  return {\n    isGroup,\n    checkboxGroup,\n    elForm,\n    elFormItemSize,\n    elFormItem,\n  }\n}\n\nexport const useCheckboxGroupId = (\n  props: IUseCheckboxGroupProps,\n  { elFormItem }: Partial<ReturnType<typeof useCheckboxGroup>>\n) => {\n  const { inputId: groupId, isLabeledByFormItem } = useFormItemInputId(props, {\n    formItemContext: elFormItem,\n  })\n\n  return {\n    isLabeledByFormItem,\n    groupId,\n  }\n}\n\nconst useModel = (props: CheckboxProps) => {\n  const selfModel = ref<any>(false)\n  const { emit } = getCurrentInstance()!\n  const { isGroup, checkboxGroup, elFormItem } = useCheckboxGroup()\n  const isLimitExceeded = ref(false)\n  const model = computed({\n    get() {\n      return isGroup.value\n        ? checkboxGroup.modelValue?.value\n        : props.modelValue ?? selfModel.value\n    },\n\n    set(val: unknown) {\n      if (isGroup.value && Array.isArray(val)) {\n        isLimitExceeded.value =\n          checkboxGroup.max !== undefined &&\n          val.length > checkboxGroup.max.value\n        isLimitExceeded.value === false && checkboxGroup?.changeEvent?.(val)\n      } else {\n        emit(UPDATE_MODEL_EVENT, val)\n        selfModel.value = val\n      }\n    },\n  })\n\n  return {\n    model,\n    isGroup,\n    isLimitExceeded,\n    elFormItem,\n  }\n}\n\nconst useCheckboxStatus = (\n  props: CheckboxProps,\n  slots: ComponentInternalInstance['slots'],\n  { model }: Partial<ReturnType<typeof useModel>>\n) => {\n  const { isGroup, checkboxGroup } = useCheckboxGroup()\n  const focus = ref(false)\n  const size = useSize(checkboxGroup?.checkboxGroupSize, { prop: true })\n  const isChecked = computed<boolean>(() => {\n    const value = model!.value\n    if (toTypeString(value) === '[object Boolean]') {\n      return value\n    } else if (Array.isArray(value)) {\n      return value.includes(props.label)\n    } else if (value !== null && value !== undefined) {\n      return value === props.trueLabel\n    } else {\n      return !!value\n    }\n  })\n\n  const checkboxSize = useSize(\n    computed(() =>\n      isGroup.value ? checkboxGroup?.checkboxGroupSize?.value : undefined\n    )\n  )\n\n  const hasOwnLabel = computed<boolean>(() => {\n    return !!(slots.default || props.label)\n  })\n\n  return {\n    isChecked,\n    focus,\n    size,\n    checkboxSize,\n    hasOwnLabel,\n  }\n}\n\nconst useDisabled = (\n  props: CheckboxProps,\n  {\n    model,\n    isChecked,\n  }: Partial<ReturnType<typeof useModel>> &\n    Partial<ReturnType<typeof useCheckboxStatus>>\n) => {\n  const { elForm, isGroup, checkboxGroup } = useCheckboxGroup()\n  const isLimitDisabled = computed(() => {\n    const max = checkboxGroup.max?.value!\n    const min = checkboxGroup.min?.value!\n    return (\n      (!!(max || min) && model!.value.length >= max && !isChecked!.value) ||\n      (model!.value.length <= min && isChecked!.value)\n    )\n  })\n  const isDisabled = computed(() => {\n    const disabled = props.disabled || elForm?.disabled\n    return (\n      (isGroup.value\n        ? checkboxGroup.disabled?.value || disabled || isLimitDisabled.value\n        : disabled) ?? false\n    )\n  })\n\n  return {\n    isDisabled,\n    isLimitDisabled,\n  }\n}\n\nconst setStoreValue = (\n  props: CheckboxProps,\n  { model }: Partial<ReturnType<typeof useModel>>\n) => {\n  function addToStore() {\n    if (Array.isArray(model!.value) && !model!.value.includes(props.label)) {\n      model!.value.push(props.label)\n    } else {\n      model!.value = props.trueLabel || true\n    }\n  }\n  props.checked && addToStore()\n}\n\nconst useEvent = (\n  props: CheckboxProps,\n  {\n    model,\n    isLimitExceeded,\n    hasOwnLabel,\n    isDisabled,\n    isLabeledByFormItem,\n  }: Partial<\n    ReturnType<typeof useModel> &\n      ReturnType<typeof useCheckboxStatus> &\n      ReturnType<typeof useDisabled> &\n      ReturnType<typeof useFormItemInputId>\n  >\n) => {\n  const { elFormItem, checkboxGroup } = useCheckboxGroup()\n  const { emit } = getCurrentInstance()!\n\n  function getLabeledValue(value: string | number | boolean) {\n    return value === props.trueLabel || value === true\n      ? props.trueLabel ?? true\n      : props.falseLabel ?? false\n  }\n\n  function emitChangeEvent(\n    checked: string | number | boolean,\n    e: InputEvent | MouseEvent\n  ) {\n    emit('change', getLabeledValue(checked), e)\n  }\n\n  function handleChange(e: Event) {\n    if (isLimitExceeded!.value) return\n    const target = e.target as HTMLInputElement\n    emit('change', getLabeledValue(target.checked), e)\n  }\n\n  async function onClickRoot(e: MouseEvent) {\n    if (isLimitExceeded!.value) return\n    if (\n      !hasOwnLabel!.value &&\n      !isDisabled!.value &&\n      isLabeledByFormItem!.value\n    ) {\n      model!.value = getLabeledValue(\n        [false, props.falseLabel].includes(model!.value)\n      )\n      await nextTick()\n      emitChangeEvent(model!.value, e)\n    }\n  }\n\n  const validateEvent = computed(\n    () => checkboxGroup.validateEvent?.value || props.validateEvent\n  )\n\n  watch(\n    () => props.modelValue,\n    () => {\n      if (validateEvent.value) {\n        elFormItem?.validate('change').catch((err) => debugWarn(err))\n      }\n    }\n  )\n\n  return {\n    handleChange,\n    onClickRoot,\n  }\n}\n\nexport type CheckboxValueType = string | number | boolean\n\nexport const checkboxEmits = {\n  [UPDATE_MODEL_EVENT]: (val: CheckboxValueType) =>\n    isString(val) || isNumber(val) || isBoolean(val),\n  change: (val: CheckboxValueType) =>\n    isString(val) || isNumber(val) || isBoolean(val),\n}\n\nexport const checkboxGroupEmits = {\n  [UPDATE_MODEL_EVENT]: (val: CheckboxValueType[]) => isArray(val),\n  change: (val: CheckboxValueType[]) => isArray(val),\n}\n\nexport const useCheckbox = (\n  props: CheckboxProps,\n  slots: ComponentInternalInstance['slots']\n) => {\n  const { model, isGroup, isLimitExceeded, elFormItem } = useModel(props)\n  const { focus, size, isChecked, checkboxSize, hasOwnLabel } =\n    useCheckboxStatus(props, slots, {\n      model,\n    })\n  const { isDisabled } = useDisabled(props, { model, isChecked })\n  const { inputId, isLabeledByFormItem } = useFormItemInputId(props, {\n    formItemContext: elFormItem,\n    disableIdGeneration: hasOwnLabel,\n    disableIdManagement: isGroup,\n  })\n  const { handleChange, onClickRoot } = useEvent(props, {\n    model,\n    isLimitExceeded,\n    hasOwnLabel,\n    isDisabled,\n    isLabeledByFormItem,\n  })\n\n  setStoreValue(props, { model })\n\n  return {\n    elFormItem,\n    inputId,\n    isLabeledByFormItem,\n    isChecked,\n    isDisabled,\n    isGroup,\n    checkboxSize,\n    hasOwnLabel,\n    model,\n    handleChange,\n    onClickRoot,\n    focus,\n    size,\n  }\n}\n\nexport type CheckboxProps = ExtractPropTypes<typeof checkboxProps>\nexport type CheckboxEmits = typeof checkboxEmits\nexport type CheckboxInstance = InstanceType<typeof Checkbox>\n","<template>\n  <component\n    :is=\"!hasOwnLabel && isLabeledByFormItem ? 'span' : 'label'\"\n    :class=\"[\n      ns.b(),\n      ns.m(checkboxSize),\n      ns.is('disabled', isDisabled),\n      ns.is('bordered', border),\n      ns.is('checked', isChecked),\n    ]\"\n    :aria-controls=\"indeterminate ? controls : null\"\n    @click=\"onClickRoot\"\n  >\n    <span\n      :class=\"[\n        ns.e('input'),\n        ns.is('disabled', isDisabled),\n        ns.is('checked', isChecked),\n        ns.is('indeterminate', indeterminate),\n        ns.is('focus', focus),\n      ]\"\n      :tabindex=\"indeterminate ? 0 : undefined\"\n      :role=\"indeterminate ? 'checkbox' : undefined\"\n      :aria-checked=\"indeterminate ? 'mixed' : undefined\"\n    >\n      <input\n        v-if=\"trueLabel || falseLabel\"\n        :id=\"inputId\"\n        v-model=\"model\"\n        :class=\"ns.e('original')\"\n        type=\"checkbox\"\n        :aria-hidden=\"indeterminate ? 'true' : 'false'\"\n        :name=\"name\"\n        :tabindex=\"tabindex\"\n        :disabled=\"isDisabled\"\n        :true-value=\"trueLabel\"\n        :false-value=\"falseLabel\"\n        @change=\"handleChange\"\n        @focus=\"focus = true\"\n        @blur=\"focus = false\"\n      />\n      <input\n        v-else\n        :id=\"inputId\"\n        v-model=\"model\"\n        :class=\"ns.e('original')\"\n        type=\"checkbox\"\n        :aria-hidden=\"indeterminate ? 'true' : 'false'\"\n        :disabled=\"isDisabled\"\n        :value=\"label\"\n        :name=\"name\"\n        :tabindex=\"tabindex\"\n        @change=\"handleChange\"\n        @focus=\"focus = true\"\n        @blur=\"focus = false\"\n      />\n      <span :class=\"ns.e('inner')\" />\n    </span>\n    <span v-if=\"hasOwnLabel\" :class=\"ns.e('label')\">\n      <slot />\n      <template v-if=\"!$slots.default\">{{ label }}</template>\n    </span>\n  </component>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useSlots } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { checkboxEmits, checkboxProps, useCheckbox } from './checkbox'\n\ndefineOptions({\n  name: 'ElCheckbox',\n})\n\nconst props = defineProps(checkboxProps)\ndefineEmits(checkboxEmits)\nconst slots = useSlots()\n\nconst {\n  inputId,\n  isLabeledByFormItem,\n  isChecked,\n  isDisabled,\n  checkboxSize,\n  hasOwnLabel,\n  model,\n  handleChange,\n  onClickRoot,\n  focus,\n} = useCheckbox(props, slots)\n\nconst ns = useNamespace('checkbox')\n</script>\n","<template>\n  <label\n    :class=\"[\n      ns.b('button'),\n      ns.bm('button', size),\n      ns.is('disabled', isDisabled),\n      ns.is('checked', isChecked),\n      ns.is('focus', focus),\n    ]\"\n  >\n    <input\n      v-if=\"trueLabel || falseLabel\"\n      v-model=\"model\"\n      :class=\"ns.be('button', 'original')\"\n      type=\"checkbox\"\n      :name=\"name\"\n      :tabindex=\"tabindex\"\n      :disabled=\"isDisabled\"\n      :true-value=\"trueLabel\"\n      :false-value=\"falseLabel\"\n      @change=\"handleChange\"\n      @focus=\"focus = true\"\n      @blur=\"focus = false\"\n    />\n    <input\n      v-else\n      v-model=\"model\"\n      :class=\"ns.be('button', 'original')\"\n      type=\"checkbox\"\n      :name=\"name\"\n      :tabindex=\"tabindex\"\n      :disabled=\"isDisabled\"\n      :value=\"label\"\n      @change=\"handleChange\"\n      @focus=\"focus = true\"\n      @blur=\"focus = false\"\n    />\n\n    <span\n      v-if=\"$slots.default || label\"\n      :class=\"ns.be('button', 'inner')\"\n      :style=\"isChecked ? activeStyle : undefined\"\n    >\n      <slot>{{ label }}</slot>\n    </span>\n  </label>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, useSlots } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  checkboxEmits,\n  checkboxProps,\n  useCheckbox,\n  useCheckboxGroup,\n} from './checkbox'\nimport type { CSSProperties } from 'vue'\n\ndefineOptions({\n  name: 'ElCheckboxButton',\n})\n\nconst props = defineProps(checkboxProps)\ndefineEmits(checkboxEmits)\nconst slots = useSlots()\n\nconst { focus, isChecked, isDisabled, size, model, handleChange } = useCheckbox(\n  props,\n  slots\n)\nconst { checkboxGroup } = useCheckboxGroup()\nconst ns = useNamespace('checkbox')\n\nconst activeStyle = computed<CSSProperties>(() => {\n  const fillValue = checkboxGroup?.fill?.value ?? ''\n  return {\n    backgroundColor: fillValue,\n    borderColor: fillValue,\n    color: checkboxGroup?.textColor?.value ?? '',\n    boxShadow: fillValue ? `-1px 0 0 0 ${fillValue}` : undefined,\n  }\n})\n</script>\n","<template>\n  <component\n    :is=\"tag\"\n    :id=\"groupId\"\n    :class=\"ns.b('group')\"\n    role=\"group\"\n    :aria-label=\"!isLabeledByFormItem ? label || 'checkbox-group' : undefined\"\n    :aria-labelledby=\"isLabeledByFormItem ? elFormItem?.labelId : undefined\"\n  >\n    <slot />\n  </component>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, nextTick, provide, toRefs, watch } from 'vue'\nimport { UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport { debugWarn } from '@element-plus/utils'\nimport { useNamespace, useSize } from '@element-plus/hooks'\nimport {\n  checkboxGroupEmits,\n  useCheckboxGroup,\n  useCheckboxGroupId,\n  useCheckboxGroupProps,\n} from './checkbox'\nimport type { CheckboxValueType } from './checkbox'\n\ndefineOptions({\n  name: 'ElCheckboxGroup',\n})\n\nconst props = defineProps(useCheckboxGroupProps)\nconst emit = defineEmits(checkboxGroupEmits)\n\nconst { elFormItem } = useCheckboxGroup()\nconst { groupId, isLabeledByFormItem } = useCheckboxGroupId(props, {\n  elFormItem,\n})\nconst checkboxGroupSize = useSize()\nconst ns = useNamespace('checkbox')\n\nconst changeEvent = (value: CheckboxValueType[]) => {\n  emit(UPDATE_MODEL_EVENT, value)\n  nextTick(() => {\n    emit('change', value)\n  })\n}\n\nconst modelValue = computed({\n  get() {\n    return props.modelValue\n  },\n  set(val: CheckboxValueType[]) {\n    changeEvent(val)\n  },\n})\n\nprovide('CheckboxGroup', {\n  name: 'ElCheckboxGroup',\n  ...toRefs(props),\n  modelValue,\n  checkboxGroupSize,\n  changeEvent,\n})\n\nwatch(\n  () => props.modelValue,\n  () => {\n    if (props.validateEvent) {\n      elFormItem?.validate('change').catch((err) => debugWarn(err))\n    }\n  }\n)\n</script>\n","import { withInstall, withNoopInstall } from '@element-plus/utils'\n\nimport Checkbox from './src/checkbox.vue'\nimport CheckboxButton from './src/checkbox-button.vue'\nimport CheckboxGroup from './src/checkbox-group.vue'\n\nexport const ElCheckbox = withInstall(Checkbox, {\n  CheckboxButton,\n  CheckboxGroup,\n})\nexport default ElCheckbox\n\nexport const ElCheckboxButton = withNoopInstall(CheckboxButton)\nexport const ElCheckboxGroup = withNoopInstall(CheckboxGroup)\n\nexport * from './src/checkbox'\nexport * from './src/checkbox.type'\n","<template>\n  <el-tooltip\n    ref=\"tooltip\"\n    :visible=\"tooltipVisible\"\n    :offset=\"0\"\n    :placement=\"placement\"\n    :show-arrow=\"false\"\n    :stop-popper-mouse-event=\"false\"\n    teleported\n    effect=\"light\"\n    pure\n    :popper-class=\"ns.b()\"\n    persistent\n  >\n    <template #content>\n      <div v-if=\"multiple\">\n        <div :class=\"ns.e('content')\">\n          <el-scrollbar :wrap-class=\"ns.e('wrap')\">\n            <el-checkbox-group\n              v-model=\"filteredValue\"\n              :class=\"ns.e('checkbox-group')\"\n            >\n              <el-checkbox\n                v-for=\"filter in filters\"\n                :key=\"filter.value\"\n                :label=\"filter.value\"\n              >\n                {{ filter.text }}\n              </el-checkbox>\n            </el-checkbox-group>\n          </el-scrollbar>\n        </div>\n        <div :class=\"ns.e('bottom')\">\n          <button\n            :class=\"{ [ns.is('disabled')]: filteredValue.length === 0 }\"\n            :disabled=\"filteredValue.length === 0\"\n            type=\"button\"\n            @click=\"handleConfirm\"\n          >\n            {{ t('el.table.confirmFilter') }}\n          </button>\n          <button type=\"button\" @click=\"handleReset\">\n            {{ t('el.table.resetFilter') }}\n          </button>\n        </div>\n      </div>\n      <ul v-else :class=\"ns.e('list')\">\n        <li\n          :class=\"[\n            ns.e('list-item'),\n            {\n              [ns.is('active')]:\n                filterValue === undefined || filterValue === null,\n            },\n          ]\"\n          @click=\"handleSelect(null)\"\n        >\n          {{ t('el.table.clearFilter') }}\n        </li>\n        <li\n          v-for=\"filter in filters\"\n          :key=\"filter.value\"\n          :class=\"[ns.e('list-item'), ns.is('active', isActive(filter))]\"\n          :label=\"filter.value\"\n          @click=\"handleSelect(filter.value)\"\n        >\n          {{ filter.text }}\n        </li>\n      </ul>\n    </template>\n    <template #default>\n      <span\n        v-click-outside:[popperPaneRef]=\"hideFilterPanel\"\n        :class=\"[\n          `${ns.namespace.value}-table__column-filter-trigger`,\n          `${ns.namespace.value}-none-outline`,\n        ]\"\n        @click=\"showFilterPanel\"\n      >\n        <el-icon>\n          <arrow-up v-if=\"column.filterOpened\" />\n          <arrow-down v-else />\n        </el-icon>\n      </span>\n    </template>\n  </el-tooltip>\n</template>\n\n<script lang=\"ts\">\n// @ts-nocheck\nimport { computed, defineComponent, getCurrentInstance, ref, watch } from 'vue'\nimport ElCheckbox from '@element-plus/components/checkbox'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { ArrowDown, ArrowUp } from '@element-plus/icons-vue'\nimport { ClickOutside } from '@element-plus/directives'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport ElScrollbar from '@element-plus/components/scrollbar'\nimport type { Placement } from '@element-plus/components/popper'\n\nimport type { PropType, WritableComputedRef } from 'vue'\nimport type { TableColumnCtx } from './table-column/defaults'\nimport type { TableHeader } from './table-header'\nimport type { Store } from './store'\n\nconst { CheckboxGroup: ElCheckboxGroup } = ElCheckbox\n\nexport default defineComponent({\n  name: 'ElTableFilterPanel',\n  components: {\n    ElCheckbox,\n    ElCheckboxGroup,\n    ElScrollbar,\n    ElTooltip,\n    ElIcon,\n    ArrowDown,\n    ArrowUp,\n  },\n  directives: { ClickOutside },\n  props: {\n    placement: {\n      type: String as PropType<Placement>,\n      default: 'bottom-start',\n    },\n    store: {\n      type: Object as PropType<Store<unknown>>,\n    },\n    column: {\n      type: Object as PropType<TableColumnCtx<unknown>>,\n    },\n    upDataColumn: {\n      type: Function,\n    },\n  },\n  setup(props) {\n    const instance = getCurrentInstance()\n    const { t } = useLocale()\n    const ns = useNamespace('table-filter')\n    const parent = instance?.parent as TableHeader\n    if (!parent.filterPanels.value[props.column.id]) {\n      parent.filterPanels.value[props.column.id] = instance\n    }\n    const tooltipVisible = ref(false)\n    const tooltip = ref<InstanceType<typeof ElTooltip> | null>(null)\n    const filters = computed(() => {\n      return props.column && props.column.filters\n    })\n    const filterValue = computed({\n      get: () => (props.column?.filteredValue || [])[0],\n      set: (value: string) => {\n        if (filteredValue.value) {\n          if (typeof value !== 'undefined' && value !== null) {\n            filteredValue.value.splice(0, 1, value)\n          } else {\n            filteredValue.value.splice(0, 1)\n          }\n        }\n      },\n    })\n    const filteredValue: WritableComputedRef<unknown[]> = computed({\n      get() {\n        if (props.column) {\n          return props.column.filteredValue || []\n        }\n        return []\n      },\n      set(value: unknown[]) {\n        if (props.column) {\n          props.upDataColumn('filteredValue', value)\n        }\n      },\n    })\n    const multiple = computed(() => {\n      if (props.column) {\n        return props.column.filterMultiple\n      }\n      return true\n    })\n    const isActive = (filter) => {\n      return filter.value === filterValue.value\n    }\n    const hidden = () => {\n      tooltipVisible.value = false\n    }\n    const showFilterPanel = (e: MouseEvent) => {\n      e.stopPropagation()\n      tooltipVisible.value = !tooltipVisible.value\n    }\n    const hideFilterPanel = () => {\n      tooltipVisible.value = false\n    }\n    const handleConfirm = () => {\n      confirmFilter(filteredValue.value)\n      hidden()\n    }\n    const handleReset = () => {\n      filteredValue.value = []\n      confirmFilter(filteredValue.value)\n      hidden()\n    }\n    const handleSelect = (_filterValue?: string) => {\n      filterValue.value = _filterValue\n      if (typeof _filterValue !== 'undefined' && _filterValue !== null) {\n        confirmFilter(filteredValue.value)\n      } else {\n        confirmFilter([])\n      }\n      hidden()\n    }\n    const confirmFilter = (filteredValue: unknown[]) => {\n      props.store.commit('filterChange', {\n        column: props.column,\n        values: filteredValue,\n      })\n      props.store.updateAllSelected()\n    }\n    watch(\n      tooltipVisible,\n      (value) => {\n        // todo\n        if (props.column) {\n          props.upDataColumn('filterOpened', value)\n        }\n      },\n      {\n        immediate: true,\n      }\n    )\n\n    const popperPaneRef = computed(() => {\n      return tooltip.value?.popperRef?.contentRef\n    })\n\n    return {\n      tooltipVisible,\n      multiple,\n      filteredValue,\n      filterValue,\n      filters,\n      handleConfirm,\n      handleReset,\n      handleSelect,\n      isActive,\n      t,\n      ns,\n      showFilterPanel,\n      hideFilterPanel,\n      popperPaneRef,\n      tooltip,\n    }\n  },\n})\n</script>\n","// @ts-nocheck\nimport {\n  computed,\n  getCurrentInstance,\n  onBeforeMount,\n  onMounted,\n  onUnmounted,\n  onUpdated,\n} from 'vue'\n\nimport type { TableHeader } from './table-header'\nimport type TableLayout from './table-layout'\nimport type { Table } from './table/defaults'\n\nfunction useLayoutObserver<T>(root: Table<T>) {\n  const instance = getCurrentInstance() as TableHeader\n  onBeforeMount(() => {\n    tableLayout.value.addObserver(instance)\n  })\n  onMounted(() => {\n    onColumnsChange(tableLayout.value)\n    onScrollableChange(tableLayout.value)\n  })\n  onUpdated(() => {\n    onColumnsChange(tableLayout.value)\n    onScrollableChange(tableLayout.value)\n  })\n  onUnmounted(() => {\n    tableLayout.value.removeObserver(instance)\n  })\n  const tableLayout = computed(() => {\n    const layout = root.layout as TableLayout<T>\n    if (!layout) {\n      throw new Error('Can not find table layout.')\n    }\n    return layout\n  })\n  const onColumnsChange = (layout: TableLayout<T>) => {\n    const cols = root.vnode.el?.querySelectorAll('colgroup > col') || []\n    if (!cols.length) return\n    const flattenColumns = layout.getFlattenColumns()\n    const columnsMap = {}\n    flattenColumns.forEach((column) => {\n      columnsMap[column.id] = column\n    })\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i]\n      const name = col.getAttribute('name')\n      const column = columnsMap[name]\n      if (column) {\n        col.setAttribute('width', column.realWidth || column.width)\n      }\n    }\n  }\n\n  const onScrollableChange = (layout: TableLayout<T>) => {\n    const cols =\n      root.vnode.el?.querySelectorAll('colgroup > col[name=gutter]') || []\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i]\n      col.setAttribute('width', layout.scrollY.value ? layout.gutterWidth : '0')\n    }\n    const ths = root.vnode.el?.querySelectorAll('th.gutter') || []\n    for (let i = 0, j = ths.length; i < j; i++) {\n      const th = ths[i]\n      th.style.width = layout.scrollY.value ? `${layout.gutterWidth}px` : '0'\n      th.style.display = layout.scrollY.value ? '' : 'none'\n    }\n  }\n\n  return {\n    tableLayout: tableLayout.value,\n    onColumnsChange,\n    onScrollableChange,\n  }\n}\n\nexport default useLayoutObserver\n","import type { InjectionKey } from 'vue'\nimport type { DefaultRow, Table } from './table/defaults'\n\nexport const TABLE_INJECTION_KEY: InjectionKey<Table<DefaultRow>> =\n  Symbol('ElTable')\n","// @ts-nocheck\nimport { getCurrentInstance, inject, ref } from 'vue'\nimport { isClient } from '@vueuse/core'\nimport { addClass, hasClass, removeClass } from '@element-plus/utils'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableHeaderProps } from '.'\nimport type { TableColumnCtx } from '../table-column/defaults'\n\nfunction useEvent<T>(props: TableHeaderProps<T>, emit) {\n  const instance = getCurrentInstance()\n  const parent = inject(TABLE_INJECTION_KEY)\n  const handleFilterClick = (event: Event) => {\n    event.stopPropagation()\n    return\n  }\n\n  const handleHeaderClick = (event: Event, column: TableColumnCtx<T>) => {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false)\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event)\n    }\n    parent?.emit('header-click', column, event)\n  }\n\n  const handleHeaderContextMenu = (event: Event, column: TableColumnCtx<T>) => {\n    parent?.emit('header-contextmenu', column, event)\n  }\n  const draggingColumn = ref(null)\n  const dragging = ref(false)\n  const dragState = ref({})\n  const handleMouseDown = (event: MouseEvent, column: TableColumnCtx<T>) => {\n    if (!isClient) return\n    if (column.children && column.children.length > 0) return\n    /* istanbul ignore if */\n    if (draggingColumn.value && props.border) {\n      dragging.value = true\n\n      const table = parent\n      emit('set-drag-visible', true)\n      const tableEl = table?.vnode.el\n      const tableLeft = tableEl.getBoundingClientRect().left\n      const columnEl = instance.vnode.el.querySelector(`th.${column.id}`)\n      const columnRect = columnEl.getBoundingClientRect()\n      const minLeft = columnRect.left - tableLeft + 30\n\n      addClass(columnEl, 'noclick')\n\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft,\n      }\n      const resizeProxy = table?.refs.resizeProxy as HTMLElement\n      resizeProxy.style.left = `${(dragState.value as any).startLeft}px`\n\n      document.onselectstart = function () {\n        return false\n      }\n      document.ondragstart = function () {\n        return false\n      }\n\n      const handleMouseMove = (event: MouseEvent) => {\n        const deltaLeft =\n          event.clientX - (dragState.value as any).startMouseLeft\n        const proxyLeft = (dragState.value as any).startLeft + deltaLeft\n\n        resizeProxy.style.left = `${Math.max(minLeft, proxyLeft)}px`\n      }\n\n      const handleMouseUp = () => {\n        if (dragging.value) {\n          const { startColumnLeft, startLeft } = dragState.value as any\n          const finalLeft = Number.parseInt(resizeProxy.style.left, 10)\n          const columnWidth = finalLeft - startColumnLeft\n          column.width = column.realWidth = columnWidth\n          table?.emit(\n            'header-dragend',\n            column.width,\n            startLeft - startColumnLeft,\n            column,\n            event\n          )\n          requestAnimationFrame(() => {\n            props.store.scheduleLayout(false, true)\n          })\n          document.body.style.cursor = ''\n          dragging.value = false\n          draggingColumn.value = null\n          dragState.value = {}\n          emit('set-drag-visible', false)\n        }\n\n        document.removeEventListener('mousemove', handleMouseMove)\n        document.removeEventListener('mouseup', handleMouseUp)\n        document.onselectstart = null\n        document.ondragstart = null\n\n        setTimeout(() => {\n          removeClass(columnEl, 'noclick')\n        }, 0)\n      }\n\n      document.addEventListener('mousemove', handleMouseMove)\n      document.addEventListener('mouseup', handleMouseUp)\n    }\n  }\n\n  const handleMouseMove = (event: MouseEvent, column: TableColumnCtx<T>) => {\n    if (column.children && column.children.length > 0) return\n\n    const target = (event.target as HTMLElement)?.closest('th')\n\n    if (!column || !column.resizable) return\n\n    if (!dragging.value && props.border) {\n      const rect = target.getBoundingClientRect()\n\n      const bodyStyle = document.body.style\n      if (rect.width > 12 && rect.right - event.pageX < 8) {\n        bodyStyle.cursor = 'col-resize'\n        if (hasClass(target, 'is-sortable')) {\n          target.style.cursor = 'col-resize'\n        }\n        draggingColumn.value = column\n      } else if (!dragging.value) {\n        bodyStyle.cursor = ''\n        if (hasClass(target, 'is-sortable')) {\n          target.style.cursor = 'pointer'\n        }\n        draggingColumn.value = null\n      }\n    }\n  }\n\n  const handleMouseOut = () => {\n    if (!isClient) return\n    document.body.style.cursor = ''\n  }\n  const toggleOrder = ({ order, sortOrders }) => {\n    if (order === '') return sortOrders[0]\n    const index = sortOrders.indexOf(order || null)\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1]\n  }\n  const handleSortClick = (\n    event: Event,\n    column: TableColumnCtx<T>,\n    givenOrder: string | boolean\n  ) => {\n    event.stopPropagation()\n    const order =\n      column.order === givenOrder ? null : givenOrder || toggleOrder(column)\n\n    const target = (event.target as HTMLElement)?.closest('th')\n\n    if (target) {\n      if (hasClass(target, 'noclick')) {\n        removeClass(target, 'noclick')\n        return\n      }\n    }\n\n    if (!column.sortable) return\n\n    const states = props.store.states\n    let sortProp = states.sortProp.value\n    let sortOrder\n    const sortingColumn = states.sortingColumn.value\n\n    if (\n      sortingColumn !== column ||\n      (sortingColumn === column && sortingColumn.order === null)\n    ) {\n      if (sortingColumn) {\n        sortingColumn.order = null\n      }\n      states.sortingColumn.value = column\n      sortProp = column.property\n    }\n    if (!order) {\n      sortOrder = column.order = null\n    } else {\n      sortOrder = column.order = order\n    }\n\n    states.sortProp.value = sortProp\n    states.sortOrder.value = sortOrder\n\n    parent?.store.commit('changeSortCondition')\n  }\n\n  return {\n    handleHeaderClick,\n    handleHeaderContextMenu,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseOut,\n    handleSortClick,\n    handleFilterClick,\n  }\n}\n\nexport default useEvent\n","import { inject } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  ensurePosition,\n  getFixedColumnOffset,\n  getFixedColumnsClass,\n} from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableHeaderProps } from '.'\n\nfunction useStyle<T>(props: TableHeaderProps<T>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const ns = useNamespace('table')\n\n  const getHeaderRowStyle = (rowIndex: number) => {\n    const headerRowStyle = parent?.props.headerRowStyle\n    if (typeof headerRowStyle === 'function') {\n      return headerRowStyle.call(null, { rowIndex })\n    }\n    return headerRowStyle\n  }\n\n  const getHeaderRowClass = (rowIndex: number): string => {\n    const classes: string[] = []\n    const headerRowClassName = parent?.props.headerRowClassName\n    if (typeof headerRowClassName === 'string') {\n      classes.push(headerRowClassName)\n    } else if (typeof headerRowClassName === 'function') {\n      classes.push(headerRowClassName.call(null, { rowIndex }))\n    }\n\n    return classes.join(' ')\n  }\n\n  const getHeaderCellStyle = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    let headerCellStyles = parent?.props.headerCellStyle ?? {}\n    if (typeof headerCellStyles === 'function') {\n      headerCellStyles = headerCellStyles.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column,\n      })\n    }\n    const fixedStyle = column.isSubColumn\n      ? null\n      : getFixedColumnOffset<T>(\n          columnIndex,\n          column.fixed,\n          props.store,\n          row as unknown as TableColumnCtx<T>[]\n        )\n    ensurePosition(fixedStyle, 'left')\n    ensurePosition(fixedStyle, 'right')\n    return Object.assign({}, headerCellStyles, fixedStyle)\n  }\n\n  const getHeaderCellClass = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    const fixedClasses = column.isSubColumn\n      ? []\n      : getFixedColumnsClass<T>(\n          ns.b(),\n          columnIndex,\n          column.fixed,\n          props.store,\n          row as unknown as TableColumnCtx<T>[]\n        )\n    const classes = [\n      column.id,\n      column.order,\n      column.headerAlign,\n      column.className,\n      column.labelClassName,\n      ...fixedClasses,\n    ]\n\n    if (!column.children) {\n      classes.push('is-leaf')\n    }\n\n    if (column.sortable) {\n      classes.push('is-sortable')\n    }\n\n    const headerCellClassName = parent?.props.headerCellClassName\n    if (typeof headerCellClassName === 'string') {\n      classes.push(headerCellClassName)\n    } else if (typeof headerCellClassName === 'function') {\n      classes.push(\n        headerCellClassName.call(null, {\n          rowIndex,\n          columnIndex,\n          row,\n          column,\n        })\n      )\n    }\n\n    classes.push(ns.e('cell'))\n\n    return classes.filter((className) => Boolean(className)).join(' ')\n  }\n\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass,\n  }\n}\n\nexport default useStyle\n","// @ts-nocheck\nimport { computed, inject } from 'vue'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableHeaderProps } from '.'\n\nconst getAllColumns = <T>(\n  columns: TableColumnCtx<T>[]\n): TableColumnCtx<T>[] => {\n  const result: TableColumnCtx<T>[] = []\n  columns.forEach((column) => {\n    if (column.children) {\n      result.push(column)\n      // eslint-disable-next-line prefer-spread\n      result.push.apply(result, getAllColumns(column.children))\n    } else {\n      result.push(column)\n    }\n  })\n  return result\n}\n\nconst convertToRows = <T>(\n  originColumns: TableColumnCtx<T>[]\n): TableColumnCtx<T>[] => {\n  let maxLevel = 1\n  const traverse = (column: TableColumnCtx<T>, parent: TableColumnCtx<T>) => {\n    if (parent) {\n      column.level = parent.level + 1\n      if (maxLevel < column.level) {\n        maxLevel = column.level\n      }\n    }\n    if (column.children) {\n      let colSpan = 0\n      column.children.forEach((subColumn) => {\n        traverse(subColumn, column)\n        colSpan += subColumn.colSpan\n      })\n      column.colSpan = colSpan\n    } else {\n      column.colSpan = 1\n    }\n  }\n\n  originColumns.forEach((column) => {\n    column.level = 1\n    traverse(column, undefined)\n  })\n\n  const rows = []\n  for (let i = 0; i < maxLevel; i++) {\n    rows.push([])\n  }\n\n  const allColumns: TableColumnCtx<T>[] = getAllColumns(originColumns)\n\n  allColumns.forEach((column) => {\n    if (!column.children) {\n      column.rowSpan = maxLevel - column.level + 1\n    } else {\n      column.rowSpan = 1\n      column.children.forEach((col) => (col.isSubColumn = true))\n    }\n    rows[column.level - 1].push(column)\n  })\n\n  return rows\n}\n\nfunction useUtils<T>(props: TableHeaderProps<T>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const columnRows = computed(() => {\n    return convertToRows(props.store.states.originColumns.value)\n  })\n  const isGroup = computed(() => {\n    const result = columnRows.value.length > 1\n    if (result && parent) {\n      parent.state.isGroup.value = true\n    }\n    return result\n  })\n  const toggleAllSelection = (event: Event) => {\n    event.stopPropagation()\n    parent?.store.commit('toggleAllSelection')\n  }\n  return {\n    isGroup,\n    toggleAllSelection,\n    columnRows,\n  }\n}\n\nexport default useUtils\n","// @ts-nocheck\nimport {\n  defineComponent,\n  getCurrentInstance,\n  h,\n  inject,\n  nextTick,\n  onMounted,\n  ref,\n} from 'vue'\nimport ElCheckbox from '@element-plus/components/checkbox'\nimport { useNamespace } from '@element-plus/hooks'\nimport FilterPanel from '../filter-panel.vue'\nimport useLayoutObserver from '../layout-observer'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport useEvent from './event-helper'\nimport useStyle from './style.helper'\nimport useUtils from './utils-helper'\nimport type { ComponentInternalInstance, PropType, Ref } from 'vue'\nimport type { DefaultRow, Sort } from '../table/defaults'\nimport type { Store } from '../store'\nexport interface TableHeader extends ComponentInternalInstance {\n  state: {\n    onColumnsChange\n    onScrollableChange\n  }\n  filterPanels: Ref<unknown>\n}\nexport interface TableHeaderProps<T> {\n  fixed: string\n  store: Store<T>\n  border: boolean\n  defaultSort: Sort\n}\n\nexport default defineComponent({\n  name: 'ElTableHeader',\n  components: {\n    ElCheckbox,\n  },\n  props: {\n    fixed: {\n      type: String,\n      default: '',\n    },\n    store: {\n      required: true,\n      type: Object as PropType<TableHeaderProps<DefaultRow>['store']>,\n    },\n    border: Boolean,\n    defaultSort: {\n      type: Object as PropType<TableHeaderProps<DefaultRow>['defaultSort']>,\n      default: () => {\n        return {\n          prop: '',\n          order: '',\n        }\n      },\n    },\n  },\n  setup(props, { emit }) {\n    const instance = getCurrentInstance() as TableHeader\n    const parent = inject(TABLE_INJECTION_KEY)\n    const ns = useNamespace('table')\n    const filterPanels = ref({})\n    const { onColumnsChange, onScrollableChange } = useLayoutObserver(parent!)\n    onMounted(async () => {\n      // Need double await, because udpateColumns is executed after nextTick for now\n      await nextTick()\n      await nextTick()\n      const { prop, order } = props.defaultSort\n      parent?.store.commit('sort', { prop, order, init: true })\n    })\n    const {\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick,\n    } = useEvent(props as TableHeaderProps<unknown>, emit)\n    const {\n      getHeaderRowStyle,\n      getHeaderRowClass,\n      getHeaderCellStyle,\n      getHeaderCellClass,\n    } = useStyle(props as TableHeaderProps<unknown>)\n    const { isGroup, toggleAllSelection, columnRows } = useUtils(\n      props as TableHeaderProps<unknown>\n    )\n\n    instance.state = {\n      onColumnsChange,\n      onScrollableChange,\n    }\n    instance.filterPanels = filterPanels\n\n    return {\n      ns,\n      filterPanels,\n      onColumnsChange,\n      onScrollableChange,\n      columnRows,\n      getHeaderRowClass,\n      getHeaderRowStyle,\n      getHeaderCellClass,\n      getHeaderCellStyle,\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick,\n      isGroup,\n      toggleAllSelection,\n    }\n  },\n  render() {\n    const {\n      ns,\n      isGroup,\n      columnRows,\n      getHeaderCellStyle,\n      getHeaderCellClass,\n      getHeaderRowClass,\n      getHeaderRowStyle,\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleSortClick,\n      handleMouseOut,\n      store,\n      $parent,\n    } = this\n    let rowSpan = 1\n    return h(\n      'thead',\n      {\n        class: { [ns.is('group')]: isGroup },\n      },\n      columnRows.map((subColumns, rowIndex) =>\n        h(\n          'tr',\n          {\n            class: getHeaderRowClass(rowIndex),\n            key: rowIndex,\n            style: getHeaderRowStyle(rowIndex),\n          },\n          subColumns.map((column, cellIndex) => {\n            if (column.rowSpan > rowSpan) {\n              rowSpan = column.rowSpan\n            }\n            return h(\n              'th',\n              {\n                class: getHeaderCellClass(\n                  rowIndex,\n                  cellIndex,\n                  subColumns,\n                  column\n                ),\n                colspan: column.colSpan,\n                key: `${column.id}-thead`,\n                rowspan: column.rowSpan,\n                style: getHeaderCellStyle(\n                  rowIndex,\n                  cellIndex,\n                  subColumns,\n                  column\n                ),\n                onClick: ($event) => handleHeaderClick($event, column),\n                onContextmenu: ($event) =>\n                  handleHeaderContextMenu($event, column),\n                onMousedown: ($event) => handleMouseDown($event, column),\n                onMousemove: ($event) => handleMouseMove($event, column),\n                onMouseout: handleMouseOut,\n              },\n              [\n                h(\n                  'div',\n                  {\n                    class: [\n                      'cell',\n                      column.filteredValue && column.filteredValue.length > 0\n                        ? 'highlight'\n                        : '',\n                      column.labelClassName,\n                    ],\n                  },\n                  [\n                    column.renderHeader\n                      ? column.renderHeader({\n                          column,\n                          $index: cellIndex,\n                          store,\n                          _self: $parent,\n                        })\n                      : column.label,\n                    column.sortable &&\n                      h(\n                        'span',\n                        {\n                          onClick: ($event) => handleSortClick($event, column),\n                          class: 'caret-wrapper',\n                        },\n                        [\n                          h('i', {\n                            onClick: ($event) =>\n                              handleSortClick($event, column, 'ascending'),\n                            class: 'sort-caret ascending',\n                          }),\n                          h('i', {\n                            onClick: ($event) =>\n                              handleSortClick($event, column, 'descending'),\n                            class: 'sort-caret descending',\n                          }),\n                        ]\n                      ),\n                    column.filterable &&\n                      h(FilterPanel, {\n                        store,\n                        placement: column.filterPlacement || 'bottom-start',\n                        column,\n                        upDataColumn: (key, value) => {\n                          column[key] = value\n                        },\n                      }),\n                  ]\n                ),\n              ]\n            )\n          })\n        )\n      )\n    )\n  },\n})\n","// @ts-nocheck\nimport { h, inject, ref } from 'vue'\nimport { debounce } from 'lodash-unified'\nimport { getStyle, hasClass } from '@element-plus/utils'\nimport { createTablePopper, getCell, getColumnByCell } from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableBodyProps } from './defaults'\n\nfunction useEvents<T>(props: Partial<TableBodyProps<T>>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const tooltipContent = ref('')\n  const tooltipTrigger = ref(h('div'))\n  const handleEvent = (event: Event, row: T, name: string) => {\n    const table = parent\n    const cell = getCell(event)\n    let column: TableColumnCtx<T>\n    const namespace = table?.vnode.el?.dataset.prefix\n    if (cell) {\n      column = getColumnByCell(\n        {\n          columns: props.store.states.columns.value,\n        },\n        cell,\n        namespace\n      )\n      if (column) {\n        table?.emit(`cell-${name}`, row, column, cell, event)\n      }\n    }\n    table?.emit(`row-${name}`, row, column, event)\n  }\n  const handleDoubleClick = (event: Event, row: T) => {\n    handleEvent(event, row, 'dblclick')\n  }\n  const handleClick = (event: Event, row: T) => {\n    props.store.commit('setCurrentRow', row)\n    handleEvent(event, row, 'click')\n  }\n  const handleContextMenu = (event: Event, row: T) => {\n    handleEvent(event, row, 'contextmenu')\n  }\n  const handleMouseEnter = debounce((index: number) => {\n    props.store.commit('setHoverRow', index)\n  }, 30)\n  const handleMouseLeave = debounce(() => {\n    props.store.commit('setHoverRow', null)\n  }, 30)\n  const handleCellMouseEnter = (\n    event: MouseEvent,\n    row: T,\n    tooltipEffect: string\n  ) => {\n    const table = parent\n    const cell = getCell(event)\n    const namespace = table?.vnode.el?.dataset.prefix\n    if (cell) {\n      const column = getColumnByCell(\n        {\n          columns: props.store.states.columns.value,\n        },\n        cell,\n        namespace\n      )\n      const hoverState = (table.hoverState = { cell, column, row })\n      table?.emit(\n        'cell-mouse-enter',\n        hoverState.row,\n        hoverState.column,\n        hoverState.cell,\n        event\n      )\n    }\n\n    // 判断是否text-overflow, 如果是就显示tooltip\n    const cellChild = (event.target as HTMLElement).querySelector(\n      '.cell'\n    ) as HTMLElement\n    if (\n      !(\n        hasClass(cellChild, `${namespace}-tooltip`) &&\n        cellChild.childNodes.length\n      )\n    ) {\n      return\n    }\n    // use range width instead of scrollWidth to determine whether the text is overflowing\n    // to address a potential FireFox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1074543#c3\n    const range = document.createRange()\n    range.setStart(cellChild, 0)\n    range.setEnd(cellChild, cellChild.childNodes.length)\n    const rangeWidth = range.getBoundingClientRect().width\n    const padding =\n      (Number.parseInt(getStyle(cellChild, 'paddingLeft'), 10) || 0) +\n      (Number.parseInt(getStyle(cellChild, 'paddingRight'), 10) || 0)\n    if (\n      rangeWidth + padding > cellChild.offsetWidth ||\n      cellChild.scrollWidth > cellChild.offsetWidth\n    ) {\n      createTablePopper(\n        parent?.refs.tableWrapper,\n        cell,\n        cell.innerText || cell.textContent,\n        {\n          placement: 'top',\n          strategy: 'fixed',\n        },\n        tooltipEffect\n      )\n    }\n  }\n  const handleCellMouseLeave = (event) => {\n    const cell = getCell(event)\n    if (!cell) return\n\n    const oldHoverState = parent?.hoverState\n    parent?.emit(\n      'cell-mouse-leave',\n      oldHoverState?.row,\n      oldHoverState?.column,\n      oldHoverState?.cell,\n      event\n    )\n  }\n\n  return {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger,\n  }\n}\n\nexport default useEvents\n","// @ts-nocheck\nimport { inject } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  ensurePosition,\n  getFixedColumnOffset,\n  getFixedColumnsClass,\n} from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableBodyProps } from './defaults'\n\nfunction useStyles<T>(props: Partial<TableBodyProps<T>>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const ns = useNamespace('table')\n\n  const getRowStyle = (row: T, rowIndex: number) => {\n    const rowStyle = parent?.props.rowStyle\n    if (typeof rowStyle === 'function') {\n      return rowStyle.call(null, {\n        row,\n        rowIndex,\n      })\n    }\n    return rowStyle || null\n  }\n\n  const getRowClass = (row: T, rowIndex: number) => {\n    const classes = [ns.e('row')]\n    if (\n      parent?.props.highlightCurrentRow &&\n      row === props.store.states.currentRow.value\n    ) {\n      classes.push('current-row')\n    }\n\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push(ns.em('row', 'striped'))\n    }\n    const rowClassName = parent?.props.rowClassName\n    if (typeof rowClassName === 'string') {\n      classes.push(rowClassName)\n    } else if (typeof rowClassName === 'function') {\n      classes.push(\n        rowClassName.call(null, {\n          row,\n          rowIndex,\n        })\n      )\n    }\n    return classes\n  }\n\n  const getCellStyle = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    const cellStyle = parent?.props.cellStyle\n    let cellStyles = cellStyle ?? {}\n    if (typeof cellStyle === 'function') {\n      cellStyles = cellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column,\n      })\n    }\n    const fixedStyle = column.isSubColumn\n      ? null\n      : getFixedColumnOffset(columnIndex, props?.fixed, props.store)\n    ensurePosition(fixedStyle, 'left')\n    ensurePosition(fixedStyle, 'right')\n    return Object.assign({}, cellStyles, fixedStyle)\n  }\n\n  const getCellClass = (\n    rowIndex: number,\n    columnIndex: number,\n    row: T,\n    column: TableColumnCtx<T>\n  ) => {\n    const fixedClasses = column.isSubColumn\n      ? []\n      : getFixedColumnsClass(ns.b(), columnIndex, props?.fixed, props.store)\n    const classes = [column.id, column.align, column.className, ...fixedClasses]\n    const cellClassName = parent?.props.cellClassName\n    if (typeof cellClassName === 'string') {\n      classes.push(cellClassName)\n    } else if (typeof cellClassName === 'function') {\n      classes.push(\n        cellClassName.call(null, {\n          rowIndex,\n          columnIndex,\n          row,\n          column,\n        })\n      )\n    }\n    classes.push(ns.e('cell'))\n    return classes.filter((className) => Boolean(className)).join(' ')\n  }\n  const getSpan = (\n    row: T,\n    column: TableColumnCtx<T>,\n    rowIndex: number,\n    columnIndex: number\n  ) => {\n    let rowspan = 1\n    let colspan = 1\n    const fn = parent?.props.spanMethod\n    if (typeof fn === 'function') {\n      const result = fn({\n        row,\n        column,\n        rowIndex,\n        columnIndex,\n      })\n      if (Array.isArray(result)) {\n        rowspan = result[0]\n        colspan = result[1]\n      } else if (typeof result === 'object') {\n        rowspan = result.rowspan\n        colspan = result.colspan\n      }\n    }\n    return { rowspan, colspan }\n  }\n  const getColspanRealWidth = (\n    columns: TableColumnCtx<T>[],\n    colspan: number,\n    index: number\n  ): number => {\n    if (colspan < 1) {\n      return columns[index].realWidth\n    }\n    const widthArr = columns\n      .map(({ realWidth, width }) => realWidth || width)\n      .slice(index, index + colspan)\n    return Number(\n      widthArr.reduce((acc, width) => Number(acc) + Number(width), -1)\n    )\n  }\n\n  return {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n  }\n}\n\nexport default useStyles\n","// @ts-nocheck\nimport { computed, h, inject } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { getRowIdentity } from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport useEvents from './events-helper'\nimport useStyles from './styles-helper'\nimport type { TableBodyProps } from './defaults'\nimport type { RenderRowData, TableProps, TreeNode } from '../table/defaults'\n\nfunction useRender<T>(props: Partial<TableBodyProps<T>>) {\n  const parent = inject(TABLE_INJECTION_KEY)\n  const ns = useNamespace('table')\n  const {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger,\n  } = useEvents(props)\n  const {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n  } = useStyles(props)\n  const firstDefaultColumnIndex = computed(() => {\n    return props.store.states.columns.value.findIndex(\n      ({ type }) => type === 'default'\n    )\n  })\n  const getKeyOfRow = (row: T, index: number) => {\n    const rowKey = (parent.props as Partial<TableProps<T>>).rowKey\n    if (rowKey) {\n      return getRowIdentity(row, rowKey)\n    }\n    return index\n  }\n  const rowRender = (\n    row: T,\n    $index: number,\n    treeRowData?: TreeNode,\n    expanded = false\n  ) => {\n    const { tooltipEffect, store } = props\n    const { indent, columns } = store.states\n    const rowClasses = getRowClass(row, $index)\n    let display = true\n    if (treeRowData) {\n      rowClasses.push(ns.em('row', `level-${treeRowData.level}`))\n      display = treeRowData.display\n    }\n    const displayStyle = display\n      ? null\n      : {\n          display: 'none',\n        }\n    return h(\n      'tr',\n      {\n        style: [displayStyle, getRowStyle(row, $index)],\n        class: rowClasses,\n        key: getKeyOfRow(row, $index),\n        onDblclick: ($event) => handleDoubleClick($event, row),\n        onClick: ($event) => handleClick($event, row),\n        onContextmenu: ($event) => handleContextMenu($event, row),\n        onMouseenter: () => handleMouseEnter($index),\n        onMouseleave: handleMouseLeave,\n      },\n      columns.value.map((column, cellIndex) => {\n        const { rowspan, colspan } = getSpan(row, column, $index, cellIndex)\n        if (!rowspan || !colspan) {\n          return null\n        }\n        const columnData = { ...column }\n        columnData.realWidth = getColspanRealWidth(\n          columns.value,\n          colspan,\n          cellIndex\n        )\n        const data: RenderRowData<T> = {\n          store: props.store,\n          _self: props.context || parent,\n          column: columnData,\n          row,\n          $index,\n          cellIndex,\n          expanded,\n        }\n        if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n          data.treeNode = {\n            indent: treeRowData.level * indent.value,\n            level: treeRowData.level,\n          }\n          if (typeof treeRowData.expanded === 'boolean') {\n            data.treeNode.expanded = treeRowData.expanded\n            // 表明是懒加载\n            if ('loading' in treeRowData) {\n              data.treeNode.loading = treeRowData.loading\n            }\n            if ('noLazyChildren' in treeRowData) {\n              data.treeNode.noLazyChildren = treeRowData.noLazyChildren\n            }\n          }\n        }\n        const baseKey = `${$index},${cellIndex}`\n        const patchKey = columnData.columnKey || columnData.rawColumnKey || ''\n        const tdChildren = cellChildren(cellIndex, column, data)\n        return h(\n          'td',\n          {\n            style: getCellStyle($index, cellIndex, row, column),\n            class: getCellClass($index, cellIndex, row, column),\n            key: `${patchKey}${baseKey}`,\n            rowspan,\n            colspan,\n            onMouseenter: ($event) =>\n              handleCellMouseEnter($event, row, tooltipEffect),\n            onMouseleave: handleCellMouseLeave,\n          },\n          [tdChildren]\n        )\n      })\n    )\n  }\n  const cellChildren = (cellIndex, column, data) => {\n    return column.renderCell(data)\n  }\n\n  const wrappedRowRender = (row: T, $index: number) => {\n    const store = props.store\n    const { isRowExpanded, assertRowKey } = store\n    const { treeData, lazyTreeNodeMap, childrenColumnName, rowKey } =\n      store.states\n    const columns = store.states.columns.value\n    const hasExpandColumn = columns.some(({ type }) => type === 'expand')\n    if (hasExpandColumn) {\n      const expanded = isRowExpanded(row)\n      const tr = rowRender(row, $index, undefined, expanded)\n      const renderExpanded = parent.renderExpanded\n      if (expanded) {\n        if (!renderExpanded) {\n          console.error('[Element Error]renderExpanded is required.')\n          return tr\n        }\n        // 使用二维数组，避免修改 $index\n        // Use a matrix to avoid modifying $index\n        return [\n          [\n            tr,\n            h(\n              'tr',\n              {\n                key: `expanded-row__${tr.key as string}`,\n              },\n              [\n                h(\n                  'td',\n                  {\n                    colspan: columns.length,\n                    class: 'el-table__cell el-table__expanded-cell',\n                  },\n                  [renderExpanded({ row, $index, store, expanded })]\n                ),\n              ]\n            ),\n          ],\n        ]\n      } else {\n        // 使用二维数组，避免修改 $index\n        // Use a two dimensional array avoid modifying $index\n        return [[tr]]\n      }\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey()\n      // TreeTable 时，rowKey 必须由用户设定，不使用 getKeyOfRow 计算\n      // 在调用 rowRender 函数时，仍然会计算 rowKey，不太好的操作\n      const key = getRowIdentity(row, rowKey.value)\n      let cur = treeData.value[key]\n      let treeRowData = null\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true,\n        }\n        if (typeof cur.lazy === 'boolean') {\n          if (typeof cur.loaded === 'boolean' && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length)\n          }\n          treeRowData.loading = cur.loading\n        }\n      }\n      const tmp = [rowRender(row, $index, treeRowData)]\n      // 渲染嵌套数据\n      if (cur) {\n        // currentRow 记录的是 index，所以还需主动增加 TreeTable 的 index\n        let i = 0\n        const traverse = (children, parent) => {\n          if (!(children && children.length && parent)) return\n          children.forEach((node) => {\n            // 父节点的 display 状态影响子节点的显示状态\n            const innerTreeRowData = {\n              display: parent.display && parent.expanded,\n              level: parent.level + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false,\n            }\n            const childKey = getRowIdentity(node, rowKey.value)\n            if (childKey === undefined || childKey === null) {\n              throw new Error('For nested data item, row-key is required.')\n            }\n            cur = { ...treeData.value[childKey] }\n            // 对于当前节点，分成有无子节点两种情况。\n            // 如果包含子节点的，设置 expanded 属性。\n            // 对于它子节点的 display 属性由它本身的 expanded 与 display 共同决定。\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded\n              // 懒加载的某些节点，level 未知\n              cur.level = cur.level || innerTreeRowData.level\n              cur.display = !!(cur.expanded && innerTreeRowData.display)\n              if (typeof cur.lazy === 'boolean') {\n                if (typeof cur.loaded === 'boolean' && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(\n                    cur.children && cur.children.length\n                  )\n                }\n                innerTreeRowData.loading = cur.loading\n              }\n            }\n            i++\n            tmp.push(rowRender(node, $index + i, innerTreeRowData))\n            if (cur) {\n              const nodes =\n                lazyTreeNodeMap.value[childKey] ||\n                node[childrenColumnName.value]\n              traverse(nodes, cur)\n            }\n          })\n        }\n        // 对于 root 节点，display 一定为 true\n        cur.display = true\n        const nodes =\n          lazyTreeNodeMap.value[key] || row[childrenColumnName.value]\n        traverse(nodes, cur)\n      }\n      return tmp\n    } else {\n      return rowRender(row, $index, undefined)\n    }\n  }\n\n  return {\n    wrappedRowRender,\n    tooltipContent,\n    tooltipTrigger,\n  }\n}\n\nexport default useRender\n","// @ts-nocheck\nimport type { PropType } from 'vue'\nimport type { Store } from '../store'\nimport type {\n  ColumnCls,\n  ColumnStyle,\n  DefaultRow,\n  Table,\n} from '../table/defaults'\n\ninterface TableBodyProps<T> {\n  store: Store<T>\n  stripe?: boolean\n  context: Table<T>\n  rowClassName: ColumnCls<T>\n  rowStyle: ColumnStyle<T>\n  fixed: string\n  highlight: boolean\n  tooltipEffect: string\n}\n\nconst defaultProps = {\n  store: {\n    required: true,\n    type: Object as PropType<TableBodyProps<DefaultRow>['store']>,\n  },\n  stripe: Boolean,\n  tooltipEffect: String,\n  context: {\n    default: () => ({}),\n    type: Object as PropType<TableBodyProps<DefaultRow>['context']>,\n  },\n  rowClassName: [String, Function] as PropType<\n    TableBodyProps<DefaultRow>['rowClassName']\n  >,\n  rowStyle: [Object, Function] as PropType<\n    TableBodyProps<DefaultRow>['rowStyle']\n  >,\n  fixed: {\n    type: String,\n    default: '',\n  },\n  highlight: Boolean,\n}\n\nexport { TableBodyProps }\nexport default defaultProps\n","// @ts-nocheck\nimport {\n  defineComponent,\n  getCurrentInstance,\n  h,\n  inject,\n  onUnmounted,\n  watch,\n} from 'vue'\nimport { isClient } from '@vueuse/core'\nimport { addClass, removeClass } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport useLayoutObserver from '../layout-observer'\nimport { removePopper } from '../util'\nimport { TABLE_INJECTION_KEY } from '../tokens'\nimport useRender from './render-helper'\nimport defaultProps from './defaults'\n\nimport type { VNode } from 'vue'\n\nexport default defineComponent({\n  name: 'ElTableBody',\n  props: defaultProps,\n  setup(props) {\n    const instance = getCurrentInstance()\n    const parent = inject(TABLE_INJECTION_KEY)\n    const ns = useNamespace('table')\n    const { wrappedRowRender, tooltipContent, tooltipTrigger } =\n      useRender(props)\n    const { onColumnsChange, onScrollableChange } = useLayoutObserver(parent!)\n\n    watch(props.store.states.hoverRow, (newVal: any, oldVal: any) => {\n      if (!props.store.states.isComplex.value || !isClient) return\n      let raf = window.requestAnimationFrame\n      if (!raf) {\n        raf = (fn) => window.setTimeout(fn, 16)\n      }\n      raf(() => {\n        const rows = instance?.vnode.el?.querySelectorAll(`.${ns.e('row')}`)\n        const oldRow = rows[oldVal]\n        const newRow = rows[newVal]\n        if (oldRow) {\n          removeClass(oldRow, 'hover-row')\n        }\n        if (newRow) {\n          addClass(newRow, 'hover-row')\n        }\n      })\n    })\n\n    onUnmounted(() => {\n      removePopper?.()\n    })\n\n    return {\n      ns,\n      onColumnsChange,\n      onScrollableChange,\n      wrappedRowRender,\n      tooltipContent,\n      tooltipTrigger,\n    }\n  },\n  render() {\n    const { wrappedRowRender, store } = this\n    const data = store.states.data.value || []\n    return h('tbody', {}, [\n      data.reduce((acc: VNode[], row) => {\n        return acc.concat(wrappedRowRender(row, acc.length))\n      }, []),\n    ])\n  },\n})\n","// @ts-nocheck\nimport { h } from 'vue'\nexport function hColgroup(props) {\n  const isAuto = props.tableLayout === 'auto'\n  let columns = props.columns || []\n  if (isAuto) {\n    if (columns.every((column) => column.width === undefined)) {\n      columns = []\n    }\n  }\n  const getPropsData = (column) => {\n    const propsData = {\n      key: `${props.tableLayout}_${column.id}`,\n      style: {},\n      name: undefined,\n    }\n    if (isAuto) {\n      propsData.style = {\n        width: `${column.width}px`,\n      }\n    } else {\n      propsData.name = column.id\n    }\n    return propsData\n  }\n\n  return h(\n    'colgroup',\n    {},\n    columns.map((column) => h('col', getPropsData(column)))\n  )\n}\n\nhColgroup.props = ['columns', 'tableLayout']\n","import { computed, inject } from 'vue'\nimport { TABLE_INJECTION_KEY } from '../tokens'\n\nfunction useMapState() {\n  const table = inject(TABLE_INJECTION_KEY)\n  const store = table?.store\n  const leftFixedLeafCount = computed(() => {\n    return store.states.fixedLeafColumnsLength.value\n  })\n  const rightFixedLeafCount = computed(() => {\n    return store.states.rightFixedColumns.value.length\n  })\n  const columnsCount = computed(() => {\n    return store.states.columns.value.length\n  })\n  const leftFixedCount = computed(() => {\n    return store.states.fixedColumns.value.length\n  })\n  const rightFixedCount = computed(() => {\n    return store.states.rightFixedColumns.value.length\n  })\n\n  return {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns: store.states.columns,\n  }\n}\n\nexport default useMapState\n","import { useNamespace } from '@element-plus/hooks'\nimport {\n  ensurePosition,\n  getFixedColumnOffset,\n  getFixedColumnsClass,\n} from '../util'\nimport useMapState from './mapState-helper'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableFooter } from '.'\n\nfunction useStyle<T>(props: TableFooter<T>) {\n  const { columns } = useMapState()\n  const ns = useNamespace('table')\n\n  const getCellClasses = (columns: TableColumnCtx<T>[], cellIndex: number) => {\n    const column = columns[cellIndex]\n    const classes = [\n      ns.e('cell'),\n      column.id,\n      column.align,\n      column.labelClassName,\n      ...getFixedColumnsClass(ns.b(), cellIndex, column.fixed, props.store),\n    ]\n    if (column.className) {\n      classes.push(column.className)\n    }\n    if (!column.children) {\n      classes.push(ns.is('leaf'))\n    }\n    return classes\n  }\n\n  const getCellStyles = (column: TableColumnCtx<T>, cellIndex: number) => {\n    const fixedStyle = getFixedColumnOffset(\n      cellIndex,\n      column.fixed,\n      props.store\n    )\n    ensurePosition(fixedStyle, 'left')\n    ensurePosition(fixedStyle, 'right')\n    return fixedStyle\n  }\n\n  return {\n    getCellClasses,\n    getCellStyles,\n    columns,\n  }\n}\n\nexport default useStyle\n","// @ts-nocheck\nimport { defineComponent, h } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { hColgroup } from '../h-helper'\nimport useStyle from './style-helper'\nimport type { Store } from '../store'\n\nimport type { PropType } from 'vue'\nimport type { DefaultRow, Sort, SummaryMethod } from '../table/defaults'\nexport interface TableFooter<T> {\n  fixed: string\n  store: Store<T>\n  summaryMethod: SummaryMethod<T>\n  sumText: string\n  border: boolean\n  defaultSort: Sort\n}\n\nexport default defineComponent({\n  name: 'ElTableFooter',\n\n  props: {\n    fixed: {\n      type: String,\n      default: '',\n    },\n    store: {\n      required: true,\n      type: Object as PropType<TableFooter<DefaultRow>['store']>,\n    },\n    summaryMethod: Function as PropType<\n      TableFooter<DefaultRow>['summaryMethod']\n    >,\n    sumText: String,\n    border: Boolean,\n    defaultSort: {\n      type: Object as PropType<TableFooter<DefaultRow>['defaultSort']>,\n      default: () => {\n        return {\n          prop: '',\n          order: '',\n        }\n      },\n    },\n  },\n  setup(props) {\n    const { getCellClasses, getCellStyles, columns } = useStyle(\n      props as TableFooter<DefaultRow>\n    )\n    const ns = useNamespace('table')\n    return {\n      ns,\n      getCellClasses,\n      getCellStyles,\n      columns,\n    }\n  },\n  render() {\n    const {\n      columns,\n      getCellStyles,\n      getCellClasses,\n      summaryMethod,\n      sumText,\n      ns,\n    } = this\n    const data = this.store.states.data.value\n    let sums = []\n    if (summaryMethod) {\n      sums = summaryMethod({\n        columns,\n        data,\n      })\n    } else {\n      columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = sumText\n          return\n        }\n        const values = data.map((item) => Number(item[column.property]))\n        const precisions = []\n        let notNumber = true\n        values.forEach((value) => {\n          if (!Number.isNaN(+value)) {\n            notNumber = false\n            const decimal = `${value}`.split('.')[1]\n            precisions.push(decimal ? decimal.length : 0)\n          }\n        })\n        const precision = Math.max.apply(null, precisions)\n        if (!notNumber) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr)\n            if (!Number.isNaN(+value)) {\n              return Number.parseFloat(\n                (prev + curr).toFixed(Math.min(precision, 20))\n              )\n            } else {\n              return prev\n            }\n          }, 0)\n        } else {\n          sums[index] = ''\n        }\n      })\n    }\n    return h(\n      'table',\n      {\n        class: ns.e('footer'),\n        cellspacing: '0',\n        cellpadding: '0',\n        border: '0',\n      },\n      [\n        hColgroup({\n          columns,\n        }),\n        h('tbody', [\n          h('tr', {}, [\n            ...columns.map((column, cellIndex) =>\n              h(\n                'td',\n                {\n                  key: cellIndex,\n                  colspan: column.colSpan,\n                  rowspan: column.rowSpan,\n                  class: getCellClasses(columns, cellIndex),\n                  style: getCellStyles(column, cellIndex),\n                },\n                [\n                  h(\n                    'div',\n                    {\n                      class: ['cell', column.labelClassName],\n                    },\n                    [sums[cellIndex]]\n                  ),\n                ]\n              )\n            ),\n          ]),\n        ]),\n      ]\n    )\n  },\n})\n","// @ts-nocheck\nimport type { Store } from '../store'\n\nfunction useUtils<T>(store: Store<T>) {\n  const setCurrentRow = (row: T) => {\n    store.commit('setCurrentRow', row)\n  }\n  const getSelectionRows = () => {\n    return store.getSelectionRows()\n  }\n  const toggleRowSelection = (row: T, selected: boolean) => {\n    store.toggleRowSelection(row, selected, false)\n    store.updateAllSelected()\n  }\n  const clearSelection = () => {\n    store.clearSelection()\n  }\n  const clearFilter = (columnKeys: string[]) => {\n    store.clearFilter(columnKeys)\n  }\n  const toggleAllSelection = () => {\n    store.commit('toggleAllSelection')\n  }\n  const toggleRowExpansion = (row: T, expanded: boolean) => {\n    store.toggleRowExpansionAdapter(row, expanded)\n  }\n  const clearSort = () => {\n    store.clearSort()\n  }\n  const sort = (prop: string, order: string) => {\n    store.commit('sort', { prop, order })\n  }\n\n  return {\n    setCurrentRow,\n    getSelectionRows,\n    toggleRowSelection,\n    clearSelection,\n    clearFilter,\n    toggleAllSelection,\n    toggleRowExpansion,\n    clearSort,\n    sort,\n  }\n}\n\nexport default useUtils\n","// @ts-nocheck\nimport {\n  computed,\n  nextTick,\n  onMounted,\n  ref,\n  unref,\n  watch,\n  watchEffect,\n} from 'vue'\nimport { useEventListener, useResizeObserver } from '@vueuse/core'\nimport { useSize } from '@element-plus/hooks'\n\nimport type { Table, TableProps } from './defaults'\nimport type { Store } from '../store'\nimport type TableLayout from '../table-layout'\nimport type { TableColumnCtx } from '../table-column/defaults'\n\nfunction useStyle<T>(\n  props: TableProps<T>,\n  layout: TableLayout<T>,\n  store: Store<T>,\n  table: Table<T>\n) {\n  const isHidden = ref(false)\n  const renderExpanded = ref(null)\n  const resizeProxyVisible = ref(false)\n  const setDragVisible = (visible: boolean) => {\n    resizeProxyVisible.value = visible\n  }\n  const resizeState = ref<{\n    width: null | number\n    height: null | number\n    headerHeight: null | number\n  }>({\n    width: null,\n    height: null,\n    headerHeight: null,\n  })\n  const isGroup = ref(false)\n  const scrollbarViewStyle = {\n    display: 'inline-block',\n    verticalAlign: 'middle',\n  }\n  const tableWidth = ref()\n  const tableScrollHeight = ref(0)\n  const bodyScrollHeight = ref(0)\n  const headerScrollHeight = ref(0)\n  const footerScrollHeight = ref(0)\n\n  watchEffect(() => {\n    layout.setHeight(props.height)\n  })\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight)\n  })\n  watch(\n    () => [props.currentRowKey, store.states.rowKey],\n    ([currentRowKey, rowKey]) => {\n      if (!unref(rowKey)) return\n      store.setCurrentRowKey(`${currentRowKey}`)\n    },\n    {\n      immediate: true,\n    }\n  )\n  watch(\n    () => props.data,\n    (data) => {\n      table.store.commit('setData', data)\n    },\n    {\n      immediate: true,\n      deep: true,\n    }\n  )\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys)\n    }\n  })\n\n  const handleMouseLeave = () => {\n    table.store.commit('setHoverRow', null)\n    if (table.hoverState) table.hoverState = null\n  }\n\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const { pixelX, pixelY } = data\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5\n    }\n  }\n\n  const shouldUpdateHeight = computed(() => {\n    return (\n      props.height ||\n      props.maxHeight ||\n      store.states.fixedColumns.value.length > 0 ||\n      store.states.rightFixedColumns.value.length > 0\n    )\n  })\n\n  const tableBodyStyles = computed(() => {\n    return {\n      width: layout.bodyWidth.value ? `${layout.bodyWidth.value}px` : '',\n    }\n  })\n\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight()\n    }\n    layout.updateColumnsWidth()\n    requestAnimationFrame(syncPostion)\n  }\n  onMounted(async () => {\n    await nextTick()\n    store.updateColumns()\n    bindEvents()\n    requestAnimationFrame(doLayout)\n\n    const el: HTMLElement = table.vnode.el as HTMLElement\n    const tableHeader: HTMLElement = table.refs.headerWrapper\n    if (props.flexible && el && el.parentElement) {\n      // Automatic minimum size of flex-items\n      // Ensure that the main axis does not follow the width of the items\n      el.parentElement.style.minWidth = '0'\n    }\n\n    resizeState.value = {\n      width: (tableWidth.value = el.offsetWidth),\n      height: el.offsetHeight,\n      headerHeight:\n        props.showHeader && tableHeader ? tableHeader.offsetHeight : null,\n    }\n\n    // init filters\n    store.states.columns.value.forEach((column: TableColumnCtx<T>) => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit('filterChange', {\n          column,\n          values: column.filteredValue,\n          silent: true,\n        })\n      }\n    })\n    table.$ready = true\n  })\n  const setScrollClassByEl = (el: HTMLElement, className: string) => {\n    if (!el) return\n    const classList = Array.from(el.classList).filter(\n      (item) => !item.startsWith('is-scrolling-')\n    )\n    classList.push(layout.scrollX.value ? className : 'is-scrolling-none')\n    el.className = classList.join(' ')\n  }\n  const setScrollClass = (className: string) => {\n    const { tableWrapper } = table.refs\n    setScrollClassByEl(tableWrapper, className)\n  }\n  const hasScrollClass = (className: string) => {\n    const { tableWrapper } = table.refs\n    return !!(tableWrapper && tableWrapper.classList.contains(className))\n  }\n  const syncPostion = function () {\n    if (!table.refs.scrollBarRef) return\n    if (!layout.scrollX.value) {\n      const scrollingNoneClass = 'is-scrolling-none'\n      if (!hasScrollClass(scrollingNoneClass)) {\n        setScrollClass(scrollingNoneClass)\n      }\n      return\n    }\n    const scrollContainer = table.refs.scrollBarRef.wrap$\n    if (!scrollContainer) return\n    const { scrollLeft, offsetWidth, scrollWidth } = scrollContainer\n    const { headerWrapper, footerWrapper } = table.refs\n    if (headerWrapper) headerWrapper.scrollLeft = scrollLeft\n    if (footerWrapper) footerWrapper.scrollLeft = scrollLeft\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass('is-scrolling-right')\n    } else if (scrollLeft === 0) {\n      setScrollClass('is-scrolling-left')\n    } else {\n      setScrollClass('is-scrolling-middle')\n    }\n  }\n\n  const bindEvents = () => {\n    if (!table.refs.scrollBarRef) return\n    if (table.refs.scrollBarRef.wrap$) {\n      useEventListener(table.refs.scrollBarRef.wrap$, 'scroll', syncPostion, {\n        passive: true,\n      })\n    }\n    if (props.fit) {\n      useResizeObserver(table.vnode.el as HTMLElement, resizeListener)\n    } else {\n      useEventListener(window, 'resize', resizeListener)\n    }\n  }\n  const resizeListener = () => {\n    const el = table.vnode.el\n    if (!table.$ready || !el) return\n\n    let shouldUpdateLayout = false\n    const {\n      width: oldWidth,\n      height: oldHeight,\n      headerHeight: oldHeaderHeight,\n    } = resizeState.value\n\n    const width = (tableWidth.value = el.offsetWidth)\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true\n    }\n\n    const height = el.offsetHeight\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true\n    }\n\n    const tableHeader: HTMLElement =\n      props.tableLayout === 'fixed'\n        ? table.refs.headerWrapper\n        : table.refs.tableHeaderRef?.$el\n    if (props.showHeader && tableHeader?.offsetHeight !== oldHeaderHeight) {\n      shouldUpdateLayout = true\n    }\n\n    tableScrollHeight.value = table.refs.tableWrapper?.scrollHeight || 0\n    headerScrollHeight.value = tableHeader?.scrollHeight || 0\n    footerScrollHeight.value = table.refs.footerWrapper?.scrollHeight || 0\n    bodyScrollHeight.value =\n      tableScrollHeight.value -\n      headerScrollHeight.value -\n      footerScrollHeight.value\n\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height,\n        headerHeight: (props.showHeader && tableHeader?.offsetHeight) || 0,\n      }\n      doLayout()\n    }\n  }\n  const tableSize = useSize()\n  const bodyWidth = computed(() => {\n    const { bodyWidth: bodyWidth_, scrollY, gutterWidth } = layout\n    return bodyWidth_.value\n      ? `${(bodyWidth_.value as number) - (scrollY.value ? gutterWidth : 0)}px`\n      : ''\n  })\n\n  const tableLayout = computed(() => {\n    if (props.maxHeight) return 'fixed'\n    return props.tableLayout\n  })\n\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length) return null\n    let height = '100%'\n    if (props.height && bodyScrollHeight.value) {\n      height = `${bodyScrollHeight.value}px`\n    }\n    const width = tableWidth.value\n    return {\n      width: width ? `${width}px` : '',\n      height,\n    }\n  })\n\n  const tableInnerStyle = computed(() => {\n    if (props.height) {\n      return {\n        height: !Number.isNaN(Number(props.height))\n          ? `${props.height}px`\n          : props.height,\n      }\n    }\n    if (props.maxHeight) {\n      return {\n        maxHeight: !Number.isNaN(Number(props.maxHeight))\n          ? `${props.maxHeight}px`\n          : props.maxHeight,\n      }\n    }\n    return {}\n  })\n\n  const scrollbarStyle = computed(() => {\n    if (props.height) {\n      return {\n        height: '100%',\n      }\n    }\n    if (props.maxHeight) {\n      if (!Number.isNaN(Number(props.maxHeight))) {\n        const headerHeight = table.refs.headerWrapper?.scrollHeight || 0\n        const footerHeight = table.refs.footerWrapper?.scrollHeight || 0\n        const maxHeight = props.maxHeight\n        const reachMaxHeight = tableScrollHeight.value >= Number(maxHeight)\n        if (reachMaxHeight) {\n          return {\n            maxHeight: `${\n              tableScrollHeight.value - headerHeight - footerHeight\n            }px`,\n          }\n        }\n      } else {\n        return {\n          maxHeight: `calc(${props.maxHeight} - ${\n            headerScrollHeight.value + footerScrollHeight.value\n          }px)`,\n        }\n      }\n    }\n\n    return {}\n  })\n\n  /**\n   * fix layout\n   */\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault()\n      }\n      if (\n        data.pixelY > 0 &&\n        bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop\n      ) {\n        event.preventDefault()\n      }\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5)\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5)\n    }\n  }\n\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    doLayout,\n    tableBodyStyles,\n    tableLayout,\n    scrollbarViewStyle,\n    tableInnerStyle,\n    scrollbarStyle,\n  }\n}\n\nexport default useStyle\n","// @ts-nocheck\nimport type {\n  CSSProperties,\n  ComponentInternalInstance,\n  PropType,\n  Ref,\n  VNode,\n} from 'vue'\nimport type { Nullable } from '@element-plus/utils'\nimport type { Store } from '../store'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type TableLayout from '../table-layout'\n\nexport type DefaultRow = any\n\ninterface TableRefs {\n  tableWrapper: HTMLElement\n  headerWrapper: HTMLElement\n  footerWrapper: HTMLElement\n  fixedBodyWrapper: HTMLElement\n  rightFixedBodyWrapper: HTMLElement\n  bodyWrapper: HTMLElement\n  [key: string]: any\n}\n\ninterface TableState {\n  isGroup: Ref<boolean>\n  resizeState: Ref<{\n    width: any\n    height: any\n  }>\n  doLayout: () => void\n  debouncedUpdateLayout: () => void\n}\n\ntype HoverState<T> = Nullable<{\n  cell: HTMLElement\n  column: TableColumnCtx<T>\n  row: T\n}>\n\ntype RIS<T> = { row: T; $index: number; store: Store<T>; expanded: boolean }\n\ntype RenderExpanded<T> = ({\n  row,\n  $index,\n  store,\n  expanded: boolean,\n}: RIS<T>) => VNode\n\ntype SummaryMethod<T> = (data: {\n  columns: TableColumnCtx<T>[]\n  data: T[]\n}) => string[]\n\ninterface Table<T> extends ComponentInternalInstance {\n  $ready: boolean\n  hoverState?: HoverState<T>\n  renderExpanded: RenderExpanded<T>\n  store: Store<T>\n  layout: TableLayout<T>\n  refs: TableRefs\n  tableId: string\n  state: TableState\n}\n\ntype ColumnCls<T> = string | ((data: { row: T; rowIndex: number }) => string)\ntype ColumnStyle<T> =\n  | CSSProperties\n  | ((data: { row: T; rowIndex: number }) => CSSProperties)\ntype CellCls<T> =\n  | string\n  | ((data: {\n      row: T\n      rowIndex: number\n      column: TableColumnCtx<T>\n      columnIndex: number\n    }) => string)\ntype CellStyle<T> =\n  | CSSProperties\n  | ((data: {\n      row: T\n      rowIndex: number\n      column: TableColumnCtx<T>\n      columnIndex: number\n    }) => CSSProperties)\ntype Layout = 'fixed' | 'auto'\ninterface TableProps<T> {\n  data: T[]\n  size?: string\n  width?: string | number\n  height?: string | number\n  maxHeight?: string | number\n  fit?: boolean\n  stripe?: boolean\n  border?: boolean\n  rowKey?: string | ((row: T) => string)\n  context?: Table<T>\n  showHeader?: boolean\n  showSummary?: boolean\n  sumText?: string\n  summaryMethod?: SummaryMethod<T>\n  rowClassName?: ColumnCls<T>\n  rowStyle?: ColumnStyle<T>\n  cellClassName?: CellCls<T>\n  cellStyle?: CellStyle<T>\n  headerRowClassName?: ColumnCls<T>\n  headerRowStyle?: ColumnStyle<T>\n  headerCellClassName?: CellCls<T>\n  headerCellStyle?: CellStyle<T>\n  highlightCurrentRow?: boolean\n  currentRowKey?: string | number\n  emptyText?: string\n  expandRowKeys?: any[]\n  defaultExpandAll?: boolean\n  defaultSort?: Sort\n  tooltipEffect?: string\n  spanMethod?: (data: {\n    row: T\n    rowIndex: number\n    column: TableColumnCtx<T>\n    columnIndex: number\n  }) =>\n    | number[]\n    | {\n        rowspan: number\n        colspan: number\n      }\n    | undefined\n  selectOnIndeterminate?: boolean\n  indent?: number\n  treeProps?: {\n    hasChildren?: string\n    children?: string\n  }\n  lazy?: boolean\n  load?: (row: T, treeNode: TreeNode, resolve: (data: T[]) => void) => void\n  className?: string\n  style?: CSSProperties\n  tableLayout: Layout\n  flexible: boolean\n}\n\ninterface Sort {\n  prop: string\n  order: 'ascending' | 'descending'\n  init?: any\n  silent?: any\n}\n\ninterface Filter<T> {\n  column: TableColumnCtx<T>\n  values: string[]\n  silent: any\n}\n\ninterface TreeNode {\n  expanded?: boolean\n  loading?: boolean\n  noLazyChildren?: boolean\n  indent?: number\n  level?: number\n  display?: boolean\n}\n\ninterface RenderRowData<T> {\n  store: Store<T>\n  _self: Table<T>\n  column: TableColumnCtx<T>\n  row: T\n  $index: number\n  treeNode?: TreeNode\n  expanded: boolean\n}\n\nexport default {\n  data: {\n    type: Array as PropType<DefaultRow[]>,\n    default: () => [],\n  },\n  size: String,\n  width: [String, Number],\n  height: [String, Number],\n  maxHeight: [String, Number],\n  fit: {\n    type: Boolean,\n    default: true,\n  },\n  stripe: Boolean,\n  border: Boolean,\n  rowKey: [String, Function] as PropType<TableProps<DefaultRow>['rowKey']>,\n  showHeader: {\n    type: Boolean,\n    default: true,\n  },\n  showSummary: Boolean,\n  sumText: String,\n  summaryMethod: Function as PropType<TableProps<DefaultRow>['summaryMethod']>,\n  rowClassName: [String, Function] as PropType<\n    TableProps<DefaultRow>['rowClassName']\n  >,\n  rowStyle: [Object, Function] as PropType<TableProps<DefaultRow>['rowStyle']>,\n  cellClassName: [String, Function] as PropType<\n    TableProps<DefaultRow>['cellClassName']\n  >,\n  cellStyle: [Object, Function] as PropType<\n    TableProps<DefaultRow>['cellStyle']\n  >,\n  headerRowClassName: [String, Function] as PropType<\n    TableProps<DefaultRow>['headerRowClassName']\n  >,\n  headerRowStyle: [Object, Function] as PropType<\n    TableProps<DefaultRow>['headerRowStyle']\n  >,\n  headerCellClassName: [String, Function] as PropType<\n    TableProps<DefaultRow>['headerCellClassName']\n  >,\n  headerCellStyle: [Object, Function] as PropType<\n    TableProps<DefaultRow>['headerCellStyle']\n  >,\n  highlightCurrentRow: Boolean,\n  currentRowKey: [String, Number],\n  emptyText: String,\n  expandRowKeys: Array as PropType<TableProps<DefaultRow>['expandRowKeys']>,\n  defaultExpandAll: Boolean,\n  defaultSort: Object as PropType<TableProps<DefaultRow>['defaultSort']>,\n  tooltipEffect: String,\n  spanMethod: Function as PropType<TableProps<DefaultRow>['spanMethod']>,\n  selectOnIndeterminate: {\n    type: Boolean,\n    default: true,\n  },\n  indent: {\n    type: Number,\n    default: 16,\n  },\n  treeProps: {\n    type: Object as PropType<TableProps<DefaultRow>['treeProps']>,\n    default: () => {\n      return {\n        hasChildren: 'hasChildren',\n        children: 'children',\n      }\n    },\n  },\n  lazy: Boolean,\n  load: Function as PropType<TableProps<DefaultRow>['load']>,\n  style: {\n    type: Object as PropType<CSSProperties>,\n    default: () => ({}),\n  },\n  className: {\n    type: String,\n    default: '',\n  },\n  tableLayout: {\n    type: String as PropType<Layout>,\n    default: 'fixed',\n  },\n  scrollbarAlwaysOn: {\n    type: Boolean,\n    default: false,\n  },\n  flexible: Boolean,\n}\nexport type {\n  SummaryMethod,\n  Table,\n  TableProps,\n  TableRefs,\n  ColumnCls,\n  ColumnStyle,\n  TreeNode,\n  RenderRowData,\n  Sort,\n  Filter,\n}\n","import { ref } from 'vue'\nimport { isNumber } from '@element-plus/utils'\n\nexport const useScrollbar = () => {\n  const scrollBarRef = ref()\n\n  const scrollTo = (options: ScrollToOptions | number, yCoord?: number) => {\n    const scrollbar = scrollBarRef.value\n    if (scrollbar) {\n      scrollbar.scrollTo(options, yCoord)\n    }\n  }\n\n  const setScrollPosition = (position: 'Top' | 'Left', offset?: number) => {\n    const scrollbar = scrollBarRef.value\n    if (scrollbar && isNumber(offset) && ['Top', 'Left'].includes(position)) {\n      scrollbar[`setScroll${position}`](offset)\n    }\n  }\n\n  const setScrollTop = (top?: number) => setScrollPosition('Top', top)\n  const setScrollLeft = (left?: number) => setScrollPosition('Left', left)\n\n  return {\n    scrollBarRef,\n    scrollTo,\n    setScrollTop,\n    setScrollLeft,\n  }\n}\n","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule UserAgent_DEPRECATED\n */\n\n/**\n *  Provides entirely client-side User Agent and OS detection. You should prefer\n *  the non-deprecated UserAgent module when possible, which exposes our\n *  authoritative server-side PHP-based detection to the client.\n *\n *  Usage is straightforward:\n *\n *    if (UserAgent_DEPRECATED.ie()) {\n *      //  IE\n *    }\n *\n *  You can also do version checks:\n *\n *    if (UserAgent_DEPRECATED.ie() >= 7) {\n *      //  IE7 or better\n *    }\n *\n *  The browser functions will return NaN if the browser does not match, so\n *  you can also do version compares the other way:\n *\n *    if (UserAgent_DEPRECATED.ie() < 7) {\n *      //  IE6 or worse\n *    }\n *\n *  Note that the version is a float and may include a minor version number,\n *  so you should always use range operators to perform comparisons, not\n *  strict equality.\n *\n *  **Note:** You should **strongly** prefer capability detection to browser\n *  version detection where it's reasonable:\n *\n *    http://www.quirksmode.org/js/support.html\n *\n *  Further, we have a large number of mature wrapper functions and classes\n *  which abstract away many browser irregularities. Check the documentation,\n *  grep for things, or ask on javascript@lists.facebook.com before writing yet\n *  another copy of \"event || window.event\".\n *\n */\n\nvar _populated = false;\n\n// Browsers\nvar _ie, _firefox, _opera, _webkit, _chrome;\n\n// Actual IE browser for compatibility mode\nvar _ie_real_version;\n\n// Platforms\nvar _osx, _windows, _linux, _android;\n\n// Architectures\nvar _win64;\n\n// Devices\nvar _iphone, _ipad, _native;\n\nvar _mobile;\n\nfunction _populate() {\n  if (_populated) {\n    return;\n  }\n\n  _populated = true;\n\n  // To work around buggy JS libraries that can't handle multi-digit\n  // version numbers, Opera 10's user agent string claims it's Opera\n  // 9, then later includes a Version/X.Y field:\n  //\n  // Opera/9.80 (foo) Presto/2.2.15 Version/10.10\n  var uas = navigator.userAgent;\n  var agent =\n    /(?:MSIE.(\\d+\\.\\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\\d+\\.\\d+))|(?:Opera(?:.+Version.|.)(\\d+\\.\\d+))|(?:AppleWebKit.(\\d+(?:\\.\\d+)?))|(?:Trident\\/\\d+\\.\\d+.*rv:(\\d+\\.\\d+))/.exec(\n      uas\n    );\n  var os = /(Mac OS X)|(Windows)|(Linux)/.exec(uas);\n\n  _iphone = /\\b(iPhone|iP[ao]d)/.exec(uas);\n  _ipad = /\\b(iP[ao]d)/.exec(uas);\n  _android = /Android/i.exec(uas);\n  _native = /FBAN\\/\\w+;/i.exec(uas);\n  _mobile = /Mobile/i.exec(uas);\n\n  // Note that the IE team blog would have you believe you should be checking\n  // for 'Win64; x64'.  But MSDN then reveals that you can actually be coming\n  // from either x64 or ia64;  so ultimately, you should just check for Win64\n  // as in indicator of whether you're in 64-bit IE.  32-bit IE on 64-bit\n  // Windows will send 'WOW64' instead.\n  _win64 = !!/Win64/.exec(uas);\n\n  if (agent) {\n    _ie = agent[1]\n      ? parseFloat(agent[1])\n      : agent[5]\n      ? parseFloat(agent[5])\n      : NaN;\n    // IE compatibility mode\n    if (_ie && document && document.documentMode) {\n      _ie = document.documentMode;\n    }\n    // grab the \"true\" ie version from the trident token if available\n    var trident = /(?:Trident\\/(\\d+.\\d+))/.exec(uas);\n    _ie_real_version = trident ? parseFloat(trident[1]) + 4 : _ie;\n\n    _firefox = agent[2] ? parseFloat(agent[2]) : NaN;\n    _opera = agent[3] ? parseFloat(agent[3]) : NaN;\n    _webkit = agent[4] ? parseFloat(agent[4]) : NaN;\n    if (_webkit) {\n      // We do not add the regexp to the above test, because it will always\n      // match 'safari' only since 'AppleWebKit' appears before 'Chrome' in\n      // the userAgent string.\n      agent = /(?:Chrome\\/(\\d+\\.\\d+))/.exec(uas);\n      _chrome = agent && agent[1] ? parseFloat(agent[1]) : NaN;\n    } else {\n      _chrome = NaN;\n    }\n  } else {\n    _ie = _firefox = _opera = _chrome = _webkit = NaN;\n  }\n\n  if (os) {\n    if (os[1]) {\n      // Detect OS X version.  If no version number matches, set _osx to true.\n      // Version examples:  10, 10_6_1, 10.7\n      // Parses version number as a float, taking only first two sets of\n      // digits.  If only one set of digits is found, returns just the major\n      // version number.\n      var ver = /(?:Mac OS X (\\d+(?:[._]\\d+)?))/.exec(uas);\n\n      _osx = ver ? parseFloat(ver[1].replace('_', '.')) : true;\n    } else {\n      _osx = false;\n    }\n    _windows = !!os[2];\n    _linux = !!os[3];\n  } else {\n    _osx = _windows = _linux = false;\n  }\n}\n\nvar UserAgent_DEPRECATED = {\n  /**\n   *  Check if the UA is Internet Explorer.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  ie: function () {\n    return _populate() || _ie;\n  },\n\n  /**\n   * Check if we're in Internet Explorer compatibility mode.\n   *\n   * @return bool true if in compatibility mode, false if\n   * not compatibility mode or not ie\n   */\n  ieCompatibilityMode: function () {\n    return _populate() || _ie_real_version > _ie;\n  },\n\n  /**\n   * Whether the browser is 64-bit IE.  Really, this is kind of weak sauce;  we\n   * only need this because Skype can't handle 64-bit IE yet.  We need to remove\n   * this when we don't need it -- tracked by #601957.\n   */\n  ie64: function () {\n    return UserAgent_DEPRECATED.ie() && _win64;\n  },\n\n  /**\n   *  Check if the UA is Firefox.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  firefox: function () {\n    return _populate() || _firefox;\n  },\n\n  /**\n   *  Check if the UA is Opera.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  opera: function () {\n    return _populate() || _opera;\n  },\n\n  /**\n   *  Check if the UA is WebKit.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  webkit: function () {\n    return _populate() || _webkit;\n  },\n\n  /**\n   *  For Push\n   *  WILL BE REMOVED VERY SOON. Use UserAgent_DEPRECATED.webkit\n   */\n  safari: function () {\n    return UserAgent_DEPRECATED.webkit();\n  },\n\n  /**\n   *  Check if the UA is a Chrome browser.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  chrome: function () {\n    return _populate() || _chrome;\n  },\n\n  /**\n   *  Check if the user is running Windows.\n   *\n   *  @return bool `true' if the user's OS is Windows.\n   */\n  windows: function () {\n    return _populate() || _windows;\n  },\n\n  /**\n   *  Check if the user is running Mac OS X.\n   *\n   *  @return float|bool   Returns a float if a version number is detected,\n   *                       otherwise true/false.\n   */\n  osx: function () {\n    return _populate() || _osx;\n  },\n\n  /**\n   * Check if the user is running Linux.\n   *\n   * @return bool `true' if the user's OS is some flavor of Linux.\n   */\n  linux: function () {\n    return _populate() || _linux;\n  },\n\n  /**\n   * Check if the user is running on an iPhone or iPod platform.\n   *\n   * @return bool `true' if the user is running some flavor of the\n   *    iPhone OS.\n   */\n  iphone: function () {\n    return _populate() || _iphone;\n  },\n\n  mobile: function () {\n    return _populate() || _iphone || _ipad || _android || _mobile;\n  },\n\n  nativeApp: function () {\n    // webviews inside of the native apps\n    return _populate() || _native;\n  },\n\n  android: function () {\n    return _populate() || _android;\n  },\n\n  ipad: function () {\n    return _populate() || _ipad;\n  },\n};\n\nexport default UserAgent_DEPRECATED;\n","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule isEventSupported\n */\n\nimport ExecutionEnvironment from './ExecutionEnvironment';\n\nvar useHasFeature;\nif (ExecutionEnvironment.canUseDOM) {\n  useHasFeature =\n    document.implementation &&\n    document.implementation.hasFeature &&\n    // always returns true in newer browsers as per the standard.\n    // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n    document.implementation.hasFeature('', '') !== true;\n}\n\n/**\n * Checks if an event is supported in the current execution environment.\n *\n * NOTE: This will not work correctly for non-generic events such as `change`,\n * `reset`, `load`, `error`, and `select`.\n *\n * Borrows from Modernizr.\n *\n * @param {string} eventNameSuffix Event name, e.g. \"click\".\n * @param {?boolean} capture Check if the capture phase is supported.\n * @return {boolean} True if the event is supported.\n * @internal\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nfunction isEventSupported(eventNameSuffix, capture) {\n  if (\n    !ExecutionEnvironment.canUseDOM ||\n    (capture && !('addEventListener' in document))\n  ) {\n    return false;\n  }\n\n  var eventName = 'on' + eventNameSuffix;\n  var isSupported = eventName in document;\n\n  if (!isSupported) {\n    var element = document.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported && useHasFeature && eventNameSuffix === 'wheel') {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\n\nexport default isEventSupported;\n","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ExecutionEnvironment\n */\n\n/*jslint evil: true */\n\nvar canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\n/**\n * Simple, lightweight module assisting with the detection and context of\n * Worker. Helps avoid circular dependencies and allows code to reason about\n * whether or not they are in a Worker, even if they never include the main\n * `ReactWorker` dependency.\n */\nvar ExecutionEnvironment = {\n  canUseDOM: canUseDOM,\n\n  canUseWorkers: typeof Worker !== 'undefined',\n\n  canUseEventListeners:\n    canUseDOM && !!(window.addEventListener || window.attachEvent),\n\n  canUseViewport: canUseDOM && !!window.screen,\n\n  isInWorker: !canUseDOM, // For now, this is true - might change in the future.\n};\n\nexport default ExecutionEnvironment;\n","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule normalizeWheel\n * @typechecks\n */\n\nimport UserAgent_DEPRECATED from './UserAgent_DEPRECATED';\n\nimport isEventSupported from './isEventSupported';\n\n// Reasonable defaults\nvar PIXEL_STEP = 10;\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\n\n/**\n * Mouse wheel (and 2-finger trackpad) support on the web sucks.  It is\n * complicated, thus this doc is long and (hopefully) detailed enough to answer\n * your questions.\n *\n * If you need to react to the mouse wheel in a predictable way, this code is\n * like your bestest friend. * hugs *\n *\n * As of today, there are 4 DOM event types you can listen to:\n *\n *   'wheel'                -- Chrome(31+), FF(17+), IE(9+)\n *   'mousewheel'           -- Chrome, IE(6+), Opera, Safari\n *   'MozMousePixelScroll'  -- FF(3.5 only!) (2010-2013) -- don't bother!\n *   'DOMMouseScroll'       -- FF(0.9.7+) since 2003\n *\n * So what to do?  The is the best:\n *\n *   normalizeWheel.getEventType();\n *\n * In your event callback, use this code to get sane interpretation of the\n * deltas.  This code will return an object with properties:\n *\n *   spinX   -- normalized spin speed (use for zoom) - x plane\n *   spinY   -- \" - y plane\n *   pixelX  -- normalized distance (to pixels) - x plane\n *   pixelY  -- \" - y plane\n *\n * Wheel values are provided by the browser assuming you are using the wheel to\n * scroll a web page by a number of lines or pixels (or pages).  Values can vary\n * significantly on different platforms and browsers, forgetting that you can\n * scroll at different speeds.  Some devices (like trackpads) emit more events\n * at smaller increments with fine granularity, and some emit massive jumps with\n * linear speed or acceleration.\n *\n * This code does its best to normalize the deltas for you:\n *\n *   - spin is trying to normalize how far the wheel was spun (or trackpad\n *     dragged).  This is super useful for zoom support where you want to\n *     throw away the chunky scroll steps on the PC and make those equal to\n *     the slow and smooth tiny steps on the Mac. Key data: This code tries to\n *     resolve a single slow step on a wheel to 1.\n *\n *   - pixel is normalizing the desired scroll delta in pixel units.  You'll\n *     get the crazy differences between browsers, but at least it'll be in\n *     pixels!\n *\n *   - positive value indicates scrolling DOWN/RIGHT, negative UP/LEFT.  This\n *     should translate to positive value zooming IN, negative zooming OUT.\n *     This matches the newer 'wheel' event.\n *\n * Why are there spinX, spinY (or pixels)?\n *\n *   - spinX is a 2-finger side drag on the trackpad, and a shift + wheel turn\n *     with a mouse.  It results in side-scrolling in the browser by default.\n *\n *   - spinY is what you expect -- it's the classic axis of a mouse wheel.\n *\n *   - I dropped spinZ/pixelZ.  It is supported by the DOM 3 'wheel' event and\n *     probably is by browsers in conjunction with fancy 3D controllers .. but\n *     you know.\n *\n * Implementation info:\n *\n * Examples of 'wheel' event if you scroll slowly (down) by one step with an\n * average mouse:\n *\n *   OS X + Chrome  (mouse)     -    4   pixel delta  (wheelDelta -120)\n *   OS X + Safari  (mouse)     -  N/A   pixel delta  (wheelDelta  -12)\n *   OS X + Firefox (mouse)     -    0.1 line  delta  (wheelDelta  N/A)\n *   Win8 + Chrome  (mouse)     -  100   pixel delta  (wheelDelta -120)\n *   Win8 + Firefox (mouse)     -    3   line  delta  (wheelDelta -120)\n *\n * On the trackpad:\n *\n *   OS X + Chrome  (trackpad)  -    2   pixel delta  (wheelDelta   -6)\n *   OS X + Firefox (trackpad)  -    1   pixel delta  (wheelDelta  N/A)\n *\n * On other/older browsers.. it's more complicated as there can be multiple and\n * also missing delta values.\n *\n * The 'wheel' event is more standard:\n *\n * http://www.w3.org/TR/DOM-Level-3-Events/#events-wheelevents\n *\n * The basics is that it includes a unit, deltaMode (pixels, lines, pages), and\n * deltaX, deltaY and deltaZ.  Some browsers provide other values to maintain\n * backward compatibility with older events.  Those other values help us\n * better normalize spin speed.  Example of what the browsers provide:\n *\n *                          | event.wheelDelta | event.detail\n *        ------------------+------------------+--------------\n *          Safari v5/OS X  |       -120       |       0\n *          Safari v5/Win7  |       -120       |       0\n *         Chrome v17/OS X  |       -120       |       0\n *         Chrome v17/Win7  |       -120       |       0\n *                IE9/Win7  |       -120       |   undefined\n *         Firefox v4/OS X  |     undefined    |       1\n *         Firefox v4/Win7  |     undefined    |       3\n *\n */\nfunction normalizeWheel(/*object*/ event) /*object*/ {\n  var sX = 0,\n    sY = 0, // spinX, spinY\n    pX = 0,\n    pY = 0; // pixelX, pixelY\n\n  // Legacy\n  if ('detail' in event) {\n    sY = event.detail;\n  }\n  if ('wheelDelta' in event) {\n    sY = -event.wheelDelta / 120;\n  }\n  if ('wheelDeltaY' in event) {\n    sY = -event.wheelDeltaY / 120;\n  }\n  if ('wheelDeltaX' in event) {\n    sX = -event.wheelDeltaX / 120;\n  }\n\n  // side scrolling on FF with DOMMouseScroll\n  if ('axis' in event && event.axis === event.HORIZONTAL_AXIS) {\n    sX = sY;\n    sY = 0;\n  }\n\n  pX = sX * PIXEL_STEP;\n  pY = sY * PIXEL_STEP;\n\n  if ('deltaY' in event) {\n    pY = event.deltaY;\n  }\n  if ('deltaX' in event) {\n    pX = event.deltaX;\n  }\n\n  if ((pX || pY) && event.deltaMode) {\n    if (event.deltaMode == 1) {\n      // delta in LINE units\n      pX *= LINE_HEIGHT;\n      pY *= LINE_HEIGHT;\n    } else {\n      // delta in PAGE units\n      pX *= PAGE_HEIGHT;\n      pY *= PAGE_HEIGHT;\n    }\n  }\n\n  // Fall-back if spin cannot be determined\n  if (pX && !sX) {\n    sX = pX < 1 ? -1 : 1;\n  }\n  if (pY && !sY) {\n    sY = pY < 1 ? -1 : 1;\n  }\n\n  return { spinX: sX, spinY: sY, pixelX: pX, pixelY: pY };\n}\n\n/**\n * The best combination if you prefer spinX + spinY normalization.  It favors\n * the older DOMMouseScroll for Firefox, as FF does not include wheelDelta with\n * 'wheel' event, making spin speed determination impossible.\n */\nnormalizeWheel.getEventType = function () /*string*/ {\n  return UserAgent_DEPRECATED.firefox()\n    ? 'DOMMouseScroll'\n    : isEventSupported('wheel')\n    ? 'wheel'\n    : 'mousewheel';\n};\n\nexport default normalizeWheel;\n","import normalizeWheel from 'normalize-wheel-es'\n\nimport type { DirectiveBinding, ObjectDirective } from 'vue'\nimport type { NormalizedWheelEvent } from 'normalize-wheel-es'\n\nconst mousewheel = function (\n  element: HTMLElement,\n  callback: (e: WheelEvent, normalized: NormalizedWheelEvent) => void\n) {\n  if (element && element.addEventListener) {\n    const fn = function (this: HTMLElement, event: WheelEvent) {\n      const normalized = normalizeWheel(event)\n      callback && Reflect.apply(callback, this, [event, normalized])\n    }\n    element.addEventListener('wheel', fn, { passive: true })\n  }\n}\n\nconst Mousewheel: ObjectDirective = {\n  beforeMount(el: HTMLElement, binding: DirectiveBinding) {\n    mousewheel(el, binding.value)\n  },\n}\n\nexport default Mousewheel\n","<template>\n  <div\n    ref=\"tableWrapper\"\n    :class=\"[\n      {\n        [ns.m('fit')]: fit,\n        [ns.m('striped')]: stripe,\n        [ns.m('border')]: border || isGroup,\n        [ns.m('hidden')]: isHidden,\n        [ns.m('group')]: isGroup,\n        [ns.m('fluid-height')]: maxHeight,\n        [ns.m('scrollable-x')]: layout.scrollX.value,\n        [ns.m('scrollable-y')]: layout.scrollY.value,\n        [ns.m('enable-row-hover')]: !store.states.isComplex.value,\n        [ns.m('enable-row-transition')]:\n          (store.states.data.value || []).length !== 0 &&\n          (store.states.data.value || []).length < 100,\n        'has-footer': showSummary,\n      },\n      ns.m(tableSize),\n      className,\n      ns.b(),\n      ns.m(`layout-${tableLayout}`),\n    ]\"\n    :style=\"style\"\n    :data-prefix=\"ns.namespace.value\"\n    @mouseleave=\"handleMouseLeave()\"\n  >\n    <div :class=\"ns.e('inner-wrapper')\" :style=\"tableInnerStyle\">\n      <div ref=\"hiddenColumns\" class=\"hidden-columns\">\n        <slot />\n      </div>\n      <div\n        v-if=\"showHeader && tableLayout === 'fixed'\"\n        ref=\"headerWrapper\"\n        v-mousewheel=\"handleHeaderFooterMousewheel\"\n        :class=\"ns.e('header-wrapper')\"\n      >\n        <table\n          ref=\"tableHeader\"\n          :class=\"ns.e('header')\"\n          :style=\"tableBodyStyles\"\n          border=\"0\"\n          cellpadding=\"0\"\n          cellspacing=\"0\"\n        >\n          <hColgroup\n            :columns=\"store.states.columns.value\"\n            :table-layout=\"tableLayout\"\n          />\n          <table-header\n            ref=\"tableHeaderRef\"\n            :border=\"border\"\n            :default-sort=\"defaultSort\"\n            :store=\"store\"\n            @set-drag-visible=\"setDragVisible\"\n          />\n        </table>\n      </div>\n      <div ref=\"bodyWrapper\" :class=\"ns.e('body-wrapper')\">\n        <el-scrollbar\n          ref=\"scrollBarRef\"\n          :view-style=\"scrollbarViewStyle\"\n          :wrap-style=\"scrollbarStyle\"\n          :always=\"scrollbarAlwaysOn\"\n        >\n          <table\n            ref=\"tableBody\"\n            :class=\"ns.e('body')\"\n            cellspacing=\"0\"\n            cellpadding=\"0\"\n            border=\"0\"\n            :style=\"{\n              width: bodyWidth,\n              tableLayout,\n            }\"\n          >\n            <hColgroup\n              :columns=\"store.states.columns.value\"\n              :table-layout=\"tableLayout\"\n            />\n            <table-header\n              v-if=\"showHeader && tableLayout === 'auto'\"\n              ref=\"tableHeaderRef\"\n              :border=\"border\"\n              :default-sort=\"defaultSort\"\n              :store=\"store\"\n              @set-drag-visible=\"setDragVisible\"\n            />\n            <table-body\n              :context=\"context\"\n              :highlight=\"highlightCurrentRow\"\n              :row-class-name=\"rowClassName\"\n              :tooltip-effect=\"tooltipEffect\"\n              :row-style=\"rowStyle\"\n              :store=\"store\"\n              :stripe=\"stripe\"\n            />\n          </table>\n          <div\n            v-if=\"isEmpty\"\n            ref=\"emptyBlock\"\n            :style=\"emptyBlockStyle\"\n            :class=\"ns.e('empty-block')\"\n          >\n            <span :class=\"ns.e('empty-text')\">\n              <slot name=\"empty\">{{ computedEmptyText }}</slot>\n            </span>\n          </div>\n          <div\n            v-if=\"$slots.append\"\n            ref=\"appendWrapper\"\n            :class=\"ns.e('append-wrapper')\"\n          >\n            <slot name=\"append\" />\n          </div>\n        </el-scrollbar>\n      </div>\n      <div\n        v-if=\"showSummary\"\n        v-show=\"!isEmpty\"\n        ref=\"footerWrapper\"\n        v-mousewheel=\"handleHeaderFooterMousewheel\"\n        :class=\"ns.e('footer-wrapper')\"\n      >\n        <table-footer\n          :border=\"border\"\n          :default-sort=\"defaultSort\"\n          :store=\"store\"\n          :style=\"tableBodyStyles\"\n          :sum-text=\"computedSumText\"\n          :summary-method=\"summaryMethod\"\n        />\n      </div>\n      <div v-if=\"border || isGroup\" :class=\"ns.e('border-left-patch')\" />\n    </div>\n    <div\n      v-show=\"resizeProxyVisible\"\n      ref=\"resizeProxy\"\n      :class=\"ns.e('column-resize-proxy')\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\n// @ts-nocheck\nimport { computed, defineComponent, getCurrentInstance, provide } from 'vue'\nimport { debounce } from 'lodash-unified'\nimport { Mousewheel } from '@element-plus/directives'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport ElScrollbar from '@element-plus/components/scrollbar'\nimport { createStore } from './store/helper'\nimport TableLayout from './table-layout'\nimport TableHeader from './table-header'\nimport TableBody from './table-body'\nimport TableFooter from './table-footer'\nimport useUtils from './table/utils-helper'\nimport useStyle from './table/style-helper'\nimport defaultProps from './table/defaults'\nimport { TABLE_INJECTION_KEY } from './tokens'\nimport { hColgroup } from './h-helper'\nimport { useScrollbar } from './composables/use-scrollbar'\n\nimport type { Table } from './table/defaults'\n\nlet tableIdSeed = 1\nexport default defineComponent({\n  name: 'ElTable',\n  directives: {\n    Mousewheel,\n  },\n  components: {\n    TableHeader,\n    TableBody,\n    TableFooter,\n    ElScrollbar,\n    hColgroup,\n  },\n  props: defaultProps,\n  emits: [\n    'select',\n    'select-all',\n    'selection-change',\n    'cell-mouse-enter',\n    'cell-mouse-leave',\n    'cell-contextmenu',\n    'cell-click',\n    'cell-dblclick',\n    'row-click',\n    'row-contextmenu',\n    'row-dblclick',\n    'header-click',\n    'header-contextmenu',\n    'sort-change',\n    'filter-change',\n    'current-change',\n    'header-dragend',\n    'expand-change',\n  ],\n  setup(props) {\n    type Row = typeof props.data[number]\n    const { t } = useLocale()\n    const ns = useNamespace('table')\n    const table = getCurrentInstance() as Table<Row>\n    provide(TABLE_INJECTION_KEY, table)\n    const store = createStore<Row>(table, props)\n    table.store = store\n    const layout = new TableLayout<Row>({\n      store: table.store,\n      table,\n      fit: props.fit,\n      showHeader: props.showHeader,\n    })\n    table.layout = layout\n\n    const isEmpty = computed(() => (store.states.data.value || []).length === 0)\n\n    /**\n     * open functions\n     */\n    const {\n      setCurrentRow,\n      getSelectionRows,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      sort,\n    } = useUtils<Row>(store)\n    const {\n      isHidden,\n      renderExpanded,\n      setDragVisible,\n      isGroup,\n      handleMouseLeave,\n      handleHeaderFooterMousewheel,\n      tableSize,\n      emptyBlockStyle,\n      handleFixedMousewheel,\n      resizeProxyVisible,\n      bodyWidth,\n      resizeState,\n      doLayout,\n      tableBodyStyles,\n      tableLayout,\n      scrollbarViewStyle,\n      tableInnerStyle,\n      scrollbarStyle,\n    } = useStyle<Row>(props, layout, store, table)\n\n    const { scrollBarRef, scrollTo, setScrollLeft, setScrollTop } =\n      useScrollbar()\n\n    const debouncedUpdateLayout = debounce(doLayout, 50)\n\n    const tableId = `el-table_${tableIdSeed++}`\n    table.tableId = tableId\n    table.state = {\n      isGroup,\n      resizeState,\n      doLayout,\n      debouncedUpdateLayout,\n    }\n    const computedSumText = computed(\n      () => props.sumText || t('el.table.sumText')\n    )\n\n    const computedEmptyText = computed(() => {\n      return props.emptyText || t('el.table.emptyText')\n    })\n\n    return {\n      ns,\n      layout,\n      store,\n      handleHeaderFooterMousewheel,\n      handleMouseLeave,\n      tableId,\n      tableSize,\n      isHidden,\n      isEmpty,\n      renderExpanded,\n      resizeProxyVisible,\n      resizeState,\n      isGroup,\n      bodyWidth,\n      tableBodyStyles,\n      emptyBlockStyle,\n      debouncedUpdateLayout,\n      handleFixedMousewheel,\n      setCurrentRow,\n      getSelectionRows,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort,\n      t,\n      setDragVisible,\n      context: table,\n      computedSumText,\n      computedEmptyText,\n      tableLayout,\n      scrollbarViewStyle,\n      tableInnerStyle,\n      scrollbarStyle,\n      scrollBarRef,\n      scrollTo,\n      setScrollLeft,\n      setScrollTop,\n    }\n  },\n})\n</script>\n","// @ts-nocheck\nimport { h } from 'vue'\nimport ElCheckbox from '@element-plus/components/checkbox'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { ArrowRight, Loading } from '@element-plus/icons-vue'\nimport { getProp } from '@element-plus/utils'\n\nimport type { VNode } from 'vue'\nimport type { TableColumnCtx } from './table-column/defaults'\nimport type { Store } from './store'\nimport type { TreeNode } from './table/defaults'\n\nconst defaultClassNames = {\n  selection: 'table-column--selection',\n  expand: 'table__expand-column',\n}\n\nexport const cellStarts = {\n  default: {\n    order: '',\n  },\n  selection: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: '',\n  },\n  expand: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: '',\n  },\n  index: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: '',\n  },\n}\n\nexport const getDefaultClassName = (type) => {\n  return defaultClassNames[type] || ''\n}\n\n// 这些选项不应该被覆盖\nexport const cellForced = {\n  selection: {\n    renderHeader<T>({ store }: { store: Store<T> }) {\n      function isDisabled() {\n        return store.states.data.value && store.states.data.value.length === 0\n      }\n      return h(ElCheckbox, {\n        disabled: isDisabled(),\n        size: store.states.tableSize.value,\n        indeterminate:\n          store.states.selection.value.length > 0 &&\n          !store.states.isAllSelected.value,\n        'onUpdate:modelValue': store.toggleAllSelection,\n        modelValue: store.states.isAllSelected.value,\n      })\n    },\n    renderCell<T>({\n      row,\n      column,\n      store,\n      $index,\n    }: {\n      row: T\n      column: TableColumnCtx<T>\n      store: Store<T>\n      $index: string\n    }) {\n      return h(ElCheckbox, {\n        disabled: column.selectable\n          ? !column.selectable.call(null, row, $index)\n          : false,\n        size: store.states.tableSize.value,\n        onChange: () => {\n          store.commit('rowSelectedChanged', row)\n        },\n        onClick: (event: Event) => event.stopPropagation(),\n        modelValue: store.isSelected(row),\n      })\n    },\n    sortable: false,\n    resizable: false,\n  },\n  index: {\n    renderHeader<T>({ column }: { column: TableColumnCtx<T> }) {\n      return column.label || '#'\n    },\n    renderCell<T>({\n      column,\n      $index,\n    }: {\n      column: TableColumnCtx<T>\n      $index: number\n    }) {\n      let i = $index + 1\n      const index = column.index\n\n      if (typeof index === 'number') {\n        i = $index + index\n      } else if (typeof index === 'function') {\n        i = index($index)\n      }\n      return h('div', {}, [i])\n    },\n    sortable: false,\n  },\n  expand: {\n    renderHeader<T>({ column }: { column: TableColumnCtx<T> }) {\n      return column.label || ''\n    },\n    renderCell<T>({\n      row,\n      store,\n      expanded,\n    }: {\n      row: T\n      store: Store<T>\n      expanded: boolean\n    }) {\n      const { ns } = store\n      const classes = [ns.e('expand-icon')]\n      if (expanded) {\n        classes.push(ns.em('expand-icon', 'expanded'))\n      }\n      const callback = function (e: Event) {\n        e.stopPropagation()\n        store.toggleRowExpansion(row)\n      }\n      return h(\n        'div',\n        {\n          class: classes,\n          onClick: callback,\n        },\n        {\n          default: () => {\n            return [\n              h(ElIcon, null, {\n                default: () => {\n                  return [h(ArrowRight)]\n                },\n              }),\n            ]\n          },\n        }\n      )\n    },\n    sortable: false,\n    resizable: false,\n  },\n}\n\nexport function defaultRenderCell<T>({\n  row,\n  column,\n  $index,\n}: {\n  row: T\n  column: TableColumnCtx<T>\n  $index: number\n}) {\n  const property = column.property\n  const value = property && getProp(row, property).value\n  if (column && column.formatter) {\n    return column.formatter(row, column, value, $index)\n  }\n  return value?.toString?.() || ''\n}\n\nexport function treeCellPrefix<T>(\n  {\n    row,\n    treeNode,\n    store,\n  }: {\n    row: T\n    treeNode: TreeNode\n    store: Store<T>\n  },\n  createPlacehoder = false\n) {\n  const { ns } = store\n  if (!treeNode) {\n    if (createPlacehoder) {\n      return [\n        h('span', {\n          class: ns.e('placeholder'),\n        }),\n      ]\n    }\n    return null\n  }\n  const ele: VNode[] = []\n  const callback = function (e) {\n    e.stopPropagation()\n    store.loadOrToggle(row)\n  }\n  if (treeNode.indent) {\n    ele.push(\n      h('span', {\n        class: ns.e('indent'),\n        style: { 'padding-left': `${treeNode.indent}px` },\n      })\n    )\n  }\n  if (typeof treeNode.expanded === 'boolean' && !treeNode.noLazyChildren) {\n    const expandClasses = [\n      ns.e('expand-icon'),\n      treeNode.expanded ? ns.em('expand-icon', 'expanded') : '',\n    ]\n    let icon = ArrowRight\n    if (treeNode.loading) {\n      icon = Loading\n    }\n\n    ele.push(\n      h(\n        'div',\n        {\n          class: expandClasses,\n          onClick: callback,\n        },\n        {\n          default: () => {\n            return [\n              h(\n                ElIcon,\n                { class: { [ns.is('loading')]: treeNode.loading } },\n                {\n                  default: () => [h(icon)],\n                }\n              ),\n            ]\n          },\n        }\n      )\n    )\n  } else {\n    ele.push(\n      h('span', {\n        class: ns.e('placeholder'),\n      })\n    )\n  }\n  return ele\n}\n","// @ts-nocheck\nimport { getCurrentInstance, watch } from 'vue'\nimport { hasOwn } from '@element-plus/utils'\nimport { parseMinWidth, parseWidth } from '../util'\n\nimport type { ComputedRef } from 'vue'\nimport type { TableColumn, TableColumnCtx, ValueOf } from './defaults'\n\nfunction getAllAliases(props, aliases) {\n  return props.reduce((prev, cur) => {\n    prev[cur] = cur\n    return prev\n  }, aliases)\n}\nfunction useWatcher<T>(\n  owner: ComputedRef<any>,\n  props_: Partial<TableColumnCtx<T>>\n) {\n  const instance = getCurrentInstance() as TableColumn<T>\n  const registerComplexWatchers = () => {\n    const props = ['fixed']\n    const aliases = {\n      realWidth: 'width',\n      realMinWidth: 'minWidth',\n    }\n    const allAliases = getAllAliases(props, aliases)\n    Object.keys(allAliases).forEach((key) => {\n      const columnKey = aliases[key]\n      if (hasOwn(props_, columnKey)) {\n        watch(\n          () => props_[columnKey],\n          (newVal) => {\n            let value: ValueOf<TableColumnCtx<T>> = newVal\n            if (columnKey === 'width' && key === 'realWidth') {\n              value = parseWidth(newVal)\n            }\n            if (columnKey === 'minWidth' && key === 'realMinWidth') {\n              value = parseMinWidth(newVal)\n            }\n            instance.columnConfig.value[columnKey as any] = value\n            instance.columnConfig.value[key] = value\n            const updateColumns = columnKey === 'fixed'\n            owner.value.store.scheduleLayout(updateColumns)\n          }\n        )\n      }\n    })\n  }\n  const registerNormalWatchers = () => {\n    const props = [\n      'label',\n      'filters',\n      'filterMultiple',\n      'sortable',\n      'index',\n      'formatter',\n      'className',\n      'labelClassName',\n      'showOverflowTooltip',\n    ]\n    const aliases = {\n      property: 'prop',\n      align: 'realAlign',\n      headerAlign: 'realHeaderAlign',\n    }\n    const allAliases = getAllAliases(props, aliases)\n    Object.keys(allAliases).forEach((key) => {\n      const columnKey = aliases[key]\n      if (hasOwn(props_, columnKey)) {\n        watch(\n          () => props_[columnKey],\n          (newVal) => {\n            instance.columnConfig.value[key] = newVal\n          }\n        )\n      }\n    })\n  }\n\n  return {\n    registerComplexWatchers,\n    registerNormalWatchers,\n  }\n}\n\nexport default useWatcher\n","// @ts-nocheck\nimport {\n  Comment,\n  computed,\n  getCurrentInstance,\n  h,\n  ref,\n  unref,\n  watchEffect,\n} from 'vue'\nimport { debugWarn } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  cellForced,\n  defaultRenderCell,\n  getDefaultClassName,\n  treeCellPrefix,\n} from '../config'\nimport { parseMinWidth, parseWidth } from '../util'\nimport type { ComputedRef } from 'vue'\nimport type { TableColumn, TableColumnCtx } from './defaults'\n\nfunction useRender<T>(\n  props: TableColumnCtx<T>,\n  slots,\n  owner: ComputedRef<any>\n) {\n  const instance = getCurrentInstance() as TableColumn<T>\n  const columnId = ref('')\n  const isSubColumn = ref(false)\n  const realAlign = ref<string>()\n  const realHeaderAlign = ref<string>()\n  const ns = useNamespace('table')\n  watchEffect(() => {\n    realAlign.value = props.align ? `is-${props.align}` : null\n    // nextline help render\n    realAlign.value\n  })\n  watchEffect(() => {\n    realHeaderAlign.value = props.headerAlign\n      ? `is-${props.headerAlign}`\n      : realAlign.value\n    // nextline help render\n    realHeaderAlign.value\n  })\n  const columnOrTableParent = computed(() => {\n    let parent: any = instance.vnode.vParent || instance.parent\n    while (parent && !parent.tableId && !parent.columnId) {\n      parent = parent.vnode.vParent || parent.parent\n    }\n    return parent\n  })\n  const hasTreeColumn = computed<boolean>(() => {\n    const { store } = instance.parent\n    if (!store) return false\n    const { treeData } = store.states\n    const treeDataValue = treeData.value\n    return treeDataValue && Object.keys(treeDataValue).length > 0\n  })\n\n  const realWidth = ref(parseWidth(props.width))\n  const realMinWidth = ref(parseMinWidth(props.minWidth))\n  const setColumnWidth = (column: TableColumnCtx<T>) => {\n    if (realWidth.value) column.width = realWidth.value\n    if (realMinWidth.value) {\n      column.minWidth = realMinWidth.value\n    }\n    if (!column.minWidth) {\n      column.minWidth = 80\n    }\n    column.realWidth = Number(\n      column.width === undefined ? column.minWidth : column.width\n    )\n    return column\n  }\n  const setColumnForcedProps = (column: TableColumnCtx<T>) => {\n    // 对于特定类型的 column，某些属性不允许设置\n    const type = column.type\n    const source = cellForced[type] || {}\n    Object.keys(source).forEach((prop) => {\n      const value = source[prop]\n      if (prop !== 'className' && value !== undefined) {\n        column[prop] = value\n      }\n    })\n    const className = getDefaultClassName(type)\n    if (className) {\n      const forceClass = `${unref(ns.namespace)}-${className}`\n      column.className = column.className\n        ? `${column.className} ${forceClass}`\n        : forceClass\n    }\n    return column\n  }\n\n  const checkSubColumn = (children: TableColumn<T> | TableColumn<T>[]) => {\n    if (Array.isArray(children)) {\n      children.forEach((child) => check(child))\n    } else {\n      check(children)\n    }\n    function check(item: TableColumn<T>) {\n      if (item?.type?.name === 'ElTableColumn') {\n        item.vParent = instance\n      }\n    }\n  }\n  const setColumnRenders = (column: TableColumnCtx<T>) => {\n    // renderHeader 属性不推荐使用。\n    if (props.renderHeader) {\n      debugWarn(\n        'TableColumn',\n        'Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header.'\n      )\n    } else if (column.type !== 'selection') {\n      column.renderHeader = (scope) => {\n        // help render\n        instance.columnConfig.value['label']\n        const renderHeader = slots.header\n        return renderHeader ? renderHeader(scope) : column.label\n      }\n    }\n\n    let originRenderCell = column.renderCell\n    const hasTreeColumnValue = hasTreeColumn.value\n    // TODO: 这里的实现调整\n    if (column.type === 'expand') {\n      // 对于展开行，renderCell 不允许配置的。在上一步中已经设置过，这里需要简单封装一下。\n      column.renderCell = (data) =>\n        h(\n          'div',\n          {\n            class: 'cell',\n          },\n          [originRenderCell(data)]\n        )\n      owner.value.renderExpanded = (data) => {\n        return slots.default ? slots.default(data) : slots.default\n      }\n    } else {\n      originRenderCell = originRenderCell || defaultRenderCell\n      // 对 renderCell 进行包装\n      column.renderCell = (data) => {\n        let children = null\n        if (slots.default) {\n          const vnodes = slots.default(data)\n          children = vnodes.some((v) => v.type !== Comment)\n            ? vnodes\n            : originRenderCell(data)\n        } else {\n          children = originRenderCell(data)\n        }\n        const shouldCreatePlaceholder =\n          hasTreeColumnValue && data.cellIndex === 0\n        const prefix = treeCellPrefix(data, shouldCreatePlaceholder)\n        const props = {\n          class: 'cell',\n          style: {},\n        }\n        if (column.showOverflowTooltip) {\n          props.class = `${props.class} ${unref(ns.namespace)}-tooltip`\n          props.style = {\n            width: `${\n              (data.column.realWidth || Number(data.column.width)) - 1\n            }px`,\n          }\n        }\n        checkSubColumn(children)\n        return h('div', props, [prefix, children])\n      }\n    }\n    return column\n  }\n  const getPropsData = (...propsKey: unknown[]) => {\n    return propsKey.reduce((prev, cur) => {\n      if (Array.isArray(cur)) {\n        cur.forEach((key) => {\n          prev[key] = props[key]\n        })\n      }\n      return prev\n    }, {})\n  }\n  const getColumnElIndex = (children, child) => {\n    return Array.prototype.indexOf.call(children, child)\n  }\n\n  return {\n    columnId,\n    realAlign,\n    isSubColumn,\n    realHeaderAlign,\n    columnOrTableParent,\n    setColumnWidth,\n    setColumnForcedProps,\n    setColumnRenders,\n    getPropsData,\n    getColumnElIndex,\n  }\n}\n\nexport default useRender\n","// @ts-nocheck\nimport type { ComponentInternalInstance, PropType, Ref, VNode } from 'vue'\nimport type { DefaultRow, Table } from '../table/defaults'\n\ntype CI<T> = { column: TableColumnCtx<T>; $index: number }\n\ntype Filters = {\n  text: string\n  value: string\n}[]\n\ntype FilterMethods<T> = (value, row: T, column: TableColumnCtx<T>) => void\n\ntype ValueOf<T> = T[keyof T]\n\ninterface TableColumnCtx<T> {\n  id: string\n  realWidth: number\n  type: string\n  label: string\n  className: string\n  labelClassName: string\n  property: string\n  prop: string\n  width: string | number\n  minWidth: string | number\n  renderHeader: (data: CI<T>) => VNode\n  sortable: boolean | string\n  sortMethod: (a: T, b: T) => number\n  sortBy: string | ((row: T, index: number) => string) | string[]\n  resizable: boolean\n  columnKey: string\n  rawColumnKey: string\n  align: string\n  headerAlign: string\n  showTooltipWhenOverflow: boolean\n  showOverflowTooltip: boolean\n  fixed: boolean | string\n  formatter: (\n    row: T,\n    column: TableColumnCtx<T>,\n    cellValue,\n    index: number\n  ) => VNode | string\n  selectable: (row: T, index: number) => boolean\n  reserveSelection: boolean\n  filterMethod: FilterMethods<T>\n  filteredValue: string[]\n  filters: Filters\n  filterPlacement: string\n  filterMultiple: boolean\n  index: number | ((index: number) => number)\n  sortOrders: ('ascending' | 'descending' | null)[]\n  renderCell: (data: any) => void\n  colSpan: number\n  rowSpan: number\n  children: TableColumnCtx<T>[]\n  level: number\n  filterable: boolean | FilterMethods<T> | Filters\n  order: string\n  isColumnGroup: boolean\n  isSubColumn: boolean\n  columns: TableColumnCtx<T>[]\n  getColumnIndex: () => number\n  no: number\n  filterOpened?: boolean\n}\n\ninterface TableColumn<T> extends ComponentInternalInstance {\n  vnode: {\n    vParent: TableColumn<T> | Table<T>\n  } & VNode\n  vParent: TableColumn<T> | Table<T>\n  columnId: string\n  columnConfig: Ref<Partial<TableColumnCtx<T>>>\n}\n\nexport type { Filters, FilterMethods, TableColumnCtx, TableColumn, ValueOf }\n\nexport default {\n  type: {\n    type: String,\n    default: 'default',\n  },\n  label: String,\n  className: String,\n  labelClassName: String,\n  property: String,\n  prop: String,\n  width: {\n    type: [String, Number],\n    default: '',\n  },\n  minWidth: {\n    type: [String, Number],\n    default: '',\n  },\n  renderHeader: Function as PropType<\n    TableColumnCtx<DefaultRow>['renderHeader']\n  >,\n  sortable: {\n    type: [Boolean, String],\n    default: false,\n  },\n  sortMethod: Function as PropType<TableColumnCtx<DefaultRow>['sortMethod']>,\n  sortBy: [String, Function, Array] as PropType<\n    TableColumnCtx<DefaultRow>['sortBy']\n  >,\n  resizable: {\n    type: Boolean,\n    default: true,\n  },\n  columnKey: String,\n  align: String,\n  headerAlign: String,\n  showTooltipWhenOverflow: Boolean,\n  showOverflowTooltip: Boolean,\n  fixed: [Boolean, String],\n  formatter: Function as PropType<TableColumnCtx<DefaultRow>['formatter']>,\n  selectable: Function as PropType<TableColumnCtx<DefaultRow>['selectable']>,\n  reserveSelection: Boolean,\n  filterMethod: Function as PropType<\n    TableColumnCtx<DefaultRow>['filterMethod']\n  >,\n  filteredValue: Array as PropType<TableColumnCtx<DefaultRow>['filteredValue']>,\n  filters: Array as PropType<TableColumnCtx<DefaultRow>['filters']>,\n  filterPlacement: String,\n  filterMultiple: {\n    type: Boolean,\n    default: true,\n  },\n  index: [Number, Function] as PropType<TableColumnCtx<DefaultRow>['index']>,\n  sortOrders: {\n    type: Array as PropType<TableColumnCtx<DefaultRow>['sortOrders']>,\n    default: () => {\n      return ['ascending', 'descending', null]\n    },\n    validator: (val: TableColumnCtx<unknown>['sortOrders']) => {\n      return val.every((order: string) =>\n        ['ascending', 'descending', null].includes(order)\n      )\n    },\n  },\n}\n","// @ts-nocheck\nimport {\n  Fragment,\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  h,\n  onBeforeMount,\n  onBeforeUnmount,\n  onMounted,\n  ref,\n} from 'vue'\nimport ElCheckbox from '@element-plus/components/checkbox'\nimport { isString } from '@element-plus/utils'\nimport { cellStarts } from '../config'\nimport { compose, mergeOptions } from '../util'\nimport useWatcher from './watcher-helper'\nimport useRender from './render-helper'\nimport defaultProps from './defaults'\nimport type { TableColumn, TableColumnCtx } from './defaults'\n\nimport type { DefaultRow } from '../table/defaults'\n\nlet columnIdSeed = 1\n\nexport default defineComponent({\n  name: 'ElTableColumn',\n  components: {\n    ElCheckbox,\n  },\n  props: defaultProps,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance() as TableColumn<DefaultRow>\n    const columnConfig = ref<Partial<TableColumnCtx<DefaultRow>>>({})\n    const owner = computed(() => {\n      let parent = instance.parent as any\n      while (parent && !parent.tableId) {\n        parent = parent.parent\n      }\n      return parent\n    })\n\n    const { registerNormalWatchers, registerComplexWatchers } = useWatcher(\n      owner,\n      props\n    )\n    const {\n      columnId,\n      isSubColumn,\n      realHeaderAlign,\n      columnOrTableParent,\n      setColumnWidth,\n      setColumnForcedProps,\n      setColumnRenders,\n      getPropsData,\n      getColumnElIndex,\n      realAlign,\n    } = useRender(props as unknown as TableColumnCtx<unknown>, slots, owner)\n\n    const parent = columnOrTableParent.value\n    columnId.value = `${\n      parent.tableId || parent.columnId\n    }_column_${columnIdSeed++}`\n    onBeforeMount(() => {\n      isSubColumn.value = owner.value !== parent\n\n      const type = props.type || 'default'\n      const sortable = props.sortable === '' ? true : props.sortable\n      const defaults = {\n        ...cellStarts[type],\n        id: columnId.value,\n        type,\n        property: props.prop || props.property,\n        align: realAlign,\n        headerAlign: realHeaderAlign,\n        showOverflowTooltip:\n          props.showOverflowTooltip || props.showTooltipWhenOverflow,\n        // filter 相关属性\n        filterable: props.filters || props.filterMethod,\n        filteredValue: [],\n        filterPlacement: '',\n        isColumnGroup: false,\n        isSubColumn: false,\n        filterOpened: false,\n        // sort 相关属性\n        sortable,\n        // index 列\n        index: props.index,\n        // <el-table-column key=\"xxx\" />\n        rawColumnKey: instance.vnode.key,\n      }\n\n      const basicProps = [\n        'columnKey',\n        'label',\n        'className',\n        'labelClassName',\n        'type',\n        'renderHeader',\n        'formatter',\n        'fixed',\n        'resizable',\n      ]\n      const sortProps = ['sortMethod', 'sortBy', 'sortOrders']\n      const selectProps = ['selectable', 'reserveSelection']\n      const filterProps = [\n        'filterMethod',\n        'filters',\n        'filterMultiple',\n        'filterOpened',\n        'filteredValue',\n        'filterPlacement',\n      ]\n\n      let column = getPropsData(basicProps, sortProps, selectProps, filterProps)\n\n      column = mergeOptions(defaults, column)\n      // 注意 compose 中函数执行的顺序是从右到左\n      const chains = compose(\n        setColumnRenders,\n        setColumnWidth,\n        setColumnForcedProps\n      )\n      column = chains(column)\n      columnConfig.value = column\n\n      // 注册 watcher\n      registerNormalWatchers()\n      registerComplexWatchers()\n    })\n    onMounted(() => {\n      const parent = columnOrTableParent.value\n      const children = isSubColumn.value\n        ? parent.vnode.el.children\n        : parent.refs.hiddenColumns?.children\n      const getColumnIndex = () =>\n        getColumnElIndex(children || [], instance.vnode.el)\n      columnConfig.value.getColumnIndex = getColumnIndex\n      const columnIndex = getColumnIndex()\n      columnIndex > -1 &&\n        owner.value.store.commit(\n          'insertColumn',\n          columnConfig.value,\n          isSubColumn.value ? parent.columnConfig.value : null\n        )\n    })\n    onBeforeUnmount(() => {\n      owner.value.store.commit(\n        'removeColumn',\n        columnConfig.value,\n        isSubColumn.value ? parent.columnConfig.value : null\n      )\n    })\n    instance.columnId = columnId.value\n\n    instance.columnConfig = columnConfig\n    return\n  },\n  render() {\n    try {\n      const renderDefault = this.$slots.default?.({\n        row: {},\n        column: {},\n        $index: -1,\n      })\n      const children = []\n      if (Array.isArray(renderDefault)) {\n        for (const childNode of renderDefault) {\n          if (\n            childNode.type?.name === 'ElTableColumn' ||\n            childNode.shapeFlag & 2\n          ) {\n            children.push(childNode)\n          } else if (\n            childNode.type === Fragment &&\n            Array.isArray(childNode.children)\n          ) {\n            childNode.children.forEach((vnode) => {\n              // No rendering when vnode is dynamic slot or text\n              if (vnode?.patchFlag !== 1024 && !isString(vnode?.children)) {\n                children.push(vnode)\n              }\n            })\n          }\n        }\n      }\n      const vnode = h('div', children)\n      return vnode\n    } catch {\n      return h('div', [])\n    }\n  },\n})\n","import { withInstall, withNoopInstall } from '@element-plus/utils'\nimport Table from './src/table.vue'\nimport TableColumn from './src/tableColumn'\n\nexport const ElTable = withInstall(Table, {\n  TableColumn,\n})\nexport default ElTable\nexport const ElTableColumn = withNoopInstall(TableColumn)\n"],"names":["matchHtmlRegExp","escapeHtml","string","escape","str","match","exec","html","index","lastIndex","length","charCodeAt","substring","module","exports","linkProps","buildProps","type","String","values","default","underline","Boolean","disabled","href","icon","iconPropType","linkEmits","click","evt","MouseEvent","ns","handleClick","event","ElLink","withInstall","Link","getCell","_a","target","closest","isObject","obj","orderBy","array","sortKey","reverse","sortMethod","sortBy","Array","isArray","getKey","value","map","by","get","$value","compare","a","b","i","len","key","sort","order","item","getColumnById","table","columnId","column","columns","forEach","id","getColumnByKey","columnKey","getColumnByCell","cell","namespace","matches","className","RegExp","getRowIdentity","row","rowKey","Error","includes","split","current","element","call","getKeysMap","arrayMap","mergeOptions","defaults","config","options","hasOwn","parseWidth","width","Number","parseInt","isNaN","parseMinWidth","minWidth","parseHeight","height","test","compose","funcs","arg","reduce","args","toggleRowStatus","statusArr","newVal","changed","indexOf","included","addRow","push","removeRow","splice","walkTreeNode","root","cb","childrenKey","lazyKey","isNil","_walker","parent","children","level","children2","removePopper","createTablePopper","parentNode","trigger","popperContent","popperOptions","tooltipEffect","nextZIndex","useZIndex","dataset","prefix","scrollContainer","querySelector","renderContent","isLight","content2","document","createElement","innerHTML","style","zIndex","appendChild","renderArrow","arrow2","showPopper","popperInstance","update","destroy","content","removeChild","removeEventListener","e","arrow","createPopper","strategy","modifiers","name","offset","padding","addEventListener","isFixedColumn","fixed","store","realColumns","fixedLayout","start","after","colSpan","states","fixedLeafColumnsLength","rightFixedLeafColumnsLength","direction","getFixedColumnsClass","classes","isLeft","getOffset","realWidth","getFixedColumnOffset","styles","left","slice","right","ensurePosition","useExpand","watcherData","instance","getCurrentInstance","defaultExpandAll","ref","expandRows","updateExpandRows","data","expandRowsMap","prev","rowId","rowInfo","toggleRowExpansion","expanded","emit","setExpandRowKeys","rowKeys","assertRowKey","keysMap","cur","info","isRowExpanded","expandMap","useCurrent","_currentRowKey","currentRow","setCurrentRowKey","setCurrentRowByKey","restoreCurrentRowKey","_currentRow","unref","find","updateCurrentRow","oldCurrentRow","updateCurrentRowData","currentRowKey","useTree","expandRowKeys","treeData","indent","lazy","lazyTreeNodeMap","lazyColumnIdentifier","childrenColumnName","normalizedData","computed","normalize","normalizedLazyNode","keys","Object","res","parentId","updateTreeData","ifChangeExpandRowKeys","ifExpandAll","_a2","nested","normalizedLazyNode_","newTreeData","oldTreeData","rootLazyRowKeys","getExpanded","oldValue","newValue","loaded","loading","lazyKeys","lazyNodeChildren","updateTableScrollY","watch","updateTreeExpandKeys","toggleTreeExpansion","oldExpanded","loadOrToggle","loadData","treeNode","load","props","TypeError","sortData","sortingColumn","sortable","sortProp","sortOrder","doFlattenColumns","result","apply","useWatcher","size","tableSize","toRefs","proxy","$props","_data","isComplex","_columns","originColumns","fixedColumns","rightFixedColumns","leafColumns","fixedLeafColumns","rightFixedLeafColumns","leafColumnsLength","isAllSelected","selection","reserveSelection","selectOnIndeterminate","selectable","filters","filteredData","hoverRow","state","scheduleLayout","deep","updateColumns","filter","unshift","notFixedColumns","concat","leafColumns2","fixedLeafColumns2","rightFixedLeafColumns2","needUpdateColumns","immediate","doLayout","debouncedUpdateLayout","isSelected","clearSelection","oldSelection","cleanSelection","deleted","selectedMap","dataMap","newSelection","getSelectionRows","toggleRowSelection","selected","emitChange","_toggleAllSelection","_b","selectionChanged","childrenCount","rowKey2","rowIndex","getChildrenCount","updateSelectionByRowKey","updateAllSelected","_c","isSelected2","isAllSelected_","selectedCount","j","keyProp","isRowSelectable","count","childKey","updateFilters","columns2","filters_","col","updateSort","prop","execFilter","sourceData","filterMethod","some","execSort","execQuery","ignore","clearFilter","columnKeys","tableHeaderRef","refs","panels","assign","filterPanels","columns_","filteredValue","commit","silent","multi","clearSort","expandStates","treeStates","currentData","setExpandRowKeysAdapter","val","toggleRowExpansionAdapter","hasExpandColumn","toggleAllSelection","replaceColumn","sortColumn","no","getColumnIndex","pre","useStore","watcher","useNamespace","mutations","setData","dataInstanceChanged","$ready","insertColumn","newColumns","removeColumn","findIndex","init","column2","property","changeSortCondition","ingore","filterChange","_states","newFilters","rowSelectedChanged","setHoverRow","setCurrentRow","mutations2","nextTick","layout","updateScrollY","InitialStateMap","createStore","debounce","handleValue","getArrKeysValue","proxyTableProps","propsKey","storeKey","keyList","TableLayout","constructor","observers","fit","showHeader","scrollX","scrollY","bodyWidth","fixedWidth","rightFixedWidth","gutterWidth","isRef","scrollBarRef","vnode","el","prevScrollY","wrap$","scrollHeight","clientHeight","setHeight","isClient","updateElsHeight","setMaxHeight","getFlattenColumns","flattenColumns","isColumnGroup","notifyObservers","headerDisplayNone","elm","headerChild","tagName","getComputedStyle","display","parentElement","updateColumnsWidth","clientWidth","bodyMinWidth","flexColumns","totalFlexWidth","allColumnsWidth","flexWidthPerPixel","noneFirstWidth","flexWidth","Math","floor","max","resizeState","addObserver","observer","removeObserver","onColumnsChange","onScrollableChange","useCheckboxGroupProps","modelValue","min","useSizeProp","label","fill","textColor","tag","validateEvent","checkboxProps","indeterminate","checked","trueLabel","falseLabel","controls","border","tabindex","useCheckboxGroup","form","elForm","formItem","elFormItem","useFormItem","checkboxGroup","inject","isGroup","elFormItemSize","useCheckboxGroupId","inputId","groupId","isLabeledByFormItem","useFormItemInputId","formItemContext","useModel","selfModel","isLimitExceeded","model","set","changeEvent","UPDATE_MODEL_EVENT","useCheckboxStatus","slots","focus","useSize","checkboxGroupSize","isChecked","toTypeString","checkboxSize","hasOwnLabel","useDisabled","isLimitDisabled","isDisabled","setStoreValue","addToStore","useEvent","getLabeledValue","emitChangeEvent","handleChange","onClickRoot","validate","catch","err","debugWarn","checkboxEmits","isString","isNumber","isBoolean","change","checkboxGroupEmits","useCheckbox","disableIdGeneration","disableIdManagement","activeStyle","backgroundColor","borderColor","color","boxShadow","provide","ElCheckbox","Checkbox","CheckboxButton","CheckboxGroup","withNoopInstall","ElCheckboxGroup","_sfc_main","defineComponent","components","ElScrollbar","ElTooltip","ElIcon","ArrowDown","ArrowUp","directives","ClickOutside","placement","upDataColumn","Function","setup","t","useLocale","tooltipVisible","tooltip","filterValue","isActive","hideFilterPanel","confirmFilter","hidden","_filterValue","multiple","handleConfirm","handleReset","handleSelect","showFilterPanel","popperPaneRef","_component_el_icon","_component_el_tooltip","_directive_click_outside","_openBlock","visible","teleported","effect","pure","persistent","_createElementVNode","class","_createVNode","_cache","$event","_createBlock","_","onClick","_toDisplayString","_ctx","_hoisted_2","_createElementBlock","_hoisted_3","_withCtx","useLayoutObserver","onBeforeMount","tableLayout","onMounted","onUpdated","onUnmounted","cols","querySelectorAll","columnsMap","getAttribute","setAttribute","ths","th","TABLE_INJECTION_KEY","Symbol","handleFilterClick","stopPropagation","handleHeaderClick","handleSortClick","filterable","handleHeaderContextMenu","draggingColumn","dragging","dragState","handleMouseDown","tableEl","tableLeft","getBoundingClientRect","columnEl","columnRect","minLeft","addClass","startMouseLeft","clientX","startLeft","startColumnLeft","resizeProxy","onselectstart","ondragstart","handleMouseMove2","event2","deltaLeft","proxyLeft","handleMouseUp","finalLeft","columnWidth","requestAnimationFrame","body","cursor","setTimeout","removeClass","handleMouseMove","resizable","rect","bodyStyle","pageX","hasClass","handleMouseOut","toggleOrder","sortOrders","givenOrder","useStyle","getHeaderRowStyle","headerRowStyle","getHeaderRowClass","headerRowClassName","join","getHeaderCellStyle","columnIndex","headerCellStyles","headerCellStyle","fixedStyle","isSubColumn","getHeaderCellClass","fixedClasses","headerAlign","labelClassName","headerCellClassName","getAllColumns","convertToRows","maxLevel","traverse","subColumn","rows","allColumns","rowSpan","useUtils","columnRows","required","defaultSort","render","$parent","h","is","subColumns","cellIndex","colspan","rowspan","onContextmenu","onMousedown","onMousemove","onMouseout","renderHeader","$index","_self","FilterPanel","filterPlacement","useEvents","tooltipContent","tooltipTrigger","handleEvent","handleDoubleClick","handleContextMenu","handleMouseEnter","handleMouseLeave","handleCellMouseEnter","hoverState","cellChild","childNodes","range","createRange","setStart","setEnd","rangeWidth","getStyle","offsetWidth","scrollWidth","tableWrapper","innerText","textContent","handleCellMouseLeave","oldHoverState","useStyles","getRowStyle","rowStyle","getRowClass","highlightCurrentRow","stripe","em","rowClassName","getCellStyle","cellStyle","cellStyles","getCellClass","align","cellClassName","getSpan","fn","spanMethod","getColspanRealWidth","widthArr","acc","useRender","firstDefaultColumnIndex","getKeyOfRow","rowRender","treeRowData","rowClasses","displayStyle","onDblclick","onMouseenter","onMouseleave","columnData","context","noLazyChildren","baseKey","patchKey","rawColumnKey","tdChildren","cellChildren","renderCell","wrappedRowRender","tr","renderExpanded","console","error","tmp","parent2","node","innerTreeRowData","nodes2","nodes","defaultProps","highlight","oldVal","raf","window","oldRow","newRow","hColgroup","isAuto","every","getPropsData","propsData","useMapState","leftFixedLeafCount","rightFixedLeafCount","columnsCount","leftFixedCount","rightFixedCount","getCellClasses","getCellStyles","summaryMethod","sumText","sums","precisions","notNumber","decimal","precision","curr","parseFloat","toFixed","cellspacing","cellpadding","isHidden","resizeProxyVisible","setDragVisible","headerHeight","scrollbarViewStyle","verticalAlign","tableWidth","tableScrollHeight","bodyScrollHeight","headerScrollHeight","footerScrollHeight","watchEffect","maxHeight","handleHeaderFooterMousewheel","pixelX","pixelY","abs","bodyWrapper","scrollLeft","shouldUpdateHeight","tableBodyStyles","syncPostion","bindEvents","tableHeader","headerWrapper","flexible","offsetHeight","setScrollClassByEl","classList","from","startsWith","setScrollClass","hasScrollClass","contains","scrollingNoneClass","footerWrapper","maxScrollLeftPosition","useEventListener","passive","useResizeObserver","resizeListener","shouldUpdateLayout","oldWidth","oldHeight","oldHeaderHeight","$el","bodyWidth_","emptyBlockStyle","tableInnerStyle","scrollbarStyle","footerHeight","reachMaxHeight","handleFixedMousewheel","spinY","currentScrollTop","scrollTop","preventDefault","ceil","showSummary","emptyText","treeProps","hasChildren","scrollbarAlwaysOn","useScrollbar","scrollTo","yCoord","scrollbar","setScrollPosition","position","setScrollTop","top","setScrollLeft","o","f","s","u","d","N","l","p","m","w","D","x","E","M","F","v","navigator","userAgent","n","NaN","documentMode","r","replace","X","ie","ieCompatibilityMode","ie64","firefox","opera","webkit","safari","chrome","windows","osx","linux","iphone","mobile","nativeApp","android","ipad","A","c","U","canUseDOM","canUseWorkers","Worker","canUseEventListeners","attachEvent","canUseViewport","screen","isInWorker","S","implementation","hasFeature","O","I","P","detail","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","T","getEventType","Y","mousewheel","callback","normalized","normalizeWheel","Reflect","Mousewheel","beforeMount","binding","tableIdSeed","TableHeader","TableBody","TableFooter","emits","isEmpty","tableId","computedSumText","computedEmptyText","_normalizeStyle","_normalizeClass","_renderSlot","withDirectives","onSetDragVisible","_createCommentVNode","always","openBlock","append","defaultClassNames","expand","cellStarts","getDefaultClassName","cellForced","onChange","ArrowRight","defaultRenderCell","getProp","formatter","toString","treeCellPrefix","createPlacehoder","ele","expandClasses","Loading","getAllAliases","aliases","owner","props_","registerComplexWatchers","realMinWidth","allAliases","columnConfig","registerNormalWatchers","realAlign","realHeaderAlign","columnOrTableParent","vParent","hasTreeColumn","treeDataValue","setColumnWidth","setColumnForcedProps","source","forceClass","checkSubColumn","check","child","setColumnRenders","scope","header","originRenderCell","hasTreeColumnValue","vnodes","Comment","shouldCreatePlaceholder","props2","showOverflowTooltip","getColumnElIndex","prototype","showTooltipWhenOverflow","filterMultiple","validator","columnIdSeed","filterOpened","basicProps","sortProps","selectProps","filterProps","chains","hiddenColumns","onBeforeUnmount","renderDefault","$slots","childNode","shapeFlag","Fragment","vnode2","patchFlag","ElTable","Table","TableColumn","ElTableColumn"],"sourceRoot":""}