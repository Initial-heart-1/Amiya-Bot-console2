"use strict";(self["webpackChunkamiyabot_console"]=self["webpackChunkamiyabot_console"]||[]).push([[164],{4180:function(e,a,t){t.d(a,{Cv:function(){return n},IX:function(){return i},db:function(){return r},jW:function(){return d},pB:function(){return u}});var l=t(3505);const o=new l.Z;async function i(){return await o.get({url:"/bot/getAllBot"})}async function n(e){return await o.post({url:e.id?"/bot/editBot":"/bot/addBot",data:e})}async function r(e){return await o.post({url:"/bot/stopBot",data:e})}async function d(e){return await o.post({url:"/bot/runBot",data:e})}async function u(e){return await o.post({url:"/bot/deleteBot",data:e})}},8053:function(e,a,t){t.r(a),t.d(a,{default:function(){return he}});var l=t(8838),o=t(3396),i=t(7139),n=t(4870),r=t(9242),d=t(5994),u=t(6174),s=t(6835),c=t(4419);const p=(0,d.o8)({size:u.Pp,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),m=(0,d.o8)({...p,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),f={[s.f_]:e=>(0,i.HD)(e)||(0,c.hj)(e)||(0,c.jn)(e),[s.O7]:e=>(0,i.HD)(e)||(0,c.hj)(e)||(0,c.jn)(e)},v=Symbol("radioGroupKey"),b=(e,a)=>{const t=(0,n.iH)(),l=(0,o.f3)(v,void 0),i=(0,o.Fl)((()=>!!l)),r=(0,o.Fl)({get(){return i.value?l.modelValue:e.modelValue},set(o){i.value?l.changeEvent(o):a&&a(s.f_,o),t.value.checked=e.modelValue===e.label}}),d=(0,u.tH)((0,o.Fl)((()=>null==l?void 0:l.size))),c=(0,u.B4)((0,o.Fl)((()=>null==l?void 0:l.disabled))),p=(0,n.iH)(!1),m=(0,o.Fl)((()=>c.value||i.value&&r.value!==e.label?-1:0));return{radioRef:t,isGroup:i,radioGroup:l,focus:p,size:d,disabled:c,tabIndex:m,modelValue:r}};var _=t(5989),w=t(6734);const h=["value","name","disabled"],y={name:"ElRadio"},S=(0,o.aZ)({...y,props:m,emits:f,setup(e,{emit:a}){const t=e,l=(0,w.s)("radio"),{radioRef:d,radioGroup:u,focus:s,size:c,disabled:p,modelValue:m}=b(t,a);function f(){(0,o.Y3)((()=>a("change",m.value)))}return(e,a)=>{var t;return(0,o.wg)(),(0,o.iD)("label",{class:(0,i.C_)([(0,n.SU)(l).b(),(0,n.SU)(l).is("disabled",(0,n.SU)(p)),(0,n.SU)(l).is("focus",(0,n.SU)(s)),(0,n.SU)(l).is("bordered",e.border),(0,n.SU)(l).is("checked",(0,n.SU)(m)===e.label),(0,n.SU)(l).m((0,n.SU)(c))])},[(0,o._)("span",{class:(0,i.C_)([(0,n.SU)(l).e("input"),(0,n.SU)(l).is("disabled",(0,n.SU)(p)),(0,n.SU)(l).is("checked",(0,n.SU)(m)===e.label)])},[(0,o.wy)((0,o._)("input",{ref_key:"radioRef",ref:d,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.dq)(m)?m.value=e:null),class:(0,i.C_)((0,n.SU)(l).e("original")),value:e.label,name:e.name||(null==(t=(0,n.SU)(u))?void 0:t.name),disabled:(0,n.SU)(p),type:"radio",onFocus:a[1]||(a[1]=e=>s.value=!0),onBlur:a[2]||(a[2]=e=>s.value=!1),onChange:f},null,42,h),[[r.G2,(0,n.SU)(m)]]),(0,o._)("span",{class:(0,i.C_)((0,n.SU)(l).e("inner"))},null,2)],2),(0,o._)("span",{class:(0,i.C_)((0,n.SU)(l).e("label")),onKeydown:a[3]||(a[3]=(0,r.iM)((()=>{}),["stop"]))},[(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)((0,i.zw)(e.label),1)]))],34)],2)}}});var g=(0,_.Z)(S,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const U=(0,d.o8)({...p,name:{type:String,default:""}}),k=["value","name","disabled"],C={name:"ElRadioButton"},V=(0,o.aZ)({...C,props:U,setup(e){const a=e,t=(0,w.s)("radio"),{radioRef:l,focus:d,size:u,disabled:s,modelValue:c,radioGroup:p}=b(a),m=(0,o.Fl)((()=>({backgroundColor:(null==p?void 0:p.fill)||"",borderColor:(null==p?void 0:p.fill)||"",boxShadow:(null==p?void 0:p.fill)?`-1px 0 0 0 ${p.fill}`:"",color:(null==p?void 0:p.textColor)||""})));return(e,a)=>{var f;return(0,o.wg)(),(0,o.iD)("label",{class:(0,i.C_)([(0,n.SU)(t).b("button"),(0,n.SU)(t).is("active",(0,n.SU)(c)===e.label),(0,n.SU)(t).is("disabled",(0,n.SU)(s)),(0,n.SU)(t).is("focus",(0,n.SU)(d)),(0,n.SU)(t).bm("button",(0,n.SU)(u))])},[(0,o.wy)((0,o._)("input",{ref_key:"radioRef",ref:l,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.dq)(c)?c.value=e:null),class:(0,i.C_)((0,n.SU)(t).be("button","original-radio")),value:e.label,type:"radio",name:e.name||(null==(f=(0,n.SU)(p))?void 0:f.name),disabled:(0,n.SU)(s),onFocus:a[1]||(a[1]=e=>d.value=!0),onBlur:a[2]||(a[2]=e=>d.value=!1)},null,42,k),[[r.G2,(0,n.SU)(c)]]),(0,o._)("span",{class:(0,i.C_)((0,n.SU)(t).be("button","inner")),style:(0,i.j5)((0,n.SU)(c)===e.label?(0,n.SU)(m):{}),onKeydown:a[3]||(a[3]=(0,r.iM)((()=>{}),["stop"]))},[(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)((0,i.zw)(e.label),1)]))],38)],2)}}});var W=(0,_.Z)(V,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const B=(0,d.o8)({id:{type:String,default:void 0},size:u.Pp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),j=f;var q=t(8925),I=t(95),T=t(4620);const x=["id","aria-label","aria-labelledby"],D={name:"ElRadioGroup"},H=(0,o.aZ)({...D,props:B,emits:j,setup(e,{emit:a}){const t=e,l=(0,w.s)("radio"),r=(0,q.M)(),d=(0,n.iH)(),{formItem:u}=(0,I.A)(),{inputId:c,isLabeledByFormItem:p}=(0,I.p)(t,{formItemContext:u}),m=e=>{a(s.f_,e),(0,o.Y3)((()=>a("change",e)))};(0,o.bv)((()=>{const e=d.value.querySelectorAll("[type=radio]"),a=e[0];!Array.from(e).some((e=>e.checked))&&a&&(a.tabIndex=0)}));const f=(0,o.Fl)((()=>t.name||r.value));return(0,o.JJ)(v,(0,n.qj)({...(0,n.BK)(t),changeEvent:m,name:f})),(0,o.YP)((()=>t.modelValue),(()=>{t.validateEvent&&(null==u||u.validate("change").catch((e=>(0,T.N)(e))))})),(e,a)=>((0,o.wg)(),(0,o.iD)("div",{id:(0,n.SU)(c),ref_key:"radioGroupRef",ref:d,class:(0,i.C_)((0,n.SU)(l).b("group")),role:"radiogroup","aria-label":(0,n.SU)(p)?void 0:e.label||"radio-group","aria-labelledby":(0,n.SU)(p)?(0,n.SU)(u).labelId:void 0},[(0,o.WI)(e.$slots,"default")],10,x))}});var P=(0,_.Z)(H,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]),Z=t(9015);const z=(0,Z.nz)(g,{RadioButton:W,RadioGroup:P}),F=(0,Z.dp)(P);(0,Z.dp)(W);t(1758);var A=t(1244),E=(t(7219),t(8631)),L=(t(7029),t(438)),N=(t(3877),t(7960),t(8131)),R=(t(7113),t(9866)),Y=(t(172),t(457)),$=t(5065),G=(t(3189),t(9971)),O=(t(1430),t(6605));t(6809);const K={class:"instance-manage"},M=(0,o.Uk)("添加实例"),Q=(0,o.Uk)("群聊"),X=(0,o.Uk)("编辑"),J=(0,o.Uk)("关闭"),ee=(0,o.Uk)("运行"),ae=(0,o.Uk)("删除"),te=(0,o.Uk)("QQ-Bot 配置"),le=(0,o.Uk)("公域"),oe=(0,o.Uk)("私域"),ie=(0,o.Uk)("Mirai-api-http 配置"),ne=(0,o.Uk)("CQ-Http 配置"),re=(0,o.Uk)("保存"),de=(0,o.Uk)("保存并启动");function ue(e,a,t,n,r,d){const u=O.mi,s=G.Ks,c=$.E2,p=Y.Z,m=R.EZ,f=N.nH,v=L.BT,b=L.km,_=E.OX,w=A.os,h=z,y=F,S=l.Z;return(0,o.wg)(),(0,o.iD)("div",K,[(0,o.Wm)(p,{ref:"table",load:e.loadList},{header:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"primary",onClick:e.addBot},{default:(0,o.w5)((()=>[M])),_:1},8,["onClick"])])),cell:(0,o.w5)((({value:e,field:a,row:t})=>["private"===a?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},["tencent"===t.adapter?((0,o.wg)(),(0,o.j4)(s,{key:0,type:e?"":"success"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e?"私域":"公域"),1)])),_:2},1032,["type"])):((0,o.wg)(),(0,o.j4)(s,{key:1,type:"warning"},{default:(0,o.w5)((()=>[Q])),_:1}))],64)):(0,o.kq)("",!0),"is_main"===a?((0,o.wg)(),(0,o.j4)(s,{key:1,type:e?"success":"info"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e?"是":"否"),1)])),_:2},1032,["type"])):(0,o.kq)("",!0),"is_start"===a?((0,o.wg)(),(0,o.j4)(s,{key:2,type:e?"success":"info"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e?"是":"否"),1)])),_:2},1032,["type"])):(0,o.kq)("",!0)])),operations:(0,o.w5)((({row:a})=>[(0,o.Wm)(c,{underline:!1,type:"primary",onClick:t=>e.editBot(a)},{default:(0,o.w5)((()=>[X])),_:2},1032,["onClick"]),a.running?((0,o.wg)(),(0,o.j4)(c,{key:0,underline:!1,type:"warning",onClick:t=>e.closeBot(a)},{default:(0,o.w5)((()=>[J])),_:2},1032,["onClick"])):((0,o.wg)(),(0,o.j4)(c,{key:1,underline:!1,type:"success",onClick:t=>e.runBot(a)},{default:(0,o.w5)((()=>[ee])),_:2},1032,["onClick"])),(0,o.Wm)(c,{underline:!1,type:"danger",onClick:t=>e.deleteBot(a)},{default:(0,o.w5)((()=>[ae])),_:2},1032,["onClick"])])),_:1},8,["load"]),(0,o.Wm)(S,{title:"编辑实例",form:e.form,ref:"dialog"},{footer:(0,o.w5)((()=>[(0,o.Wm)(u,{type:"primary",onClick:a[13]||(a[13]=a=>e.submit(0))},{default:(0,o.w5)((()=>[re])),_:1}),e.form.running?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(u,{key:0,type:"success",onClick:a[14]||(a[14]=a=>e.submit(1))},{default:(0,o.w5)((()=>[de])),_:1}))])),default:(0,o.w5)((()=>[(0,o.Wm)(f,{label:"APP ID"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.form.appid,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.appid=a),placeholder:"实例的 app id"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,{label:"TOKEN"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.form.token,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.token=a),placeholder:"实例的 token"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,{label:"适配器类型"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{modelValue:e.form.adapter,"onUpdate:modelValue":a[2]||(a[2]=a=>e.form.adapter=a)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.adapterType,((e,a)=>((0,o.wg)(),(0,o.j4)(v,{label:e,value:a,key:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(f,{label:"随启动开启"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{modelValue:e.form.is_start,"onUpdate:modelValue":a[3]||(a[3]=a=>e.form.is_start=a),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,{label:"可控实例"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{modelValue:e.form.is_main,"onUpdate:modelValue":a[4]||(a[4]=a=>e.form.is_main=a),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1}),e.form.is_main?((0,o.wg)(),(0,o.j4)(f,{key:0,label:"控制台群组ID"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.form.console_channel,"onUpdate:modelValue":a[5]||(a[5]=a=>e.form.console_channel=a),placeholder:"控制实例的群组"},null,8,["modelValue"])])),_:1})):(0,o.kq)("",!0),"tencent"===e.form.adapter?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(w,{"content-position":"left"},{default:(0,o.w5)((()=>[te])),_:1}),(0,o.Wm)(f,{label:"属性"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{modelValue:e.form.private,"onUpdate:modelValue":a[6]||(a[6]=a=>e.form.private=a)},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{label:0},{default:(0,o.w5)((()=>[le])),_:1}),(0,o.Wm)(h,{label:1},{default:(0,o.w5)((()=>[oe])),_:1})])),_:1},8,["modelValue"])])),_:1})],64)):(0,o.kq)("",!0),"mirai_api_http"===e.form.adapter?((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[(0,o.Wm)(w,{"content-position":"left"},{default:(0,o.w5)((()=>[ie])),_:1}),(0,o.Wm)(f,{label:"Host地址"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.form.mah_host,"onUpdate:modelValue":a[7]||(a[7]=a=>e.form.mah_host=a),placeholder:"MAH服务的地址，本地默认为 127.0.0.1"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,{label:"HTTP端口"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.form.mah_http_port,"onUpdate:modelValue":a[8]||(a[8]=a=>e.form.mah_http_port=a),placeholder:"MAH服务的HTTP端口"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,{label:"WS端口"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.form.mah_ws_port,"onUpdate:modelValue":a[9]||(a[9]=a=>e.form.mah_ws_port=a),placeholder:"MAH服务的Websocket端口"},null,8,["modelValue"])])),_:1})],64)):(0,o.kq)("",!0),"cq_http"===e.form.adapter?((0,o.wg)(),(0,o.iD)(o.HY,{key:3},[(0,o.Wm)(w,{"content-position":"left"},{default:(0,o.w5)((()=>[ne])),_:1}),(0,o.Wm)(f,{label:"Host地址"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.form.cq_host,"onUpdate:modelValue":a[10]||(a[10]=a=>e.form.cq_host=a),placeholder:"CQHTTP服务的地址，本地默认为 127.0.0.1"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,{label:"HTTP端口"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.form.cq_http_port,"onUpdate:modelValue":a[11]||(a[11]=a=>e.form.cq_http_port=a),placeholder:"CQHTTP服务的HTTP端口"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,{label:"WS端口"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.form.cq_ws_port,"onUpdate:modelValue":a[12]||(a[12]=a=>e.form.cq_ws_port=a),placeholder:"CQHTTP服务的Websocket端口"},null,8,["modelValue"])])),_:1})],64)):(0,o.kq)("",!0)])),_:1},8,["form"])])}var se=t(2482),ce=t(6520),pe=t(4180),me=t(8418),fe=function(e,a,t,l){var o,i=arguments.length,n=i<3?a:null===l?l=Object.getOwnPropertyDescriptor(a,t):l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,a,t,l);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(n=(i<3?o(n):i>3?o(a,t,n):o(a,t))||n);return i>3&&n&&Object.defineProperty(a,t,n),n};let ve=class extends ce.w3{constructor(...e){super(...e),(0,se.Z)(this,"table",void 0),(0,se.Z)(this,"dialog",void 0),(0,se.Z)(this,"adapterType",{tencent:"QQ-Bot",mirai_api_http:"Mirai-api-http",cq_http:"CQ-Http"}),(0,se.Z)(this,"form",{}),(0,se.Z)(this,"formType","add")}async loadList(){const e=await(0,pe.IX)();e&&this.table.setData(e.data)}addBot(){this.form={id:0,appid:"",token:"",private:0,adapter:"tencent",is_main:0,is_start:1,mah_host:"",mah_http_port:0,mah_ws_port:0,cq_host:"",cq_http_port:0,cq_ws_port:0},this.formType="add",this.dialog.show()}editBot(e){this.form=me.Z.deepCopy(e),this.formType="edit",this.dialog.show()}async closeBot(e){const a=await(0,pe.db)(e);a&&await this.table.executeLoad()}async runBot(e){const a=await(0,pe.jW)(e);a&&await this.table.executeLoad()}async deleteBot(e){const a=await(0,pe.pB)(e);a&&await this.table.executeLoad()}async submit(e){const a=await(0,pe.Cv)({...this.form,start:e});a&&(await this.table.executeLoad(),this.dialog.hide())}};ve=fe([(0,ce.Ei)({components:{VTable:Y.Z,VFormDialog:l.Z},computed:{table(){return this.$refs.table},dialog(){return this.$refs.dialog}},mounted(){this.table.setColumns({appid:"APP ID",running:{title:"运行状态",format:(e,a)=>`<span class="status status-${a.toString()}">${a?"运行中":"关闭"}</span>`},alive:{title:"在线状态",format:(e,a)=>`<span class="status status-${a.toString()}">${a?"在线":"离线"}</span>`},private:"属性",is_start:"随启动开启",is_main:"可控实例",console_channel:"控制台群组ID",adapter:{title:"适配器类型",format:(e,a)=>this.adapterType[a]}})}})],ve);var be=ve,_e=t(89);const we=(0,_e.Z)(be,[["render",ue]]);var he=we},1244:function(e,a,t){t.d(a,{os:function(){return f}});var l=t(3396),o=t(7139),i=t(4870),n=t(5994);const r=(0,n.o8)({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:(0,n.Cq)(String),default:"solid"}});var d=t(5989),u=t(6734);const s={name:"ElDivider"},c=(0,l.aZ)({...s,props:r,setup(e){const a=e,t=(0,u.s)("divider"),n=(0,l.Fl)((()=>t.cssVar({"border-style":a.borderStyle})));return(e,a)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,o.C_)([(0,i.SU)(t).b(),(0,i.SU)(t).m(e.direction)]),style:(0,o.j5)((0,i.SU)(n)),role:"separator"},[e.$slots.default&&"vertical"!==e.direction?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,o.C_)([(0,i.SU)(t).e("text"),(0,i.SU)(t).is(e.contentPosition)])},[(0,l.WI)(e.$slots,"default")],2)):(0,l.kq)("v-if",!0)],6))}});var p=(0,d.Z)(c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]),m=t(9015);const f=(0,m.nz)(p)},7219:function(e,a,t){t(1758)},8631:function(e,a,t){t.d(a,{OX:function(){return x}});var l=t(3396),o=t(4870),i=t(7139),n=t(9242),r=t(1015),d=t(2748),u=t(5994),s=t(2039),c=t(4961),p=t(6835),m=t(4419);const f=(0,u.o8)({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:s.AA,default:""},inactiveIcon:{type:s.AA,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:(0,u.Cq)(Function)},size:{type:String,validator:c.P},tabindex:{type:[String,Number]}}),v={[p.f_]:e=>(0,m.jn)(e)||(0,i.HD)(e)||(0,m.hj)(e),[p.O7]:e=>(0,m.jn)(e)||(0,i.HD)(e)||(0,m.hj)(e),[p.e_]:e=>(0,m.jn)(e)||(0,i.HD)(e)||(0,m.hj)(e)};var b=t(5989),_=t(95),w=t(6174),h=t(6734),y=t(7643),S=t(529),g=t(4620);const U=["onClick"],k=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],C=["aria-hidden"],V=["aria-hidden"],W=["aria-hidden"],B=["aria-hidden"],j={name:"ElSwitch"},q=(0,l.aZ)({...j,props:f,emits:v,setup(e,{expose:a,emit:t}){const u=e,s="ElSwitch",c=(0,l.FN)(),{formItem:f}=(0,_.A)(),v=(0,w.tH)(),b=(0,h.s)("switch");(0,y.A)({from:'"value"',replacement:'"model-value" or "v-model"',scope:s,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},(0,l.Fl)((()=>{var e;return!!(null==(e=c.vnode.props)?void 0:e.value)})));const{inputId:j}=(0,_.p)(u,{formItemContext:f}),q=(0,w.B4)((0,l.Fl)((()=>u.loading))),I=(0,o.iH)(!1!==u.modelValue),T=(0,o.iH)(),x=(0,o.iH)(),D=(0,l.Fl)((()=>[b.b(),b.m(v.value),b.is("disabled",q.value),b.is("checked",Z.value)])),H=(0,l.Fl)((()=>({width:(0,S.Nn)(u.width)})));(0,l.YP)((()=>u.modelValue),(()=>{I.value=!0})),(0,l.YP)((()=>u.value),(()=>{I.value=!1}));const P=(0,l.Fl)((()=>I.value?u.modelValue:u.value)),Z=(0,l.Fl)((()=>P.value===u.activeValue));[u.activeValue,u.inactiveValue].includes(P.value)||(t(p.f_,u.inactiveValue),t(p.O7,u.inactiveValue),t(p.e_,u.inactiveValue)),(0,l.YP)(Z,(e=>{var a;T.value.checked=e,u.validateEvent&&(null==(a=null==f?void 0:f.validate)||a.call(f,"change").catch((e=>(0,g.N)(e))))}));const z=()=>{const e=Z.value?u.inactiveValue:u.activeValue;t(p.f_,e),t(p.O7,e),t(p.e_,e),(0,l.Y3)((()=>{T.value.checked=Z.value}))},F=()=>{if(q.value)return;const{beforeChange:e}=u;if(!e)return void z();const a=e(),t=[(0,i.tI)(a),(0,m.jn)(a)].includes(!0);t||(0,g._)(s,"beforeChange must return type `Promise<boolean>` or `boolean`"),(0,i.tI)(a)?a.then((e=>{e&&z()})).catch((e=>{(0,g.N)(s,`some error occurred: ${e}`)})):a&&z()},A=(0,l.Fl)((()=>b.cssVarBlock({...u.activeColor?{"on-color":u.activeColor}:null,...u.inactiveColor?{"off-color":u.inactiveColor}:null,...u.borderColor?{"border-color":u.borderColor}:null}))),E=()=>{var e,a;null==(a=null==(e=T.value)?void 0:e.focus)||a.call(e)};return(0,l.bv)((()=>{T.value.checked=Z.value})),a({focus:E}),(e,a)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,i.C_)((0,o.SU)(D)),style:(0,i.j5)((0,o.SU)(A)),onClick:(0,n.iM)(F,["prevent"])},[(0,l._)("input",{id:(0,o.SU)(j),ref_key:"input",ref:T,class:(0,i.C_)((0,o.SU)(b).e("input")),type:"checkbox",role:"switch","aria-checked":(0,o.SU)(Z),"aria-disabled":(0,o.SU)(q),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:(0,o.SU)(q),tabindex:e.tabindex,onChange:z,onKeydown:(0,n.D2)(F,["enter"])},null,42,k),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,i.C_)([(0,o.SU)(b).e("label"),(0,o.SU)(b).em("label","left"),(0,o.SU)(b).is("active",!(0,o.SU)(Z))])},[e.inactiveIcon?((0,l.wg)(),(0,l.j4)((0,o.SU)(r.gn),{key:0},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.inactiveIcon)))])),_:1})):(0,l.kq)("v-if",!0),!e.inactiveIcon&&e.inactiveText?((0,l.wg)(),(0,l.iD)("span",{key:1,"aria-hidden":(0,o.SU)(Z)},(0,i.zw)(e.inactiveText),9,C)):(0,l.kq)("v-if",!0)],2)),(0,l._)("span",{ref_key:"core",ref:x,class:(0,i.C_)((0,o.SU)(b).e("core")),style:(0,i.j5)((0,o.SU)(H))},[e.inlinePrompt?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,i.C_)((0,o.SU)(b).e("inner"))},[e.activeIcon||e.inactiveIcon?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[e.activeIcon?((0,l.wg)(),(0,l.j4)((0,o.SU)(r.gn),{key:0,class:(0,i.C_)([(0,o.SU)(b).is("icon"),(0,o.SU)(Z)?(0,o.SU)(b).is("show"):(0,o.SU)(b).is("hide")])},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.activeIcon)))])),_:1},8,["class"])):(0,l.kq)("v-if",!0),e.inactiveIcon?((0,l.wg)(),(0,l.j4)((0,o.SU)(r.gn),{key:1,class:(0,i.C_)([(0,o.SU)(b).is("icon"),(0,o.SU)(Z)?(0,o.SU)(b).is("hide"):(0,o.SU)(b).is("show")])},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.inactiveIcon)))])),_:1},8,["class"])):(0,l.kq)("v-if",!0)],64)):e.activeText||e.inactiveIcon?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[e.activeText?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,i.C_)([(0,o.SU)(b).is("text"),(0,o.SU)(Z)?(0,o.SU)(b).is("show"):(0,o.SU)(b).is("hide")]),"aria-hidden":!(0,o.SU)(Z)},(0,i.zw)(e.activeText.substring(0,3)),11,V)):(0,l.kq)("v-if",!0),e.inactiveText?((0,l.wg)(),(0,l.iD)("span",{key:1,class:(0,i.C_)([(0,o.SU)(b).is("text"),(0,o.SU)(Z)?(0,o.SU)(b).is("hide"):(0,o.SU)(b).is("show")]),"aria-hidden":(0,o.SU)(Z)},(0,i.zw)(e.inactiveText.substring(0,3)),11,W)):(0,l.kq)("v-if",!0)],64)):(0,l.kq)("v-if",!0)],2)):(0,l.kq)("v-if",!0),(0,l._)("div",{class:(0,i.C_)((0,o.SU)(b).e("action"))},[e.loading?((0,l.wg)(),(0,l.j4)((0,o.SU)(r.gn),{key:0,class:(0,i.C_)((0,o.SU)(b).is("loading"))},{default:(0,l.w5)((()=>[(0,l.Wm)((0,o.SU)(d.gbz))])),_:1},8,["class"])):(0,l.kq)("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?(0,l.kq)("v-if",!0):((0,l.wg)(),(0,l.iD)("span",{key:1,class:(0,i.C_)([(0,o.SU)(b).e("label"),(0,o.SU)(b).em("label","right"),(0,o.SU)(b).is("active",(0,o.SU)(Z))])},[e.activeIcon?((0,l.wg)(),(0,l.j4)((0,o.SU)(r.gn),{key:0},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.activeIcon)))])),_:1})):(0,l.kq)("v-if",!0),!e.activeIcon&&e.activeText?((0,l.wg)(),(0,l.iD)("span",{key:1,"aria-hidden":!(0,o.SU)(Z)},(0,i.zw)(e.activeText),9,B)):(0,l.kq)("v-if",!0)],2))],14,U))}});var I=(0,b.Z)(q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]),T=t(9015);const x=(0,T.nz)(I)},7029:function(e,a,t){t(1758)}}]);
//# sourceMappingURL=164.970a8b60.js.map